function aa(){return function(){}}function ba(a){return function(d){this[a]=d}}function ca(a){return function(){return this[a]}}function k(a){return function(){return a}}var l,da=da||{},n=this;function ea(a,d){for(var e=a.split("."),f=d||n,g;g=e.shift();)if(f[g])f=f[g];else return null;return f}function ga(){}function ha(a){a.A=function(){return a.We||(a.We=new a)}}
function ia(a){var d=typeof a;if(d=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(d=="function"&&typeof a.call=="undefined")return"object";return d}function ja(a){return ia(a)=="array"}function ka(a){var d=ia(a);return d=="array"||d=="object"&&typeof a.length=="number"}function p(a){return typeof a=="string"}function la(a){return typeof a=="number"}function ma(a){return ia(a)=="function"}function na(a){a=ia(a);return a=="object"||a=="array"||a=="function"}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),qa=0;function ra(a,d){var e=d||n;if(arguments.length>2){var f=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(g,f);return a.apply(e,g)}}else return function(){return a.apply(e,arguments)}}
function sa(a){var d=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);e.unshift.apply(e,d);return a.apply(this,e)}}var ta=Date.now||function(){return+new Date};function r(a,d){function e(){}e.prototype=d.prototype;a.a=d.prototype;a.prototype=new e;a.prototype.constructor=a};function ua(a){for(var d=1;d<arguments.length;d++){var e=String(arguments[d]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a}function xa(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function ya(a){return/^[\s\xa0]*$/.test(a)}function za(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function Aa(a,d){if(d)return a.replace(Ba,"&amp;").replace(Ca,"&lt;").replace(Da,"&gt;").replace(Ea,"&quot;");else{if(!Fa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Ba,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ca,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Da,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ea,"&quot;");return a}}var Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Fa=/[&<>\"]/;
function Ga(a,d){for(var e=d.length,f=0;f<e;f++){var g=e==1?d:d.charAt(f);if(a.charAt(0)==g&&a.charAt(a.length-1)==g)return a.substring(1,a.length-1)}return a}function Ha(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ia(a,d){for(var e=0,f=za(String(a)).split("."),g=za(String(d)).split("."),h=Math.max(f.length,g.length),m=0;e==0&&m<h;m++){var o=f[m]||"",q=g[m]||"",s=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var t=s.exec(o)||["","",""],C=u.exec(q)||["","",""];if(t[0].length==0&&C[0].length==0)break;e=Ja(t[1].length==0?0:parseInt(t[1],10),C[1].length==0?0:parseInt(C[1],10))||Ja(t[2].length==0,C[2].length==0)||Ja(t[2],C[2])}while(e==0)}return e}
function Ja(a,d){if(a<d)return-1;else if(a>d)return 1;return 0};var Ka,La,Ma,Na,Oa,Pa,Qa;function Ta(){return n.navigator?n.navigator.userAgent:null}function Ua(){return n.navigator}Oa=Na=Ma=La=Ka=false;var Va;if(Va=Ta()){var Wa=Ua();Ka=Va.indexOf("Opera")==0;La=!Ka&&Va.indexOf("MSIE")!=-1;Na=(Ma=!Ka&&Va.indexOf("WebKit")!=-1)&&Va.indexOf("Mobile")!=-1;Oa=!Ka&&!Ma&&Wa.product=="Gecko"}var Xa=Ka,A=La,B=Oa,Ya=Ma,Za=Na,$a,ab=Ua();$a=ab&&ab.platform||"";Pa=$a.indexOf("Mac")!=-1;Qa=$a.indexOf("Win")!=-1;
var bb=Pa,db=!!Ua()&&(Ua().appVersion||"").indexOf("X11")!=-1,eb;a:{var fb="",gb;if(Xa&&n.opera){var hb=n.opera.version;fb=typeof hb=="function"?hb():hb}else{if(B)gb=/rv\:([^\);]+)(\)|;)/;else if(A)gb=/MSIE\s+([^\);]+)(\)|;)/;else if(Ya)gb=/WebKit\/(\S+)/;if(gb){var ib=gb.exec(Ta());fb=ib?ib[1]:""}}if(A){var jb,kb=n.document;jb=kb?kb.documentMode:undefined;if(jb>parseFloat(fb)){eb=String(jb);break a}}eb=fb}var lb={};function mb(a){return lb[a]||(lb[a]=Ia(eb,a)>=0)};function nb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}r(nb,Error);nb.prototype.name="CustomError";function ob(a,d){d.unshift(a);nb.call(this,ua.apply(null,d));d.shift();this.Bf=a}r(ob,nb);ob.prototype.name="AssertionError";function pb(a,d){if(!a){var e=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(d){f+=": "+d;var g=e}throw new ob(""+f,g||[]);}return a}function qb(a){throw new ob("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var rb=Array.prototype,sb=rb.indexOf?function(a,d,e){pb(a.length!=null);return rb.indexOf.call(a,d,e)}:function(a,d,e){e=e==null?0:e<0?Math.max(0,a.length+e):e;if(p(a)){if(!p(d)||d.length!=1)return-1;return a.indexOf(d,e)}for(e=e;e<a.length;e++)if(e in a&&a[e]===d)return e;return-1},tb=rb.forEach?function(a,d,e){pb(a.length!=null);rb.forEach.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=p(a)?a.split(""):a,h=0;h<f;h++)h in g&&d.call(e,g[h],h,a)},ub=rb.filter?function(a,d,e){pb(a.length!=null);
return rb.filter.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=[],h=0,m=p(a)?a.split(""):a,o=0;o<f;o++)if(o in m){var q=m[o];if(d.call(e,q,o,a))g[h++]=q}return g},vb=rb.map?function(a,d,e){pb(a.length!=null);return rb.map.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=Array(f),h=p(a)?a.split(""):a,m=0;m<f;m++)if(m in h)g[m]=d.call(e,h[m],m,a);return g},wb=rb.every?function(a,d,e){pb(a.length!=null);return rb.every.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=p(a)?a.split(""):a,h=0;h<f;h++)if(h in
g&&!d.call(e,g[h],h,a))return false;return true};function xb(a,d){return sb(a,d)>=0}function yb(a,d){var e=sb(a,d),f;if(f=e>=0){pb(a.length!=null);rb.splice.call(a,e,1)}return f}function zb(){return rb.concat.apply(rb,arguments)}function Ab(a){if(ja(a))return zb(a);else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e];return d}}
function Bb(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(ja(e)||(f=ka(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var g=a.length,h=e.length,m=0;m<h;m++)a[g+m]=e[m];else a.push(e)}}function Db(a){pb(a.length!=null);return rb.splice.apply(a,Eb(arguments,1))}function Eb(a,d,e){pb(a.length!=null);return arguments.length<=2?rb.slice.call(a,d):rb.slice.call(a,d,e)};var Fb=[];var Gb,Hb=!A||mb("9"),Ib=A&&!mb("8");function Jb(){}Jb.prototype.yc=false;Jb.prototype.L=function(){if(!this.yc){this.yc=true;this.f()}};Jb.prototype.f=aa();function Kb(a,d){this.type=a;this.currentTarget=this.target=d}r(Kb,Jb);l=Kb.prototype;l.f=function(){delete this.type;delete this.target;delete this.currentTarget};l.Ua=false;l.Ib=true;l.stopPropagation=function(){this.Ua=true};l.preventDefault=function(){this.Ib=false};function Lb(a,d){a&&this.jb(a,d)}r(Lb,Kb);var Mb=[1,4,2];l=Lb.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=false;l.altKey=false;l.shiftKey=false;l.metaKey=false;l.he=false;l.ha=null;
l.jb=function(a,d){var e=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=d;var f=a.relatedTarget;if(f){if(B)try{f=f.nodeName&&f}catch(g){f=null}}else if(e=="mouseover")f=a.fromElement;else if(e=="mouseout")f=a.toElement;this.relatedTarget=f;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(e=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.he=bb?a.metaKey:a.ctrlKey;this.ha=a;delete this.Ib;delete this.Ua};function Nb(a,d){return Hb?a.ha.button==d:a.type=="click"?d==0:!!(a.ha.button&Mb[d])}
l.stopPropagation=function(){Lb.a.stopPropagation.call(this);if(this.ha.stopPropagation)this.ha.stopPropagation();else this.ha.cancelBubble=true};l.preventDefault=function(){Lb.a.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Ib)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(d){}}};l.f=function(){Lb.a.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.ha=null};function Ob(){}var Pb=0;l=Ob.prototype;l.key=0;l.ob=false;l.rd=false;l.jb=function(a,d,e,f,g,h){if(ma(a))this.Nd=true;else if(a&&a.handleEvent&&ma(a.handleEvent))this.Nd=false;else throw Error("Invalid listener argument");this.lb=a;this.ie=d;this.src=e;this.type=f;this.capture=!!g;this.ac=h;this.rd=false;this.key=++Pb;this.ob=false};l.handleEvent=function(a){if(this.Nd)return this.lb.call(this.ac||this.src,a);return this.lb.handleEvent.call(this.lb,a)};function Qb(a,d){this.Xd=d;this.Ka=[];if(a>this.Xd)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var e=0;e<a;e++)this.Ka.push(this.na?this.na():{})}r(Qb,Jb);Qb.prototype.na=null;Qb.prototype.wd=null;function Rb(a){if(a.Ka.length)return a.Ka.pop();return a.na?a.na():{}}function Sb(a,d){a.Ka.length<a.Xd?a.Ka.push(d):Tb(a,d)}function Tb(a,d){if(a.wd)a.wd(d);else if(na(d))if(ma(d.L))d.L();else for(var e in d)delete d[e]}
Qb.prototype.f=function(){Qb.a.f.call(this);for(var a=this.Ka;a.length;)Tb(this,a.pop());delete this.Ka};var Ub;var Vb=(Ub="ScriptEngine"in n&&n.ScriptEngine()=="JScript")?n.ScriptEngineMajorVersion()+"."+n.ScriptEngineMinorVersion()+"."+n.ScriptEngineBuildVersion():"0";var Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc;
(function(){function a(){return{S:0,ga:0}}function d(){return[]}function e(){function C(z){return m.call(C.src,C.key,z)}return C}function f(){return new Ob}function g(){return new Lb}var h=Ub&&!(Ia(Vb,"5.7")>=0),m;ac=function(C){m=C};if(h){Wb=function(){return Rb(o)};Xb=function(C){Sb(o,C)};Yb=function(){return Rb(q)};Zb=function(C){Sb(q,C)};$b=function(){return Rb(s)};bc=function(){Sb(s,e())};cc=function(){return Rb(u)};dc=function(C){Sb(u,C)};ec=function(){return Rb(t)};fc=function(C){Sb(t,C)};
var o=new Qb(0,600);o.na=a;var q=new Qb(0,600);q.na=d;var s=new Qb(0,600);s.na=e;var u=new Qb(0,600);u.na=f;var t=new Qb(0,600);t.na=g}else{Wb=a;Xb=ga;Yb=d;Zb=ga;$b=e;bc=ga;cc=f;dc=ga;ec=g;fc=ga}})();function gc(a,d,e){for(var f in a)d.call(e,a[f],f,a)}function jc(a){var d=[],e=0;for(var f in a)d[e++]=a[f];return d}function kc(a){var d=[],e=0;for(var f in a)d[e++]=f;return d}function lc(a){for(var d in a)return false;return true}function mc(a,d){var e;if(e=d in a)delete a[d];return e}function nc(a,d,e){if(d in a)throw Error('The object already contains the key "'+d+'"');a[d]=e}var oc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function pc(a){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<oc.length;g++){d=oc[g];if(Object.prototype.hasOwnProperty.call(e,d))a[d]=e[d]}}}function qc(){var a=arguments.length;if(a==1&&ja(arguments[0]))return qc.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<a;e+=2)d[arguments[e]]=arguments[e+1];return d}
function rc(){var a=arguments.length;if(a==1&&ja(arguments[0]))return rc.apply(null,arguments[0]);for(var d={},e=0;e<a;e++)d[arguments[e]]=true;return d};var sc={},tc={},uc={},xc={};
function D(a,d,e,f,g){if(d)if(ja(d)){for(var h=0;h<d.length;h++)D(a,d[h],e,f,g);return null}else{f=!!f;var m=tc;d in m||(m[d]=Wb());m=m[d];if(!(f in m)){m[f]=Wb();m.S++}m=m[f];var o=oa(a),q;m.ga++;if(m[o]){q=m[o];for(h=0;h<q.length;h++){m=q[h];if(m.lb==e&&m.ac==g){if(m.ob)break;return q[h].key}}}else{q=m[o]=Yb();m.S++}h=$b();h.src=a;m=cc();m.jb(e,h,a,d,f,g);e=m.key;h.key=e;q.push(m);sc[e]=m;uc[o]||(uc[o]=Yb());uc[o].push(m);if(a.addEventListener){if(a==n||!a.vd)a.addEventListener(d,h,f)}else a.attachEvent(yc(d),
h);return e}else throw Error("Invalid event type");}function zc(a,d,e,f,g){if(ja(d)){for(var h=0;h<d.length;h++)zc(a,d[h],e,f,g);return null}f=!!f;a=Ac(a,d,f);if(!a)return false;for(h=0;h<a.length;h++)if(a[h].lb==e&&a[h].capture==f&&a[h].ac==g)return Bc(a[h].key);return false}
function Bc(a){if(!sc[a])return false;var d=sc[a];if(d.ob)return false;var e=d.src,f=d.type,g=d.ie,h=d.capture;if(e.removeEventListener){if(e==n||!e.vd)e.removeEventListener(f,g,h)}else e.detachEvent&&e.detachEvent(yc(f),g);e=oa(e);g=tc[f][h][e];if(uc[e]){var m=uc[e];yb(m,d);m.length==0&&delete uc[e]}d.ob=true;g.be=true;Cc(f,h,e,g);delete sc[a];return true}
function Cc(a,d,e,f){if(!f.gc)if(f.be){for(var g=0,h=0;g<f.length;g++)if(f[g].ob){var m=f[g].ie;m.src=null;bc(m);dc(f[g])}else{if(g!=h)f[h]=f[g];h++}f.length=h;f.be=false;if(h==0){Zb(f);delete tc[a][d][e];tc[a][d].S--;if(tc[a][d].S==0){Xb(tc[a][d]);delete tc[a][d];tc[a].S--}if(tc[a].S==0){Xb(tc[a]);delete tc[a]}}}}
function Dc(a,d,e){var f=0,g=a==null,h=d==null,m=e==null;e=!!e;if(g)gc(uc,function(q){for(var s=q.length-1;s>=0;s--){var u=q[s];if((h||d==u.type)&&(m||e==u.capture)){Bc(u.key);f++}}});else{a=oa(a);if(uc[a]){a=uc[a];for(g=a.length-1;g>=0;g--){var o=a[g];if((h||d==o.type)&&(m||e==o.capture)){Bc(o.key);f++}}}}return f}function Ac(a,d,e){var f=tc;if(d in f){f=f[d];if(e in f){f=f[e];a=oa(a);if(f[a])return f[a]}}return null}
var Ec="click",Fc="mouseover",Gc="mouseout",Hc="keydown",Ic="keyup",Jc="blur",Kc="focus";function yc(a){if(a in xc)return xc[a];return xc[a]="on"+a}function Lc(a,d,e,f,g){var h=1;d=oa(d);if(a[d]){a.ga--;a=a[d];if(a.gc)a.gc++;else a.gc=1;try{for(var m=a.length,o=0;o<m;o++){var q=a[o];if(q&&!q.ob)h&=Mc(q,g)!==false}}finally{a.gc--;Cc(e,f,d,a)}}return Boolean(h)}function Mc(a,d){var e=a.handleEvent(d);a.rd&&Bc(a.key);return e}
function Nc(a,d){if(!sc[a])return true;var e=sc[a],f=e.type,g=tc;if(!(f in g))return true;g=g[f];var h,m;if(Gb===undefined)Gb=A&&!n.addEventListener;if(Gb){h=d||ea("window.event");var o=true in g,q=false in g;if(o){if(h.keyCode<0||h.returnValue!=undefined)return true;a:{var s=false;if(h.keyCode==0)try{h.keyCode=-1;break a}catch(u){s=true}if(s||h.returnValue==undefined)h.returnValue=true}}s=ec();s.jb(h,this);h=true;try{if(o){for(var t=Yb(),C=s.currentTarget;C;C=C.parentNode)t.push(C);m=g[true];m.ga=
m.S;for(var z=t.length-1;!s.Ua&&z>=0&&m.ga;z--){s.currentTarget=t[z];h&=Lc(m,t[z],f,true,s)}if(q){m=g[false];m.ga=m.S;for(z=0;!s.Ua&&z<t.length&&m.ga;z++){s.currentTarget=t[z];h&=Lc(m,t[z],f,false,s)}}}else h=Mc(e,s)}finally{if(t){t.length=0;Zb(t)}s.L();fc(s)}return h}f=new Lb(d,this);try{h=Mc(e,f)}finally{f.L()}return h}ac(Nc);Fb[Fb.length]=function(a){Nc=a(Nc);ac(Nc)};var Oc,Pc=!A||mb("9"),Qc=A&&!mb("9");function Rc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Sc(a){var d=Rc(a),e;e=Eb(arguments,1);for(var f=0,g=0;g<e.length;g++)if(!xb(d,e[g])){d.push(e[g]);f++}e=f==e.length;a.className=d.join(" ");return e}function Tc(a){var d=Rc(a),e;e=Eb(arguments,1);for(var f=0,g=0;g<d.length;g++)if(xb(e,d[g])){Db(d,g--,1);f++}e=f==e.length;a.className=d.join(" ");return e};function Uc(a,d){this.x=a!==undefined?a:0;this.y=d!==undefined?d:0}Uc.prototype.Fa=function(){return new Uc(this.x,this.y)};Uc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Vc(a,d){return new Uc(a.x-d.x,a.y-d.y)};function Wc(a,d){this.width=a;this.height=d}function Xc(a,d){if(a==d)return true;if(!a||!d)return false;return a.width==d.width&&a.height==d.height}Wc.prototype.Fa=function(){return new Wc(this.width,this.height)};Wc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};Wc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Wc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Yc(a){return a?new Zc($c(a)):Oc||(Oc=new Zc)}function E(a){return p(a)?document.getElementById(a):a}
function ad(a,d,e,f){a=f||a;d=d&&d!="*"?d.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!Ya||bd(document)||mb("528"))&&(d||e))return a.querySelectorAll(d+(e?"."+e:""));if(e&&a.getElementsByClassName){a=a.getElementsByClassName(e);if(d){f={};for(var g=0,h=0,m;m=a[h];h++)if(d==m.nodeName)f[g++]=m;f.length=g;return f}else return a}a=a.getElementsByTagName(d||"*");if(e){f={};for(h=g=0;m=a[h];h++){d=m.className;if(typeof d.split=="function"&&xb(d.split(/\s+/),e))f[g++]=m}f.length=g;return f}else return a}
function cd(a,d){gc(d,function(e,f){if(f=="style")a.style.cssText=e;else if(f=="class")a.className=e;else if(f=="for")a.htmlFor=e;else if(f in dd)a.setAttribute(dd[f],e);else a[f]=e})}var dd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function ed(a){var d=a.document;if(Ya&&!mb("500")&&!Za){if(typeof a.innerHeight=="undefined")a=window;d=a.innerHeight;var e=a.document.documentElement.scrollHeight;if(a==a.top)if(e<d)d-=15;return new Wc(a.innerWidth,d)}a=bd(d);if(Xa&&!mb("9.50"))a=false;a=a?d.documentElement:d.body;return new Wc(a.clientWidth,a.clientHeight)}function fd(a,d,e,f){function g(m){if(m)d.appendChild(p(m)?a.createTextNode(m):m)}for(f=f;f<e.length;f++){var h=e[f];ka(h)&&!(na(h)&&h.nodeType>0)?tb(gd(h)?Ab(h):h,g):g(h)}}
function bd(a){return a.compatMode=="CSS1Compat"}function hd(a){for(var d;d=a.firstChild;)a.removeChild(d)}function jd(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function kd(a){for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function ld(a,d){if(a.contains&&d.nodeType==1)return a==d||a.contains(d);if(typeof a.compareDocumentPosition!="undefined")return a==d||Boolean(a.compareDocumentPosition(d)&16);for(;d&&a!=d;)d=d.parentNode;return d==a}
function $c(a){return a.nodeType==9?a:a.ownerDocument||a.document}function md(a,d){if("textContent"in a)a.textContent=d;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=d}else{hd(a);a.appendChild($c(a).createTextNode(d))}}var nd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},od={IMG:" ",BR:"\n"};function pd(a){var d=a.getAttributeNode("tabindex");if(d&&d.specified){a=a.tabIndex;return la(a)&&a>=0}return false}
function qd(a){if(Qc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var d=[];rd(a,d,true);a=d.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");A||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function rd(a,d,e){if(!(a.nodeName in nd))if(a.nodeType==3)e?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else if(a.nodeName in od)d.push(od[a.nodeName]);else for(a=a.firstChild;a;){rd(a,d,e);a=a.nextSibling}}
function gd(a){if(a&&typeof a.length=="number")if(na(a))return typeof a.item=="function"||typeof a.item=="string";else if(ma(a))return typeof a.item=="function";return false}function Zc(a){this.p=a||n.document||document}l=Zc.prototype;l.M=Yc;function sd(a){return a.p}l.d=function(a){return p(a)?this.p.getElementById(a):a};
l.k=function(){var a=this.p,d=arguments,e=d[0],f=d[1];if(!Pc&&f&&(f.name||f.type)){e=["<",e];f.name&&e.push(' name="',Aa(f.name),'"');if(f.type){e.push(' type="',Aa(f.type),'"');var g={};pc(g,f);f=g;delete f.type}e.push(">");e=e.join("")}e=a.createElement(e);if(f)if(p(f))e.className=f;else ja(f)?Sc.apply(null,[e].concat(f)):cd(e,f);d.length>2&&fd(a,e,d,2);return e};l.createElement=function(a){return this.p.createElement(a)};l.createTextNode=function(a){return this.p.createTextNode(a)};
function td(a){a=!Ya&&bd(a.p)?a.p.documentElement:a.p.body;return new Uc(a.scrollLeft,a.scrollTop)}l.appendChild=function(a,d){a.appendChild(d)};l.je=hd;l.removeNode=jd;l.Cd=kd;l.contains=ld;function ud(a,d,e,f){this.top=a;this.right=d;this.bottom=e;this.left=f}ud.prototype.Fa=function(){return new ud(this.top,this.right,this.bottom,this.left)};ud.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};ud.prototype.contains=function(a){return!this||!a?false:a instanceof ud?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function vd(a,d,e,f){this.left=a;this.top=d;this.width=e;this.height=f}vd.prototype.Fa=function(){return new vd(this.left,this.top,this.width,this.height)};vd.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
vd.prototype.contains=function(a){return a instanceof vd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function wd(a,d){var e=$c(a);if(e.defaultView&&e.defaultView.getComputedStyle)if(e=e.defaultView.getComputedStyle(a,""))return e[d];return null}function xd(a,d){return wd(a,d)||(a.currentStyle?a.currentStyle[d]:null)||a.style[d]}function yd(a,d,e){var f,g=B&&(bb||db)&&mb("1.9");if(d instanceof Uc){f=d.x;d=d.y}else{f=d;d=e}a.style.left=zd(f,g);a.style.top=zd(d,g)}function Ad(a){a=a?a.nodeType==9?a:$c(a):document;var d;if(d=A){d=Yc(a);d=!bd(d.p)}if(d)return a.body;return a.documentElement}
function Bd(a){var d=a.getBoundingClientRect();if(A){a=a.ownerDocument;d.left-=a.documentElement.clientLeft+a.body.clientLeft;d.top-=a.documentElement.clientTop+a.body.clientTop}return d}
function Cd(a){if(A)return a.offsetParent;var d=$c(a),e=xd(a,"position"),f=e=="fixed"||e=="absolute";for(a=a.parentNode;a&&a!=d;a=a.parentNode){e=xd(a,"position");f=f&&e=="static"&&a!=d.documentElement&&a!=d.body;if(!f&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||e=="fixed"||e=="absolute"))return a}return null}
function Dd(a){var d=new ud(0,Infinity,Infinity,0),e=Yc(a),f=e.p.body,g=!Ya&&bd(e.p)?e.p.documentElement:e.p.body,h;for(a=a;a=Cd(a);)if((!A||a.clientWidth!=0)&&(!Ya||a.clientHeight!=0||a!=f)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&xd(a,"overflow")!="visible"){var m=Ed(a),o;o=a;if(B&&!mb("1.9")){var q=parseFloat(wd(o,"borderLeftWidth"));if(Fd(o)){var s=o.offsetWidth-o.clientWidth-q-parseFloat(wd(o,"borderRightWidth"));q+=s}o=new Uc(q,parseFloat(wd(o,"borderTopWidth")))}else o=
new Uc(o.clientLeft,o.clientTop);m.x+=o.x;m.y+=o.y;d.top=Math.max(d.top,m.y);d.right=Math.min(d.right,m.x+a.clientWidth);d.bottom=Math.min(d.bottom,m.y+a.clientHeight);d.left=Math.max(d.left,m.x);h=h||a!=g}f=g.scrollLeft;g=g.scrollTop;if(Ya){d.left+=f;d.top+=g}else{d.left=Math.max(d.left,f);d.top=Math.max(d.top,g)}if(!h||Ya){d.right+=f;d.bottom+=g}e=ed(e.p.parentWindow||e.p.defaultView||window);d.right=Math.min(d.right,f+e.width);d.bottom=Math.min(d.bottom,g+e.height);return d.top>=0&&d.left>=0&&
d.bottom>d.top&&d.right>d.left?d:null}
function Ed(a){var d,e=$c(a),f=xd(a,"position"),g=B&&e.getBoxObjectFor&&!a.getBoundingClientRect&&f=="absolute"&&(d=e.getBoxObjectFor(a))&&(d.screenX<0||d.screenY<0),h=new Uc(0,0),m=Ad(e);if(a==m)return h;if(a.getBoundingClientRect){d=Bd(a);a=td(Yc(e));h.x=d.left+a.x;h.y=d.top+a.y}else if(e.getBoxObjectFor&&!g){d=e.getBoxObjectFor(a);a=e.getBoxObjectFor(m);h.x=d.screenX-a.screenX;h.y=d.screenY-a.screenY}else{d=a;do{h.x+=d.offsetLeft;h.y+=d.offsetTop;if(d!=a){h.x+=d.clientLeft||0;h.y+=d.clientTop||
0}if(Ya&&xd(d,"position")=="fixed"){h.x+=e.body.scrollLeft;h.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=a);if(Xa||Ya&&f=="absolute")h.y-=e.body.offsetTop;for(d=a;(d=Cd(d))&&d!=e.body&&d!=m;){h.x-=d.scrollLeft;if(!Xa||d.tagName!="TR")h.y-=d.scrollTop}}return h}function Gd(a,d,e){var f=Ed(a);if(d instanceof Uc){e=d.y;d=d.x}yd(a,a.offsetLeft+(d-f.x),a.offsetTop+(e-f.y))}
function Hd(a,d,e){if(d instanceof Wc){e=d.height;d=d.width}else{if(e==undefined)throw Error("missing height argument");e=e}a.style.width=zd(d,true);a.style.height=zd(e,true)}function zd(a,d){if(typeof a=="number")a=(d?Math.round(a):a)+"px";return a}
function Id(a){var d=Xa&&!mb("10");if(xd(a,"display")!="none")return d?new Wc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new Wc(a.offsetWidth,a.offsetHeight);var e=a.style,f=e.display,g=e.visibility,h=e.position;e.visibility="hidden";e.position="absolute";e.display="inline";if(d){d=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{d=a.offsetWidth;a=a.offsetHeight}e.display=f;e.position=h;e.visibility=g;return new Wc(d,a)}
function Jd(a){var d=Ed(a);a=Id(a);return new vd(d.x,d.y,a.width,a.height)}function Kd(a,d){a.style.display=d?"":"none"}function Fd(a){return"rtl"==xd(a,"direction")}var Ld=B?"MozUserSelect":Ya?"WebkitUserSelect":null;function Md(a,d,e){e=!e?a.getElementsByTagName("*"):null;if(Ld){d=d?"none":"";a.style[Ld]=d;if(e){a=0;for(var f;f=e[a];a++)f.style[Ld]=d}}else if(A||Xa){d=d?"on":"";a.setAttribute("unselectable",d);if(e)for(a=0;f=e[a];a++)f.setAttribute("unselectable",d)}}var Nd={thin:2,medium:4,thick:6};
function Od(a,d){if((a.currentStyle?a.currentStyle[d+"Style"]:null)=="none")return 0;var e=a.currentStyle?a.currentStyle[d+"Width"]:null;if(e in Nd)return Nd[e];var f;if(/^\d+px?$/.test(e))f=parseInt(e,10);else{f=a.style.left;var g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=e;e=a.style.pixelLeft;a.style.left=f;a.runtimeStyle.left=g;f=e}return f};function Pd(){}r(Pd,Jb);l=Pd.prototype;l.vd=true;l.kc=null;l.cd=ba("kc");l.addEventListener=function(a,d,e,f){D(this,a,d,e,f)};l.removeEventListener=function(a,d,e,f){zc(this,a,d,e,f)};
l.dispatchEvent=function(a){a=a;if(p(a))a=new Kb(a,this);else if(a instanceof Kb)a.target=a.target||this;else{var d=a;a=new Kb(a.type,this);pc(a,d)}d=1;var e,f=a.type,g=tc;if(f in g){g=g[f];f=true in g;var h;if(f){e=[];for(h=this;h;h=h.kc)e.push(h);h=g[true];h.ga=h.S;for(var m=e.length-1;!a.Ua&&m>=0&&h.ga;m--){a.currentTarget=e[m];d&=Lc(h,e[m],a.type,true,a)&&a.Ib!=false}}if(false in g){h=g[false];h.ga=h.S;if(f)for(m=0;!a.Ua&&m<e.length&&h.ga;m++){a.currentTarget=e[m];d&=Lc(h,e[m],a.type,false,a)&&
a.Ib!=false}else for(e=this;!a.Ua&&e&&h.ga;e=e.kc){a.currentTarget=e;d&=Lc(h,e,a.type,false,a)&&a.Ib!=false}}a=Boolean(d)}else a=true;return a};l.f=function(){Pd.a.f.call(this);Dc(this);this.kc=null};function Qd(a){this.ab=a||window;this.fc=D(this.ab,"resize",this.Se,false,this);this.mc=ed(this.ab||window);if(Ya&&Qa||Xa&&this.ab.self!=this.ab.top)this.rc=window.setInterval(ra(this.td,this),Rd)}r(Qd,Pd);var Rd=500;l=Qd.prototype;l.fc=null;l.ab=null;l.mc=null;l.rc=null;l.f=function(){Qd.a.f.call(this);if(this.fc){Bc(this.fc);this.fc=null}if(this.rc){window.clearInterval(this.rc);this.rc=null}this.mc=this.ab=null};l.Se=function(){this.td()};
l.td=function(){var a=ed(this.ab||window);if(!Xc(a,this.mc)){this.mc=a;this.dispatchEvent("resize")}};function Sd(a){this.c=a;this.Ud=D(this.c,B?"DOMMouseScroll":"mousewheel",this)}r(Sd,Pd);var Td="mousewheel";
Sd.prototype.handleEvent=function(a){var d=0,e=0,f=0;a=a.ha;if(a.type=="mousewheel"){e=1;if(A||Ya&&(Qa||mb("532.0")))e=40;f=-a.wheelDelta/e;if(a.wheelDeltaX!==undefined){d=-a.wheelDeltaX/e;e=-a.wheelDeltaY/e}else e=f}else{f=a.detail;if(f>100)f=3;else if(f<-100)f=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)d=f;else e=f}if(la(this.Yd))d=Math.min(Math.max(d,-this.Yd),this.Yd);if(la(this.Zd))e=Math.min(Math.max(e,-this.Zd),this.Zd);d=new Ud(f,a,d,e);try{this.dispatchEvent(d)}finally{d.L()}};
Sd.prototype.f=function(){Sd.a.f.call(this);Bc(this.Ud);delete this.Ud};function Ud(a,d,e,f){d&&this.jb(d,void 0);this.type=Td;this.detail=a;this.xf=e;this.Fe=f}r(Ud,Lb);function Vd(a,d,e,f,g){if(!A&&!(Ya&&mb("525")))return true;if(bb&&g)return Wd(a);if(g&&!f)return false;if(!e&&(d==17||d==18))return false;if(A&&f&&d==a)return false;switch(a){case 13:return true;case 27:return!Ya}return Wd(a)}
function Wd(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(Ya&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};function Xd(a,d){a&&Yd(this,a,d)}r(Xd,Pd);l=Xd.prototype;l.c=null;l.dc=null;l.Rc=null;l.ec=null;l.ya=-1;l.wa=-1;
var Zd={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},$d={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ae={61:187,
59:186},be=A||Ya&&mb("525");l=Xd.prototype;l.hb=function(a){if(Ya&&(this.ya==17&&!a.ctrlKey||this.ya==18&&!a.altKey))this.wa=this.ya=-1;if(be&&!Vd(a.keyCode,this.ya,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.wa=B&&a.keyCode in ae?ae[a.keyCode]:a.keyCode};l.Pe=function(){this.wa=this.ya=-1};
l.handleEvent=function(a){var d=a.ha,e,f;if(A&&a.type=="keypress"){e=this.wa;f=e!=13&&e!=27?d.keyCode:0}else if(Ya&&a.type=="keypress"){e=this.wa;f=d.charCode>=0&&d.charCode<63232&&Wd(e)?d.charCode:0}else if(Xa){e=this.wa;f=Wd(e)?d.keyCode:0}else{e=d.keyCode||this.wa;f=d.charCode||0;if(bb&&f==63&&!e)e=191}var g=e,h=d.keyIdentifier;if(e)if(e>=63232&&e in Zd)g=Zd[e];else{if(e==25&&a.shiftKey)g=9}else if(h&&h in $d)g=$d[h];a=g==this.ya;this.ya=g;d=new ce(g,f,a,d);try{this.dispatchEvent(d)}finally{d.L()}};
l.d=ca("c");function Yd(a,d,e){a.ec&&a.detach();a.c=d;a.dc=D(a.c,"keypress",a,e);a.Rc=D(a.c,Hc,a.hb,e,a);a.ec=D(a.c,Ic,a.Pe,e,a)}l.detach=function(){if(this.dc){Bc(this.dc);Bc(this.Rc);Bc(this.ec);this.ec=this.Rc=this.dc=null}this.c=null;this.wa=this.ya=-1};l.f=function(){Xd.a.f.call(this);this.detach()};function ce(a,d,e,f){f&&this.jb(f,void 0);this.type="key";this.keyCode=a;this.charCode=d;this.repeat=e}r(ce,Lb);function de(a,d){this.Bb=a||1;this.Rb=d||ee;this.xc=ra(this.pf,this);this.Uc=ta()}r(de,Pd);de.prototype.enabled=false;var ee=n.window;l=de.prototype;l.u=null;l.setInterval=function(a){this.Bb=a;if(this.u&&this.enabled){this.stop();this.start()}else this.u&&this.stop()};l.pf=function(){if(this.enabled){var a=ta()-this.Uc;if(a>0&&a<this.Bb*0.8)this.u=this.Rb.setTimeout(this.xc,this.Bb-a);else{this.dispatchEvent(fe);if(this.enabled){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ta()}}}};
l.start=function(){this.enabled=true;if(!this.u){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ta()}};l.stop=function(){this.enabled=false;if(this.u){this.Rb.clearTimeout(this.u);this.u=null}};l.f=function(){de.a.f.call(this);this.stop();delete this.Rb};var fe="tick";function ge(a,d,e){if(ma(a)){if(e)a=ra(a,e)}else if(a&&typeof a.handleEvent=="function")a=ra(a.handleEvent,a);else throw Error("Invalid listener argument");return d>2147483647?-1:ee.setTimeout(a,d||0)};var he={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function ie(a){this.Ob={};this.ra={Za:[],pe:0};this.Je=rc(je);this.od=true;this.ze=this.Ce=false;this.Ze=true;this.qa=a;D(this.qa,Hc,this.hb,false,this);bb&&B&&mb("1.8")&&D(this.qa,Ic,this.Gd,false,this);if(Qa&&!B){D(this.qa,"keypress",this.Jd,false,this);D(this.qa,Ic,this.Kd,false,this)}}var ke;r(ie,Pd);var je=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],le={xe:"shortcut",we:"shortcut_"};l=ie.prototype;
l.Hb=function(a){var d=me,e=this.Ob,f=arguments;if(p(f[1])){f=f[1];f=f.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();f=f.split(" ");for(var g=[],h,m=0;h=f[m];m++){var o=h.split("+"),q;h=0;for(var s,u=0;s=o[u];u++){switch(s){case "shift":h|=1;continue;case "ctrl":h|=2;continue;case "alt":h|=4;continue;case "meta":h|=8;continue}q=s;if(!ke){o={};for(var t in he)o[he[t]]=t;ke=o}q=ke[q];break}g.push({keyCode:q,ae:h})}f=g}else{t=f;g=1;if(ja(f[1])){t=f[1];g=0}for(f=[];g<t.length;g+=2)f.push({keyCode:t[g],
ae:t[g+1]})}d(e,f,a)};l.f=function(){ie.a.f.call(this);this.Ob={};zc(this.qa,Hc,this.hb,false,this);bb&&B&&mb("1.8")&&zc(this.qa,Ic,this.Gd,false,this);if(Qa&&!B){zc(this.qa,"keypress",this.Jd,false,this);zc(this.qa,Ic,this.Kd,false,this)}this.qa=null};l.Gd=function(a){if(a.keyCode==224){this.$d=true;ge(function(){this.$d=false},400,this)}else{var d=a.metaKey||this.$d;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&d){a.metaKey=d;this.hb(a)}}};
function ne(a,d){return Qa&&!B&&d.ctrlKey&&d.altKey&&!d.shiftKey}l.Jd=function(a){if(a.keyCode>32&&ne(this,a))this.Od=true};l.Kd=function(a){!this.Od&&ne(this,a)&&this.hb(a)};function me(a,d,e){var f=d.shift();f=f.keyCode&255|f.ae<<8;var g=a[f];if(g&&e&&(d.length==0||p(g)))throw Error("Keyboard shortcut conflicts with existing shortcut");if(d.length){g||(g=a[f]={});me(g,d,e)}else a[f]=e}function oe(a,d,e,f){e=e||0;if((f=(f||a.Ob)[d[e]])&&!p(f)&&d.length-e>1)return oe(a,d,e+1,f);return f}
l.hb=function(a){if(pe(this,a))if(a.type=="keydown"&&ne(this,a))this.Od=false;else{var d=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,e,f,g=ta();if(this.ra.Za.length&&g-this.ra.pe<=1500)e=oe(this,this.ra.Za);else this.ra.Za.length=0;e=e?e[d]:this.Ob[d];if(!e){e=this.Ob[d];this.ra.Za=[]}if(e&&p(e))f=e;else if(e){this.ra.Za.push(d);this.ra.pe=g;B&&a.preventDefault()}else this.ra.Za.length=0;if(f){this.od&&a.preventDefault();this.Ce&&a.stopPropagation();d=this.dispatchEvent(new qe(le.xe,
f,a.target));d&=this.dispatchEvent(new qe(le.we+f,f,a.target));d||a.preventDefault();this.ra.Za.length=0}}};
function pe(a,d){var e=d.keyCode;if(e==16||e==17||e==18)return false;var f=d.target,g=f.tagName=="TEXTAREA"||f.tagName=="INPUT"||f.tagName=="BUTTON"||f.tagName=="SELECT",h=!g&&(f.isContentEditable||f.ownerDocument&&f.ownerDocument.designMode=="on");if(!g&&!h)return true;if(a.Je[e]||a.ze)return true;if(h)return false;if(a.Ze&&(d.altKey||d.ctrlKey||d.metaKey))return true;if(f.tagName=="INPUT"&&(f.type=="text"||f.type=="password"))return e==13;if(f.tagName=="INPUT"||f.tagName=="BUTTON")return e!=32;
return false}function qe(a,d,e){Kb.call(this,a,e);this.identifier=d}r(qe,Kb);function re(a){this.Ld=a}r(re,Jb);var se=new Qb(0,100);re.prototype.j=function(a,d,e,f,g){if(ja(d))for(var h=0;h<d.length;h++)this.j(a,d[h],e,f,g);else{a=D(a,d,e||this,f||false,g||this.Ld||this);if(this.m)this.m[a]=true;else if(this.xa){this.m=Rb(se);this.m[this.xa]=true;this.xa=null;this.m[a]=true}else this.xa=a}return this};
re.prototype.Q=function(a,d,e,f,g){if(this.xa||this.m)if(ja(d))for(var h=0;h<d.length;h++)this.Q(a,d[h],e,f,g);else{a:{e=e||this;g=g||this.Ld||this;f=!!(f||false);if(a=Ac(a,d,f))for(d=0;d<a.length;d++)if(a[d].lb==e&&a[d].capture==f&&a[d].ac==g){a=a[d];break a}a=null}if(a){a=a.key;Bc(a);if(this.m)mc(this.m,a);else if(this.xa==a)this.xa=null}}return this};function te(a){if(a.m){for(var d in a.m){Bc(d);delete a.m[d]}Sb(se,a.m);a.m=null}else a.xa&&Bc(a.xa)}
re.prototype.f=function(){re.a.f.call(this);te(this)};re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ue(){}ha(ue);ue.prototype.$e=0;function ve(a){return":"+(a.$e++).toString(36)}ue.A();function we(a){this.D=a||Yc();this.Jb=xe}r(we,Pd);we.prototype.Ve=ue.A();var xe=null,ye="action";function ze(a,d){switch(a){case 1:return d?"disable":"enable";case 2:return d?"highlight":"unhighlight";case 4:return d?"activate":"deactivate";case 8:return d?"select":"unselect";case 16:return d?"check":"uncheck";case 32:return d?"focus":"blur";case 64:return d?"open":"close";default:}throw Error("Invalid component state");}l=we.prototype;l.Oa=null;l.q=false;l.c=null;l.Jb=null;l.Vc=null;l.r=null;
l.C=null;l.ba=null;l.te=false;function Ae(a){return a.Oa||(a.Oa=ve(a.Ve))}function Be(a,d){if(a.r&&a.r.ba){mc(a.r.ba,a.Oa);nc(a.r.ba,d,a)}a.Oa=d}l.d=ca("c");function Ce(a){return a.gb||(a.gb=new re(a))}function De(a,d){if(a==d)throw Error("Unable to set parent component");if(d&&a.r&&a.Oa&&Ee(a.r,a.Oa)&&a.r!=d)throw Error("Unable to set parent component");a.r=d;we.a.cd.call(a,d)}l.cd=function(a){if(this.r&&this.r!=a)throw Error("Method not supported");we.a.cd.call(this,a)};l.M=ca("D");
l.k=function(){this.c=this.D.createElement("div")};l.Yc=function(a){Fe(this,a)};function Fe(a,d,e){if(a.q)throw Error("Component already rendered");a.c||a.k();d?d.insertBefore(a.c,e||null):a.D.p.body.appendChild(a.c);if(!a.r||a.r.q)a.R()}l.s=function(a){if(this.q)throw Error("Component already rendered");else if(a&&this.aa(a)){this.te=true;if(!this.D||this.D.p!=$c(a))this.D=Yc(a);this.Ia(a);this.R()}else throw Error("Invalid element to decorate");};l.aa=k(true);l.Ia=ba("c");
l.R=function(){this.q=true;Ge(this,function(a){!a.q&&a.d()&&a.R()})};l.ia=function(){Ge(this,function(a){a.q&&a.ia()});this.gb&&te(this.gb);this.q=false};l.f=function(){we.a.f.call(this);this.q&&this.ia();if(this.gb){this.gb.L();delete this.gb}Ge(this,function(a){a.L()});!this.te&&this.c&&jd(this.c);this.r=this.Vc=this.c=this.ba=this.C=null};l.tb=function(a,d){this.ub(a,He(this),d)};
l.ub=function(a,d,e){if(a.q&&(e||!this.q))throw Error("Component already rendered");if(d<0||d>He(this))throw Error("Child component index out of bounds");if(!this.ba||!this.C){this.ba={};this.C=[]}if(a.r==this){this.ba[Ae(a)]=a;yb(this.C,a)}else nc(this.ba,Ae(a),a);De(a,this);Db(this.C,d,0,a);if(a.q&&this.q&&a.r==this){e=this.H();e.insertBefore(a.d(),e.childNodes[d]||null)}else if(e){this.c||this.k();d=Ie(this,d+1);Fe(a,this.H(),d?d.c:null)}else this.q&&!a.q&&a.c&&a.R()};l.H=ca("c");
function Je(a){if(a.Jb==null)a.Jb=Fd(a.q?a.c:a.D.p.body);return a.Jb}l.qb=function(a){if(this.q)throw Error("Component already rendered");this.Jb=a};function He(a){return a.C?a.C.length:0}function Ee(a,d){var e;if(a.ba&&d){e=a.ba;e=d in e?e[d]:void 0;e=e||null}else e=null;return e}function Ie(a,d){return a.C?a.C[d]||null:null}function Ge(a,d,e){a.C&&tb(a.C,d,e)}function Ke(a,d){return a.C&&d?sb(a.C,d):-1}
l.removeChild=function(a,d){if(a){var e=p(a)?a:Ae(a);a=Ee(this,e);if(e&&a){mc(this.ba,e);yb(this.C,a);if(d){a.ia();a.c&&jd(a.c)}De(a,null)}}if(!a)throw Error("Child is not in parent component");return a};l.je=function(a){for(;this.C&&this.C.length!=0;)this.removeChild(Ie(this,0),a)};function Le(a,d){if(B){a.setAttribute("role",d);a.Df=d}}function Me(a,d,e){B&&a.setAttribute("aria-"+d,e)};function Ne(){}var Oe;ha(Ne);l=Ne.prototype;l.da=aa();l.k=function(a){return a.M().k("div",this.fb(a).join(" "),a.ma)};l.H=function(a){return a};l.vb=function(a,d,e){if(a=a.d?a.d():a)if(A&&!mb("7")){var f=Pe(this,Rc(a),d);f.push(d);sa(e?Sc:Tc,a).apply(null,f)}else e?Sc(a,d):Tc(a,d)};l.aa=k(true);
l.s=function(a,d){d.id&&Be(a,d.id);var e=this.H(d);if(e&&e.firstChild)Qe(a,e.firstChild.nextSibling?Ab(e.childNodes):e.firstChild);else a.ma=null;var f=0,g=this.h(),h=this.h(),m=false,o=false;e=false;var q=Rc(d);tb(q,function(t){if(!m&&t==g){m=true;if(h==g)o=true}else if(!o&&t==h)o=true;else f|=this.Ec(t)},this);a.n=f;if(!m){q.push(g);if(h==g)o=true}o||q.push(h);var s=a.ca;s&&q.push.apply(q,s);if(A&&!mb("7")){var u=Pe(this,q);if(u.length>0){q.push.apply(q,u);e=true}}if(!m||!o||s||e)d.className=q.join(" ");
return d};l.kb=function(a){Je(a)&&this.qb(a.d(),true);a.F()&&this.Ba(a,a.i)};l.Mb=function(a,d){Md(a,!d,!A&&!Xa)};l.qb=function(a,d){this.vb(a,this.h()+"-rtl",d)};l.va=function(a){var d;if(a.N&32&&(d=a.I()))return pd(d);return false};l.Ba=function(a,d){var e;if(a.N&32&&(e=a.I())){if(!d&&a.n&32){try{e.blur()}catch(f){}a.n&32&&a.oa(null)}if(pd(e)!=d){e=e;if(d)e.tabIndex=0;else e.removeAttribute("tabIndex")}}};l.l=function(a,d){Kd(a,d)};
l.Z=function(a,d,e){var f=a.d();if(f){var g=this.wb(d);g&&this.vb(a,g,e);this.rb(f,d,e)}};l.rb=function(a,d,e){if(B){Oe||(Oe=qc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(d=Oe[d])&&Me(a,d,e)}};l.Xa=function(a,d){var e=this.H(a);if(e){hd(e);if(d)if(p(d))md(e,d);else{var f=function(g){if(g){var h=$c(e);e.appendChild(p(g)?h.createTextNode(g):g)}};if(ja(d))tb(d,f);else ka(d)&&!("nodeType"in d)?tb(Ab(d),f):f(d)}}};l.I=function(a){return a.d()};l.h=k("goog-control");
l.fb=function(a){var d=this.h(),e=[d],f=this.h();f!=d&&e.push(f);d=a.n;for(f=[];d;){var g=d&-d;f.push(this.wb(g));d&=~g}e.push.apply(e,f);(a=a.ca)&&e.push.apply(e,a);A&&!mb("7")&&e.push.apply(e,Pe(this,e));return e};function Pe(a,d,e){var f=[];if(e)d=d.concat([e]);tb([],function(g){if(wb(g,sa(xb,d))&&(!e||xb(g,e)))f.push(g.join("_"))});return f}l.wb=function(a){this.Vb||Re(this);return this.Vb[a]};
l.Ec=function(a){if(!this.oe){this.Vb||Re(this);var d=this.Vb,e={};for(var f in d)e[d[f]]=f;this.oe=e}a=parseInt(this.oe[a],10);return isNaN(a)?0:a};function Re(a){var d=a.h();a.Vb=qc(1,d+"-disabled",2,d+"-hover",4,d+"-active",8,d+"-selected",16,d+"-checked",32,d+"-focused",64,d+"-open")};function Se(a,d){if(!a)throw Error("Invalid class name "+a);if(!ma(d))throw Error("Invalid decorator function "+d);Te[a]=d}var Ue={},Te={};function Ve(a,d,e){we.call(this,e);if(!(d=d)){d=this.constructor;for(var f;d;){f=oa(d);if(f=Ue[f])break;d=d.a?d.a.constructor:null}d=f?ma(f.A)?f.A():new f:null}this.e=d;this.ma=a}r(Ve,we);l=Ve.prototype;l.ma=null;l.n=0;l.N=39;l.pd=255;l.gd=0;l.i=true;l.ca=null;l.Ic=true;l.Tb=false;function We(a,d){a.q&&d!=a.Ic&&Xe(a,d);a.Ic=d}l.I=function(){return this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Xd)};
l.vb=function(a,d){if(d){if(a){if(this.ca)xb(this.ca,a)||this.ca.push(a);else this.ca=[a];this.e.vb(this,a,true)}}else if(a&&this.ca){yb(this.ca,a);if(this.ca.length==0)this.ca=null;this.e.vb(this,a,false)}};l.k=function(){var a=this.e.k(this);this.c=a;if(B){var d=this.e.da();d&&Le(a,d)}this.Tb||this.e.Mb(a,false);this.i||this.e.l(a,false)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=a=this.e.s(this,a);if(B){var d=this.e.da();d&&Le(a,d)}this.Tb||this.e.Mb(a,false);this.i=a.style.display!="none"};l.R=function(){Ve.a.R.call(this);this.e.kb(this);if(this.N&-2){this.Ic&&Xe(this,true);if(this.N&32){var a=this.I();if(a){var d=this.Yb();Yd(d,a);Ce(this).j(d,"key",this.ea).j(a,Kc,this.Ma).j(a,Jc,this.oa)}}}};
function Xe(a,d){var e=Ce(a),f=a.d();if(d){e.j(f,Fc,a.Kc).j(f,"mousedown",a.Na).j(f,"mouseup",a.Ab).j(f,Gc,a.Jc);A&&e.j(f,"dblclick",a.Ed)}else{e.Q(f,Fc,a.Kc).Q(f,"mousedown",a.Na).Q(f,"mouseup",a.Ab).Q(f,Gc,a.Jc);A&&e.Q(f,"dblclick",a.Ed)}}l.ia=function(){Ve.a.ia.call(this);this.P&&this.P.detach();this.i&&this.F()&&this.e.Ba(this,false)};l.f=function(){Ve.a.f.call(this);if(this.P){this.P.L();delete this.P}delete this.e;this.ca=this.ma=null};l.Xa=function(a){this.e.Xa(this.d(),a);this.ma=a};
function Qe(a,d){a.ma=d}function Ye(a,d){var e=a.ma;if(!e||p(e))return e;return(e=ja(e)?vb(e,d).join(""):qd(e))&&za(e)}l.La=function(){return Ye(this,qd)};l.qb=function(a){Ve.a.qb.call(this,a);var d=this.d();d&&this.e.qb(d,a)};l.Mb=function(a){this.Tb=a;var d=this.d();d&&this.e.Mb(d,a)};l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){var e=this.d();e&&this.e.l(e,a);this.F()&&this.e.Ba(this,a);this.i=a;return true}return false};l.F=function(){return!!!(this.n&1)};
l.Aa=function(a){var d=this.r;if(!(d&&typeof d.F=="function"&&!d.F())&&Ze(this,1,!a)){if(!a){this.setActive(false);this.ja(false)}this.i&&this.e.Ba(this,a);this.Z(1,!a)}};l.ja=function(a){Ze(this,2,a)&&this.Z(2,a)};l.Cb=function(){return!!(this.n&4)};l.setActive=function(a){Ze(this,4,a)&&this.Z(4,a)};l.ed=function(a){Ze(this,8,a)&&this.Z(8,a)};function $e(a,d){Ze(a,16,d)&&a.Z(16,d)}l.pa=function(){return!!(this.n&64)};l.B=function(a){Ze(this,64,a)&&this.Z(64,a)};
l.Z=function(a,d){if(this.N&a&&d!=!!(this.n&a)){this.e.Z(this,a,d);this.n=d?this.n|a:this.n&~a}};function af(a,d,e){if(a.q&&a.n&d&&!e)throw Error("Component already rendered");!e&&a.n&d&&a.Z(d,false);a.N=e?a.N|d:a.N&~d}function bf(a,d){return!!(a.pd&d)&&!!(a.N&d)}function Ze(a,d,e){return!!(a.N&d)&&!!(a.n&d)!=e&&(!(a.gd&d)||a.dispatchEvent(ze(d,e)))&&!a.yc}l.Kc=function(a){!cf(a,this.d())&&this.dispatchEvent("enter")&&this.F()&&bf(this,2)&&this.ja(true)};
l.Jc=function(a){if(!cf(a,this.d())&&this.dispatchEvent("leave")){bf(this,4)&&this.setActive(false);bf(this,2)&&this.ja(false)}};function cf(a,d){return!!a.relatedTarget&&ld(d,a.relatedTarget)}l.Na=function(a){if(this.F()){bf(this,2)&&this.ja(true);if(Nb(a,0)){bf(this,4)&&this.setActive(true);this.e.va(this)&&this.I().focus()}}!this.Tb&&Nb(a,0)&&a.preventDefault()};l.Ab=function(a){if(this.F()){bf(this,2)&&this.ja(true);this.Cb()&&this.Ta(a)&&bf(this,4)&&this.setActive(false)}};
l.Ed=function(a){this.F()&&this.Ta(a)};l.Ta=function(a){bf(this,16)&&$e(this,!!!(this.n&16));bf(this,8)&&this.ed(true);bf(this,64)&&this.B(!this.pa());var d=new Kb(ye,this);if(a)for(var e=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],f,g=0;f=e[g];g++)d[f]=a[f];return this.dispatchEvent(d)};l.Ma=function(){bf(this,32)&&Ze(this,32,true)&&this.Z(32,true)};l.oa=function(){bf(this,4)&&this.setActive(false);bf(this,32)&&Ze(this,32,false)&&this.Z(32,false)};
l.ea=function(a){if(this.i&&this.F()&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};l.ib=function(a){return a.keyCode==13&&this.Ta(a)};if(!ma(Ve))throw Error("Invalid component class "+Ve);if(!ma(Ne))throw Error("Invalid renderer class "+Ne);var df=oa(Ve);Ue[df]=Ne;Se("goog-control",function(){return new Ve(null)});function ef(){}r(ef,Ne);ha(ef);ef.prototype.k=function(a){return a.M().k("div",this.h())};ef.prototype.s=function(a,d){if(d.tagName=="HR"){var e=d;d=this.k(a);e.parentNode&&e.parentNode.insertBefore(d,e);jd(e)}else Sc(d,this.h());return d};ef.prototype.Xa=aa();ef.prototype.h=k("goog-menuseparator");function ff(a,d){Ve.call(this,null,a||ef.A(),d);af(this,1,false);af(this,2,false);af(this,4,false);af(this,32,false);this.n=1}r(ff,Ve);ff.prototype.R=function(){ff.a.R.call(this);Le(this.d(),"separator")};Se("goog-menuseparator",function(){return new ff});function gf(){}ha(gf);l=gf.prototype;l.da=aa();function hf(a,d,e){if(d)d.tabIndex=e?0:-1}l.k=function(a){return a.M().k("div",this.fb(a).join(" "))};l.H=function(a){return a};l.aa=function(a){return a.tagName=="DIV"};l.s=function(a,d){d.id&&Be(a,d.id);var e=this.h(),f=false,g=Rc(d);g&&tb(g,function(h){if(h==e)f=true;else if(h)if(h==e+"-disabled")a.Aa(false);else if(h==e+"-horizontal")jf(a,kf);else h==e+"-vertical"&&jf(a,lf)},this);f||Sc(d,e);mf(this,a,this.H(d));return d};
function mf(a,d,e,f){if(e){f=f||e.firstChild;for(var g;f&&f.parentNode==e;){g=f.nextSibling;if(f.nodeType==1){var h=a.xb(f);if(h){h.c=f;d.F()||h.Aa(false);d.tb(h);h.s(f)}}else if(!f.nodeValue||za(f.nodeValue)=="")e.removeChild(f);f=g}}}l.xb=function(a){a:{for(var d=Rc(a),e=0,f=d.length;e<f;e++)if(a=d[e]in Te?Te[d[e]]():null){a=a;break a}a=null}return a};l.kb=function(a){a=a.d();Md(a,true,B);if(A)a.hideFocus=true;var d=this.da();d&&Le(a,d)};l.I=function(a){return a.d()};l.h=k("goog-container");
l.fb=function(a){var d=this.h(),e=[d,a.Sa==kf?d+"-horizontal":d+"-vertical"];a.F()||e.push(d+"-disabled");return e};l.Bd=function(){return lf};function nf(a,d,e){we.call(this,e);this.e=d||gf.A();this.Sa=a||this.e.Bd()}r(nf,we);var kf="horizontal",lf="vertical";l=nf.prototype;l.Pd=null;l.P=null;l.e=null;l.Sa=null;l.i=true;l.X=true;l.Ac=true;l.$=-1;l.K=null;l.sa=false;l.Ae=false;l.bf=true;l.ta=null;l.I=function(){return this.Pd||this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Xd(this.I()))};l.k=function(){this.c=this.e.k(this)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=this.e.s(this,a);if(a.style.display=="none")this.i=false};l.R=function(){nf.a.R.call(this);Ge(this,function(d){d.q&&of(this,d)},this);var a=this.d();this.e.kb(this);this.l(this.i,true);Ce(this).j(this,"enter",this.Fc).j(this,"highlight",this.Gc).j(this,"unhighlight",this.Lc).j(this,"open",this.Re).j(this,"close",this.Le).j(a,"mousedown",this.Na).j($c(a),"mouseup",this.Ne).j(a,["mousedown","mouseup",Fc,Gc],this.Ke);this.va()&&pf(this,true)};
function pf(a,d){var e=Ce(a),f=a.I();d?e.j(f,Kc,a.Ma).j(f,Jc,a.oa).j(a.Yb(),"key",a.ea):e.Q(f,Kc,a.Ma).Q(f,Jc,a.oa).Q(a.Yb(),"key",a.ea)}l.ia=function(){qf(this,-1);this.K&&this.K.B(false);this.sa=false;nf.a.ia.call(this)};l.f=function(){nf.a.f.call(this);if(this.P){this.P.L();this.P=null}this.e=this.K=this.ta=null};l.Fc=k(true);
l.Gc=function(a){var d=Ke(this,a.target);if(d>-1&&d!=this.$){var e=rf(this);e&&e.ja(false);this.$=d;e=rf(this);this.sa&&e.setActive(true);if(this.bf&&this.K&&e!=this.K)e.N&64?e.B(true):this.K.B(false)}Me(this.d(),"activedescendant",a.target.d().id)};l.Lc=function(a){if(a.target==rf(this))this.$=-1;Me(this.d(),"activedescendant","")};l.Re=function(a){if((a=a.target)&&a!=this.K&&a.r==this){this.K&&this.K.B(false);this.K=a}};l.Le=function(a){if(a.target==this.K)this.K=null};
l.Na=function(a){if(this.X)this.sa=true;var d=this.I();d&&pd(d)?d.focus():a.preventDefault()};l.Ne=function(){this.sa=false};l.Ke=function(a){var d;a:{d=a.target;if(this.ta)for(var e=this.d();d&&d!==e;){var f=d.id;if(f in this.ta){d=this.ta[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case "mousedown":d.Na(a);break;case "mouseup":d.Ab(a);break;case Fc:d.Kc(a);break;case Gc:d.Jc(a);break}};l.Ma=aa();l.oa=function(){qf(this,-1);this.sa=false;this.K&&this.K.B(false)};
l.ea=function(a){if(this.F()&&this.i&&(He(this)!=0||this.Pd)&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};
l.ib=function(a){var d=rf(this);if(d&&typeof d.ea=="function"&&d.ea(a))return true;if(this.K&&this.K!=d&&typeof this.K.ea=="function"&&this.K.ea(a))return true;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return false;switch(a.keyCode){case 27:if(this.va())this.I().blur();else return false;break;case 36:sf(this);break;case 35:tf(this);break;case 38:if(this.Sa==lf)uf(this);else return false;break;case 37:if(this.Sa==kf)Je(this)?vf(this):uf(this);else return false;break;case 40:if(this.Sa==lf)vf(this);
else return false;break;case 39:if(this.Sa==kf)Je(this)?uf(this):vf(this);else return false;break;default:return false}return true};function of(a,d){var e=d.d();e=e.id||(e.id=Ae(d));if(!a.ta)a.ta={};a.ta[e]=d}l.tb=function(a,d){nf.a.tb.call(this,a,d)};l.ub=function(a,d,e){a.gd|=2;a.gd|=64;if(this.va()||!this.Ae)af(a,32,false);We(a,false);nf.a.ub.call(this,a,d,e);e&&this.q&&of(this,a);d<=this.$&&this.$++};
l.removeChild=function(a,d){if(a=p(a)?Ee(this,a):a){var e=Ke(this,a);if(e!=-1)if(e==this.$)a.ja(false);else e<this.$&&this.$--;(e=a.d())&&e.id&&mc(this.ta,e.id)}a=nf.a.removeChild.call(this,a,d);We(a,true);return a};function jf(a,d){if(a.d())throw Error("Component already rendered");a.Sa=d}l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){this.i=a;var e=this.d();if(e){Kd(e,a);this.va()&&hf(this.e,this.I(),this.X&&this.i);d||this.dispatchEvent(this.i?"aftershow":"afterhide")}return true}return false};
l.F=ca("X");l.Aa=function(a){if(this.X!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.X=true;Ge(this,function(d){if(d.ue)delete d.ue;else d.Aa(true)})}else{Ge(this,function(d){if(d.F())d.Aa(false);else d.ue=true});this.sa=this.X=false}this.va()&&hf(this.e,this.I(),a&&this.i)}};l.va=ca("Ac");l.Ba=function(a){a!=this.Ac&&this.q&&pf(this,a);this.Ac=a;this.X&&this.i&&hf(this.e,this.I(),a)};function qf(a,d){var e=Ie(a,d);if(e)e.ja(true);else a.$>-1&&rf(a).ja(false)}
l.ja=function(a){qf(this,Ke(this,a))};function rf(a){return Ie(a,a.$)}function sf(a){wf(a,function(d,e){return(d+1)%e},He(a)-1)}function tf(a){wf(a,function(d,e){d--;return d<0?e-1:d},0)}function vf(a){wf(a,function(d,e){return(d+1)%e},a.$)}function uf(a){wf(a,function(d,e){d--;return d<0?e-1:d},a.$)}function wf(a,d,e){e=e<0?Ke(a,a.K):e;var f=He(a);e=d.call(a,e,f);for(var g=0;g<=f;){var h=Ie(a,e);if(h&&a.sd(h)){qf(a,e);return true}g++;e=d.call(a,e,f)}return false}
l.sd=function(a){return a.i&&a.F()&&!!(a.N&2)};function xf(){this.ud=[]}r(xf,Ne);ha(xf);function yf(a,d){var e=a.ud[d];if(!e){switch(d){case 0:e=a.h()+"-highlight";break;case 1:e=a.h()+"-checkbox";break;case 2:e=a.h()+"-content";break}a.ud[d]=e}return e}l=xf.prototype;l.da=k("menuitem");l.k=function(a){var d=a.M().k("div",this.fb(a).join(" "),zf(this,a.ma,a.M()));Af(this,a,d,!!(a.N&8)||!!(a.N&16));return d};l.H=function(a){return a&&a.firstChild};
l.s=function(a,d){var e=kd(d),f=yf(this,2);e&&e.className.indexOf(f)!=-1||d.appendChild(zf(this,d.childNodes,a.M()));if(xb(Rc(d),"goog-option")){a.lc(true);this.lc(a,d,true)}return xf.a.s.call(this,a,d)};l.Xa=function(a,d){var e=this.H(a),f=Bf(this,a)?e.firstChild:null;xf.a.Xa.call(this,a,d);if(f&&!Bf(this,a))e.insertBefore(f,e.firstChild||null)};function zf(a,d,e){a=yf(a,2);return e.k("div",a,d)}l.dd=function(a,d,e){if(d){Le(d,e?"menuitemradio":this.da());Af(this,a,d,e)}};
l.lc=function(a,d,e){if(d){Le(d,e?"menuitemcheckbox":this.da());Af(this,a,d,e)}};function Bf(a,d){var e=a.H(d);if(e){e=e.firstChild;var f=yf(a,1);return!!e&&!!e.className&&e.className.indexOf(f)!=-1}return false}function Af(a,d,e,f){if(f!=Bf(a,e)){f?Sc(e,"goog-option"):Tc(e,"goog-option");e=a.H(e);if(f){a=yf(a,1);e.insertBefore(d.M().k("div",a),e.firstChild||null)}else e.removeChild(e.firstChild)}}
l.wb=function(a){switch(a){case 2:return yf(this,0);case 16:case 8:return"goog-option-selected";default:return xf.a.wb.call(this,a)}};l.Ec=function(a){var d=yf(this,0);switch(a){case "goog-option-selected":return 16;case d:return 2;default:return xf.a.Ec.call(this,a)}};l.h=k("goog-menuitem");function Cf(a,d,e,f){Ve.call(this,a,f||xf.A(),e);this.ka(d)}r(Cf,Ve);l=Cf.prototype;l.O=function(){var a=this.Vc;return a!=null?a:this.La()};l.ka=ba("Vc");l.dd=function(a){af(this,8,a);this.n&16&&!a&&$e(this,false);var d=this.d();d&&this.e.dd(this,d,a)};l.lc=function(a){af(this,16,a);var d=this.d();d&&this.e.lc(this,d,a)};l.La=function(){return Ye(this,function(a){return xb(Rc(a),"goog-menuitem-accel")?"":qd(a)})};Se("goog-menuitem",function(){return new Cf(null)});function Df(){}r(Df,gf);ha(Df);l=Df.prototype;l.da=k("menu");l.aa=function(a){return a.tagName=="UL"||Df.a.aa.call(this,a)};l.xb=function(a){return a.tagName=="HR"?new ff:Df.a.xb.call(this,a)};l.Ga=function(a,d){return ld(a.d(),d)};l.h=k("goog-menu");l.kb=function(a){Df.a.kb.call(this,a);a=a.d();Me(a,"haspopup","true")};Se("goog-menuseparator",function(){return new ff});function Ef(a,d){nf.call(this,lf,d||Df.A(),a);this.Ba(false)}r(Ef,nf);l=Ef.prototype;l.vc=true;l.Be=false;l.h=function(){return this.e.h()};l.Ga=function(a){if(this.e.Ga(this,a))return true;for(var d=0,e=He(this);d<e;d++){var f=Ie(this,d);if(typeof f.Ga=="function"&&f.Ga(a))return true}return false};l.Ea=function(a){this.tb(a,true)};l.bb=function(a,d){this.ub(a,d,true)};l.yb=function(a){return Ie(this,a)};l.Bc=function(){return He(this)};
function Ff(a,d,e){var f=a.i;f||Kd(a.d(),true);Gd(a.d(),d,e);f||Kd(a.d(),false)}function Gf(a,d){(a.vc=d)&&a.Ba(true)}l.l=function(a,d){var e=Ef.a.l.call(this,a,d);e&&a&&this.q&&this.vc&&this.I().focus();return e};l.Fc=function(a){this.vc&&this.I().focus();return Ef.a.Fc.call(this,a)};l.sd=function(a){return(this.Be||a.F())&&a.i&&!!(a.N&2)};l.Ia=function(a){var d=this.e,e;e=this.M();e=ad(e.p,"div",d.h()+"-content",a);for(var f,g=0;f=e[g];g++)mf(d,this,f);Ef.a.Ia.call(this,a)};function Hf(a){if(typeof a.$b=="function")return a.$b();if(p(a))return a.split("");if(ka(a)){for(var d=[],e=a.length,f=0;f<e;f++)d.push(a[f]);return d}return jc(a)}function If(a,d,e){if(typeof a.forEach=="function")a.forEach(d,e);else if(ka(a)||p(a))tb(a,d,e);else{var f;if(typeof a.Cc=="function")f=a.Cc();else if(typeof a.$b!="function")if(ka(a)||p(a)){f=[];for(var g=a.length,h=0;h<g;h++)f.push(h);f=f}else f=kc(a);else f=void 0;g=Hf(a);h=g.length;for(var m=0;m<h;m++)d.call(e,g[m],f&&f[m],a)}};var Jf="StopIteration"in n?n.StopIteration:Error("StopIteration");function Kf(){}Kf.prototype.next=function(){throw Jf;};Kf.prototype.uc=function(){return this};function Lf(a){if(a instanceof Kf)return a;if(typeof a.uc=="function")return a.uc(false);if(ka(a)){var d=0,e=new Kf;e.next=function(){for(;;){if(d>=a.length)throw Jf;if(d in a)return a[d++];else d++}};return e}throw Error("Not implemented");}
function Mf(a,d,e){if(ka(a))try{tb(a,d,e)}catch(f){if(f!==Jf)throw f;}else{a=Lf(a);try{for(;;)d.call(e,a.next(),undefined,a)}catch(g){if(g!==Jf)throw g;}}}function Nf(a,d,e){a=Lf(a);try{for(;;)if(d.call(e,a.next(),undefined,a))return true}catch(f){if(f!==Jf)throw f;}return false};function Of(a){this.Ra={};this.m=[];var d=arguments.length;if(d>1){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.pb(arguments[e],arguments[e+1])}else if(a){if(a instanceof Of){d=a.Cc();e=a.$b()}else{d=kc(a);e=jc(a)}for(var f=0;f<d.length;f++)this.pb(d[f],e[f])}}l=Of.prototype;l.S=0;l.qc=0;l.$b=function(){Pf(this);for(var a=[],d=0;d<this.m.length;d++)a.push(this.Ra[this.m[d]]);return a};l.Cc=function(){Pf(this);return this.m.concat()};
l.clear=function(){this.Ra={};this.qc=this.S=this.m.length=0};function Pf(a){if(a.S!=a.m.length){for(var d=0,e=0;d<a.m.length;){var f=a.m[d];if(Object.prototype.hasOwnProperty.call(a.Ra,f))a.m[e++]=f;d++}a.m.length=e}if(a.S!=a.m.length){var g={};for(e=d=0;d<a.m.length;){f=a.m[d];if(!Object.prototype.hasOwnProperty.call(g,f)){a.m[e++]=f;g[f]=1}d++}a.m.length=e}}l.pb=function(a,d){if(!Object.prototype.hasOwnProperty.call(this.Ra,a)){this.S++;this.m.push(a);this.qc++}this.Ra[a]=d};l.Fa=function(){return new Of(this)};
l.uc=function(a){Pf(this);var d=0,e=this.m,f=this.Ra,g=this.qc,h=this,m=new Kf;m.next=function(){for(;;){if(g!=h.qc)throw Error("The map has changed since the iterator was created");if(d>=e.length)throw Jf;var o=e[d++];return a?o:f[o]}};return m};function Qf(a){return Rf(a||arguments.callee.caller,[])}
function Rf(a,d){var e=[];if(xb(d,a))e.push("[...circular reference...]");else if(a&&d.length<50){e.push(Sf(a)+"(");for(var f=a.arguments,g=0;g<f.length;g++){g>0&&e.push(", ");var h;h=f[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":h=h;break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Sf(h))?h:"[fn]";break;case "undefined":default:h=typeof h;break}if(h.length>40)h=h.substr(0,40)+"...";e.push(h)}d.push(a);e.push(")\n");try{e.push(Rf(a.caller,
d))}catch(m){e.push("[exception trying to get caller]\n")}}else a?e.push("[...long stack...]"):e.push("[end]");return e.join("")}function Sf(a){a=String(a);if(!Tf[a]){var d=/function ([^\(]+)/.exec(a);Tf[a]=d?d[1]:"[Anonymous]"}return Tf[a]}var Tf={};function Uf(a,d,e,f,g){this.reset(a,d,e,f,g)}Uf.prototype.nf=0;Uf.prototype.zd=null;Uf.prototype.yd=null;var Vf=0;Uf.prototype.reset=function(a,d,e,f,g){this.nf=typeof g=="number"?g:Vf++;this.Ff=f||ta();this.Fb=a;this.Cf=d;this.Af=e;delete this.zd;delete this.yd};Uf.prototype.le=ba("Fb");function Wf(a){this.hc=a}Wf.prototype.r=null;Wf.prototype.Fb=null;Wf.prototype.C=null;Wf.prototype.Md=null;function Xf(a,d){this.name=a;this.value=d}Xf.prototype.toString=ca("name");var Yf=new Xf("SEVERE",1E3),Zf=new Xf("WARNING",900),$f=new Xf("CONFIG",700),ag=new Xf("FINE",500),bg=new Xf("FINEST",300);Wf.prototype.getName=ca("hc");Wf.prototype.le=ba("Fb");function cg(a){if(a.Fb)return a.Fb;if(a.r)return cg(a.r);qb("Root logger has no level set.");return null}
Wf.prototype.log=function(a,d,e){if(a.value>=cg(this).value){a=this.Ie(a,d,e);for(d=this;d;){e=d;var f=a;if(e.Md)for(var g=0,h=void 0;h=e.Md[g];g++)h(f);d=d.r}}};
Wf.prototype.Ie=function(a,d,e){var f=new Uf(a,String(d),this.hc);if(e){f.zd=e;var g;var h=arguments.callee.caller;try{var m,o=ea("window.location.href");m=typeof e=="string"?{message:e,name:"Unknown error",lineNumber:"Not available",fileName:o,stack:"Not available"}:!e.lineNumber||!e.fileName||!e.stack?{message:e.message,name:e.name,lineNumber:e.lineNumber||e.zf||"Not available",fileName:e.fileName||e.filename||e.sourceURL||o,stack:e.stack||"Not available"}:e;g="Message: "+Aa(m.message)+'\nUrl: <a href="view-source:'+
m.fileName+'" target="_new">'+m.fileName+"</a>\nLine: "+m.lineNumber+"\n\nBrowser stack:\n"+Aa(m.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Aa(Qf(h)+"-> ")}catch(q){g="Exception trying to expose exception! You win, we lose. "+q}f.yd=g}return f};function dg(a,d,e){a.log(ag,d,e)}var eg={},fg=null;
function gg(a){if(!fg){fg=new Wf("");eg[""]=fg;fg.le($f)}var d;if(!(d=eg[a])){d=new Wf(a);var e=a.lastIndexOf("."),f=a.substr(0,e);e=a.substr(e+1);f=gg(f);if(!f.C)f.C={};f.C[e]=d;d.r=f;d=eg[a]=d}return d};function hg(){}hg.prototype.Ub=null;function ig(){return jg(mg)}var mg;function ng(){}r(ng,hg);function jg(a){return(a=og(a))?new ActiveXObject(a):new XMLHttpRequest}function pg(a){var d={};if(og(a)){d[0]=true;d[1]=true}return d}ng.prototype.Nc=null;
function og(a){if(!a.Nc&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<d.length;e++){var f=d[e];try{new ActiveXObject(f);return a.Nc=f}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Nc}mg=new ng;function qg(){if(B){this.Ha={};this.tc={};this.nc=[]}}qg.prototype.J=gg("goog.net.xhrMonitor");qg.prototype.X=B;qg.prototype.Aa=function(a){this.X=B&&a};function rg(a,d){if(a.X){var e=p(d)?d:na(d)?oa(d):"";a.J.log(bg,"Pushing context: "+d+" ("+e+")",void 0);a.nc.push(e)}}function sg(a){if(a.X){var d=a.nc.pop();a.J.log(bg,"Popping context: "+d,void 0);tg(a,d)}}
function ug(a,d){if(a.X){var e=oa(d);dg(a.J,"Opening XHR : "+e);for(var f=0;f<a.nc.length;f++){var g=a.nc[f];vg(a,a.Ha,g,e);vg(a,a.tc,e,g)}}}function tg(a,d){var e=a.tc[d],f=a.Ha[d];if(e&&f){a.J.log(bg,"Updating dependent contexts",void 0);tb(e,function(g){tb(f,function(h){vg(this,this.Ha,g,h);vg(this,this.tc,h,g)},this)},a)}}function vg(a,d,e,f){d[e]||(d[e]=[]);xb(d[e],f)||d[e].push(f)}var wg=new qg;function xg(a){this.headers=new Of;this.sb=a||null}r(xg,Pd);xg.prototype.J=gg("goog.net.XhrIo");var yg=[];function zg(a,d,e,f,g,h){var m=new xg;yg.push(m);d&&D(m,"complete",d);D(m,"ready",sa(Ag,m));if(h)m.Qb=Math.max(0,h);m.send(a,e,f,g)}function Ag(a){a.L();yb(yg,a)}l=xg.prototype;l.Da=false;l.o=null;l.sc=null;l.Sd="";l.Rd="";l.Db=0;l.Eb="";l.zc=false;l.cc=false;l.Oc=false;l.Pa=false;l.Qb=0;l.$a=null;
l.send=function(a,d,e,f){if(this.o)throw Error("[goog.net.XhrIo] Object is active with another request");d=d||"GET";this.Sd=a;this.Eb="";this.Db=0;this.Rd=d;this.zc=false;this.Da=true;this.o=this.sb?jg(this.sb):new ig;this.sc=this.sb?this.sb.Ub||(this.sb.Ub=pg(this.sb)):mg.Ub||(mg.Ub=pg(mg));ug(wg,this.o);this.o.onreadystatechange=ra(this.ge,this);try{dg(this.J,Bg(this,"Opening Xhr"));this.Oc=true;this.o.open(d,a,true);this.Oc=false}catch(g){dg(this.J,Bg(this,"Error opening Xhr: "+g.message));Cg(this,
5,g);return}a=e||"";var h=this.headers.Fa();f&&If(f,function(o,q){h.pb(q,o)});d=="POST"&&!Object.prototype.hasOwnProperty.call(h.Ra,"Content-Type")&&h.pb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");If(h,function(o,q){this.o.setRequestHeader(q,o)},this);try{if(this.$a){ee.clearTimeout(this.$a);this.$a=null}if(this.Qb>0){dg(this.J,Bg(this,"Will abort after "+this.Qb+"ms if incomplete"));this.$a=ee.setTimeout(ra(this.qf,this),this.Qb)}dg(this.J,Bg(this,"Sending request"));this.cc=
true;this.o.send(a);this.cc=false}catch(m){dg(this.J,Bg(this,"Send error: "+m.message));Cg(this,5,m)}};l.dispatchEvent=function(a){if(this.o){rg(wg,this.o);try{return xg.a.dispatchEvent.call(this,a)}finally{sg(wg)}}else return xg.a.dispatchEvent.call(this,a)};l.qf=function(){if(typeof da!="undefined")if(this.o){this.Eb="Timed out after "+this.Qb+"ms, aborting";this.Db=8;dg(this.J,Bg(this,this.Eb));this.dispatchEvent("timeout");this.abort(8)}};
function Cg(a,d,e){a.Da=false;if(a.o){a.Pa=true;a.o.abort();a.Pa=false}a.Eb=e;a.Db=d;Dg(a);Eg(a)}function Dg(a){if(!a.zc){a.zc=true;a.dispatchEvent("complete");a.dispatchEvent("error")}}l.abort=function(a){if(this.o){dg(this.J,Bg(this,"Aborting"));this.Da=false;this.Pa=true;this.o.abort();this.Pa=false;this.Db=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");Eg(this)}};l.f=function(){if(this.o){if(this.Da){this.Da=false;this.Pa=true;this.o.abort();this.Pa=false}Eg(this,true)}xg.a.f.call(this)};
l.ge=function(){!this.Oc&&!this.cc&&!this.Pa?this.Xc():Fg(this)};l.Xc=function(){Fg(this)};
function Fg(a){if(a.Da)if(typeof da!="undefined")if(a.sc[1]&&Gg(a)==4&&Hg(a)==2)dg(a.J,Bg(a,"Local request error detected and ignored"));else if(a.cc&&Gg(a)==4)ee.setTimeout(ra(a.ge,a),0);else{a.dispatchEvent("readystatechange");if(Gg(a)==4){dg(a.J,Bg(a,"Request complete"));a.Da=false;var d;a:switch(Hg(a)){case 0:case 200:case 204:case 304:d=true;break a;default:d=false;break a}if(d){a.dispatchEvent("complete");a.dispatchEvent("success")}else{a.Db=6;var e;try{e=Gg(a)>2?a.o.statusText:""}catch(f){dg(a.J,
"Can not get status: "+f.message);e=""}a.Eb=e+" ["+Hg(a)+"]";Dg(a)}Eg(a)}}}function Eg(a,d){if(a.o){var e=a.o,f=a.sc[0]?ga:null;a.o=null;a.sc=null;if(a.$a){ee.clearTimeout(a.$a);a.$a=null}if(!d){rg(wg,e);a.dispatchEvent("ready");sg(wg)}if(wg.X){var g=oa(e);dg(wg.J,"Closing XHR : "+g);delete wg.tc[g];for(var h in wg.Ha){yb(wg.Ha[h],g);wg.Ha[h].length==0&&delete wg.Ha[h]}}try{e.onreadystatechange=f}catch(m){a.J.log(Yf,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}l.Cb=function(){return!!this.o};
function Gg(a){return a.o?a.o.readyState:0}function Hg(a){try{return Gg(a)>2?a.o.status:-1}catch(d){a.J.log(Zf,"Can not get status: "+d.message,void 0);return-1}}function Ig(a){try{return a.o?a.o.responseText:""}catch(d){dg(a.J,"Can not get responseText: "+d.message);return""}}
function Jg(a,d){if(a.o){var e=a.o.responseText;if(d&&e.indexOf(d)==0)e=e.substring(d.length);var f;a:{e=String(e);if(/^\s*$/.test(e)?false:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{f=eval("("+e+")");break a}catch(g){}throw Error("Invalid JSON string: "+e);}return f}}
function Bg(a,d){return d+" ["+a.Rd+" "+a.Sd+" "+Hg(a)+"]"}Fb[Fb.length]=function(a){xg.prototype.Xc=a(xg.prototype.Xc)};function Kg(){}r(Kg,ef);ha(Kg);Kg.prototype.k=function(a){return a.M().k("div",this.h()+" goog-inline-block","\u00a0")};Kg.prototype.s=function(a,d){d=Kg.a.s.call(this,a,d);Sc(d,"goog-inline-block");return d};Kg.prototype.h=k("goog-toolbar-separator");function Lg(){}r(Lg,gf);ha(Lg);Lg.prototype.da=k("toolbar");Lg.prototype.xb=function(a){return a.tagName=="HR"?new ff(Kg.A()):Lg.a.xb.call(this,a)};Lg.prototype.h=k("goog-toolbar");Lg.prototype.Bd=function(){return kf};function Mg(a,d,e){nf.call(this,d,a||Lg.A(),e)}r(Mg,nf);function Ng(){}r(Ng,Ne);ha(Ng);l=Ng.prototype;l.da=k("button");l.rb=function(a,d,e){if(B)d==16?Me(a,"pressed",e):Ng.a.rb.call(this,a,d,e)};l.k=function(a){var d=Ng.a.k.call(this,a),e=a.zb();e&&this.fd(d,e);(e=a.O())&&this.ka(d,e);a.N&16&&this.rb(d,16,false);return d};l.s=function(a,d){d=Ng.a.s.call(this,a,d);var e=this.O(d);a.jd=e;a.hd=this.zb(d);a.N&16&&this.rb(d,16,false);return d};l.O=ga;l.ka=ga;l.zb=function(a){return a.title};l.fd=function(a,d){if(a)a.title=d||""};l.h=k("goog-button");function Og(){}r(Og,Ng);ha(Og);l=Og.prototype;l.da=aa();l.k=function(a){Pg(this,a);return a.M().k("button",{"class":this.fb(a).join(" "),disabled:!a.F(),title:a.zb()||"",value:a.O()||""},a.La()||"")};l.aa=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};l.s=function(a,d){Pg(this,a);d.disabled&&Sc(d,this.wb(1));return Og.a.s.call(this,a,d)};l.kb=function(a){Ce(a).j(a.d(),Ec,a.Ta)};l.Mb=ga;l.qb=ga;l.va=function(a){return a.F()};
l.Ba=ga;l.Z=function(a,d,e){Og.a.Z.call(this,a,d,e);if((a=a.d())&&d==1)a.disabled=e};l.O=function(a){return a.value};l.ka=function(a,d){if(a)a.value=d};l.rb=ga;function Pg(a,d){We(d,false);d.pd&=-256;af(d,32,false)};function Qg(a,d,e){Ve.call(this,a,d||Og.A(),e)}r(Qg,Ve);l=Qg.prototype;l.O=ca("jd");l.ka=function(a){this.jd=a;this.e.ka(this.d(),a)};l.zb=ca("hd");l.fd=function(a){this.hd=a;this.e.fd(this.d(),a)};l.f=function(){Qg.a.f.call(this);delete this.jd;delete this.hd};l.R=function(){Qg.a.R.call(this);if(this.N&32){var a=this.I();a&&Ce(this).j(a,Ic,this.ib)}};l.ib=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type==Ic)return this.Ta(a);return a.keyCode==32};Se("goog-button",function(){return new Qg(null)});function Rg(){}r(Rg,Ng);ha(Rg);l=Rg.prototype;l.k=function(a){var d={"class":"goog-inline-block "+this.fb(a).join(" "),title:a.zb()||""};return a.M().k("div",d,this.Wb(a.ma,a.M()))};l.H=function(a){return a&&a.firstChild.firstChild};l.Wb=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-outer-box"),d.k("div","goog-inline-block "+(this.h()+"-inner-box"),a))};l.aa=function(a){return a.tagName=="DIV"};
l.s=function(a,d){Sg(d,true);Sg(d,false);var e;a:{if((e=a.M().Cd(d))&&e.className.indexOf(this.h()+"-outer-box")!=-1)if((e=a.M().Cd(e))&&e.className.indexOf(this.h()+"-inner-box")!=-1){e=true;break a}e=false}e||d.appendChild(this.Wb(d.childNodes,a.M()));Sc(d,"goog-inline-block",this.h());return Rg.a.s.call(this,a,d)};l.h=k("goog-custom-button");
function Sg(a,d){if(a)for(var e=d?a.firstChild:a.lastChild,f;e&&e.parentNode==a;){f=d?e.nextSibling:e.previousSibling;if(e.nodeType==3){var g=e.nodeValue;if(za(g)=="")a.removeChild(e);else{e.nodeValue=d?g.replace(/^[\s\xa0]+/,""):g.replace(/[\s\xa0]+$/,"");break}}else break;e=f}};function Tg(){}r(Tg,Rg);ha(Tg);Tg.prototype.h=k("goog-toolbar-button");function Ug(a,d,e){Qg.call(this,a,d||Tg.A(),e)}r(Ug,Qg);Se("goog-toolbar-button",function(){return new Ug(null)});function Vg(a,d,e,f,g,h,m,o){var q,s=e.offsetParent;if(s){var u=s.tagName=="HTML"||s.tagName=="BODY";if(!u||xd(s,"position")!="static"){q=Ed(s);u||(q=Vc(q,new Uc(s.scrollLeft,s.scrollTop)))}}s=Jd(a);if(u=Dd(a)){var t=new vd(u.left,u.top,u.right-u.left,u.bottom-u.top);u=Math.max(s.left,t.left);var C=Math.min(s.left+s.width,t.left+t.width);if(u<=C){var z=Math.max(s.top,t.top);t=Math.min(s.top+s.height,t.top+t.height);if(z<=t){s.left=u;s.top=z;s.width=C-u;s.height=t-z}}}u=Yc(a);z=Yc(e);if(u.p!=z.p){C=
u.p.body;z=z.p.parentWindow||z.p.defaultView;t=new Uc(0,0);var P=$c(C)?$c(C).parentWindow||$c(C).defaultView:window,T=C;do{var X;if(P==z)X=Ed(T);else{var L=T;X=new Uc;if(L.nodeType==1)if(L.getBoundingClientRect){var Cb=Bd(L);X.x=Cb.left;X.y=Cb.top}else{Cb=td(Yc(L));L=Ed(L);X.x=L.x-Cb.x;X.y=L.y-Cb.y}else{X.x=L.clientX;X.y=L.clientY}X=X}X=X;t.x+=X.x;t.y+=X.y}while(P&&P!=z&&(T=P.frameElement)&&(P=P.parent));z=t;z=Vc(z,Ed(C));if(A&&!bd(u.p))z=Vc(z,td(u));s.left+=z.x;s.top+=z.y}a=(d&4&&Fd(a)?d^2:d)&-5;
d=new Uc(a&2?s.left+s.width:s.left,a&1?s.top+s.height:s.top);if(q)d=Vc(d,q);if(g){d.x+=(a&2?-1:1)*g.x;d.y+=(a&1?-1:1)*g.y}var O;if(m)if((O=Dd(e))&&q){O.top=Math.max(0,O.top-q.y);O.right-=q.x;O.bottom-=q.y;O.left=Math.max(0,O.left-q.x)}a:{g=d;O=O;g=g.Fa();q=0;a=(f&4&&Fd(e)?f^2:f)&-5;f=Id(e);o=o?o.Fa():f;if(h||a!=0){if(a&2)g.x-=o.width+(h?h.right:0);else if(h)g.x+=h.left;if(a&1)g.y-=o.height+(h?h.bottom:0);else if(h)g.y+=h.top}if(m){if(O){h=g;q=0;if(h.x<O.left&&m&1){h.x=O.left;q|=1}if(h.x<O.left&&h.x+
o.width>O.right&&m&16){o.width-=h.x+o.width-O.right;q|=4}if(h.x+o.width>O.right&&m&1){h.x=Math.max(O.right-o.width,O.left);q|=1}if(m&2)q|=(h.x<O.left?16:0)|(h.x+o.width>O.right?32:0);if(h.y<O.top&&m&4){h.y=O.top;q|=2}if(h.y>=O.top&&h.y+o.height>O.bottom&&m&32){o.height-=h.y+o.height-O.bottom;q|=8}if(h.y+o.height>O.bottom&&m&4){h.y=Math.max(O.bottom-o.height,O.top);q|=2}if(m&8)q|=(h.y<O.top?64:0)|(h.y+o.height>O.bottom?128:0);m=q}else m=256;q=m;if(q&496){e=q;break a}}yd(e,g);Xc(f,o)||Hd(e,o);e=q}return e}
;function Wg(){}Wg.prototype.Va=aa();function Xg(a,d){this.element=a;this.db=d}r(Xg,Wg);Xg.prototype.Va=function(a,d,e){Vg(this.element,this.db,a,d,undefined,e)};function Yg(a,d,e){Xg.call(this,a,d);this.ye=e}r(Yg,Xg);Yg.prototype.Va=function(a,d,e,f){var g=Vg(this.element,this.db,a,d,null,e,10,f);if(g&496){var h=this.db,m=d;if(g&48){h^=2;m^=2}if(g&192){h^=1;m^=1}g=Vg(this.element,h,a,m,null,e,10,f);if(g&496)this.ye?Vg(this.element,this.db,a,d,null,e,5,f):Vg(this.element,this.db,a,d,null,e,0,f)}};function Zg(a,d,e,f){Yg.call(this,a,d,e);this.hf=f}r(Zg,Yg);Zg.prototype.Va=function(a,d,e,f){this.hf?Vg(this.element,this.db,a,d,null,e,33,f):Zg.a.Va.call(this,a,d,e,f)};function $g(){}r($g,Rg);ha($g);if(B)$g.prototype.Xa=function(a,d){var e=$g.a.H.call(this,a&&a.firstChild);if(e){var f=this.createCaption(d,Yc(a)),g=e.parentNode;g&&g.replaceChild(f,e)}};l=$g.prototype;l.H=function(a){a=$g.a.H.call(this,a&&a.firstChild);if(B&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};l.s=function(a,d){var e=ad(document,"*","goog-menu",d)[0];if(e){Kd(e,false);$c(e).body.appendChild(e);var f=new Ef;f.s(e);a.Nb(f)}return $g.a.s.call(this,a,d)};
l.Wb=function(a,d){return $g.a.Wb.call(this,[this.createCaption(a,d),d.k("div","goog-inline-block "+(this.h()+"-dropdown"),"\u00a0")],d)};l.createCaption=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-caption"),a)};l.h=k("goog-menu-button");function ah(a,d,e,f){Qg.call(this,a,e||$g.A(),f);af(this,64,true);d&&this.Nb(d);this.u=new de(500)}r(ah,Qg);l=ah.prototype;l.md=true;l.bd=false;l.Pc=false;l.R=function(){ah.a.R.call(this);this.g&&bh(this,this.g,true);Me(this.d(),"haspopup","true")};l.ia=function(){ah.a.ia.call(this);if(this.g){this.B(false);this.g.ia();bh(this,this.g,false);var a=this.g.d();a&&jd(a)}};l.f=function(){ah.a.f.call(this);if(this.g){this.g.L();delete this.g}delete this.cf;this.u.L()};
l.Na=function(a){ah.a.Na.call(this,a);if(this.Cb()){this.B(!this.pa());if(this.g)this.g.sa=this.pa()}};l.Ab=function(a){ah.a.Ab.call(this,a);if(this.g&&!this.Cb())this.g.sa=false};l.Ta=function(){this.setActive(false);return true};l.Me=function(a){this.g&&this.g.i&&!this.Ga(a.target)&&this.B(false)};l.Ga=function(a){return a&&ld(this.d(),a)||this.g&&this.g.Ga(a)||false};
l.ib=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!=Ic)return false}else if(a.type!="key")return false;if(this.g&&this.g.i){var d=this.g.ea(a);if(a.keyCode==27){this.B(false);return true}return d}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.B(true);return true}return false};l.Hc=function(){this.B(false)};l.Qe=function(){this.Cb()||this.B(false)};l.oa=function(a){this.Pc||this.B(false);ah.a.oa.call(this,a)};function ch(a){a.g||a.Nb(new Ef(a.M()));return a.g||null}
l.Nb=function(a){var d=this.g;if(a!=d){if(d){this.B(false);this.q&&bh(this,d,false);delete this.g}if(a){this.g=a;De(a,this);a.l(false);Gf(a,this.Pc);this.q&&bh(this,a,true)}}return d};l.Ea=function(a){ch(this).tb(a,true)};l.bb=function(a,d){ch(this).ub(a,d,true)};l.yb=function(a){return this.g?Ie(this.g,a):null};l.Bc=function(){return this.g?He(this.g):0};l.l=function(a,d){var e=ah.a.l.call(this,a,d);e&&!this.i&&this.B(false);return e};l.Aa=function(a){ah.a.Aa.call(this,a);this.F()||this.B(false)};
l.B=function(a){ah.a.B.call(this,a);if(this.g&&!!(this.n&64)==a){if(a){this.g.q||this.g.Yc();this.se=Dd(this.d());this.qd=Jd(this.d());dh(this);qf(this.g,-1)}else{this.setActive(false);this.g.sa=false;if(this.jc!=null){this.jc=undefined;var d=this.g.d();d&&Hd(d,"","")}}this.g.l(a);d=Ce(this);var e=a?d.j:d.Q;e.call(d,sd(this.M()),"mousedown",this.Me,true);this.Pc&&e.call(d,this.g,"blur",this.Qe);e.call(d,this.u,fe,this.ic);a?this.u.start():this.u.stop()}};
function dh(a){if(a.g.q){var d=a.cf||a.d();d=new Zg(d,a.md?5:7,!a.bd,a.bd);var e=a.g.d();if(!a.g.i){e.style.visibility="hidden";Kd(e,true)}if(!a.jc&&a.bd)a.jc=Id(e);d.Va(e,a.md?4:6,null,a.jc);if(!a.g.i){Kd(e,false);e.style.visibility="visible"}}}
l.ic=function(){var a=Jd(this.d()),d=Dd(this.d()),e;e=this.qd;e=e==a?true:!e||!a?false:e.left==a.left&&e.width==a.width&&e.top==a.top&&e.height==a.height;if(!(e=!e)){e=this.se;e=e==d?true:!e||!d?false:e.top==d.top&&e.right==d.right&&e.bottom==d.bottom&&e.left==d.left;e=!e}if(e){this.qd=a;this.se=d;dh(this)}};function bh(a,d,e){var f=Ce(a);e=e?f.j:f.Q;e.call(f,d,ye,a.Hc);e.call(f,d,"highlight",a.Gc);e.call(f,d,"unhighlight",a.Lc)}l.Gc=function(a){Me(this.d(),"activedescendant",a.target.d().id)};
l.Lc=function(){rf(this.g)||Me(this.d(),"activedescendant","")};Se("goog-menu-button",function(){return new ah(null)});function eh(){}r(eh,$g);ha(eh);eh.prototype.h=k("goog-toolbar-menu-button");function fh(a,d,e,f){ah.call(this,a,d,e||eh.A(),f)}r(fh,ah);Se("goog-toolbar-menu-button",function(){return new fh(null)});function gh(a){this.Qa=[];hh(this,a)}r(gh,Pd);l=gh.prototype;l.za=null;l.Wa=null;l.Bc=function(){return this.Qa.length};l.yb=function(a){return this.Qa[a]||null};function hh(a,d){if(d){tb(d,function(e){ih(this,e,false)},a);Bb(a.Qa,d)}}l.Ea=function(a){this.bb(a,this.Bc())};l.bb=function(a,d){if(a){ih(this,a,false);Db(this.Qa,d,0,a)}};l.Zb=ca("za");l.Ya=function(a){if(a!=this.za){ih(this,this.za,false);this.za=a;ih(this,a,true)}this.dispatchEvent("select")};
l.Dc=function(){return this.za?sb(this.Qa,this.za):-1};l.me=function(a){this.Ya(this.yb(a))};l.clear=function(){var a=this.Qa;if(!ja(a))for(var d=a.length-1;d>=0;d--)delete a[d];a.length=0;this.za=null};l.f=function(){gh.a.f.call(this);delete this.Qa;this.za=null};function ih(a,d,e){if(d)if(typeof a.Wa=="function")a.Wa(d,e);else typeof d.ed=="function"&&d.ed(e)};function jh(a,d,e,f){ah.call(this,a,d,e,f);this.Xb=a;kh(this)}r(jh,ah);l=jh.prototype;l.t=null;l.Xb=null;l.R=function(){jh.a.R.call(this);kh(this)};l.Ia=function(a){jh.a.Ia.call(this,a);if(a=this.La()){this.Xb=a;kh(this)}else this.me(0)};l.f=function(){jh.a.f.call(this);if(this.t){this.t.L();this.t=null}this.Xb=null};l.Hc=function(a){this.Ya(a.target);jh.a.Hc.call(this,a);a.stopPropagation();this.dispatchEvent(ye)};l.Te=function(){var a=this.Zb();jh.a.ka.call(this,a&&a.O());kh(this)};
l.Nb=function(a){var d=jh.a.Nb.call(this,a);if(a!=d){this.t&&this.t.clear();if(a)this.t?Ge(a,function(e){this.t.Ea(e)},this):lh(this,a)}return d};l.Ea=function(a){jh.a.Ea.call(this,a);this.t?this.t.Ea(a):lh(this,ch(this))};l.bb=function(a,d){jh.a.bb.call(this,a,d);this.t?this.t.bb(a,d):lh(this,ch(this))};l.Ya=function(a){this.t&&this.t.Ya(a)};l.me=function(a){this.t&&this.Ya(this.t.yb(a))};
l.ka=function(a){if(a!=null&&this.t)for(var d=0,e;e=this.t.yb(d);d++)if(e&&typeof e.O=="function"&&e.O()==a){this.Ya(e);return}this.Ya(null)};l.Zb=function(){return this.t?this.t.Zb():null};l.Dc=function(){return this.t?this.t.Dc():-1};function lh(a,d){a.t=new gh;d&&Ge(d,function(e){this.t.Ea(e)},a);Ce(a).j(a.t,"select",a.Te)}function kh(a){var d=a.Zb();a.Xa(d?d.La():a.Xb)}l.B=function(a){jh.a.B.call(this,a);this.pa()&&qf(ch(this),this.Dc())};Se("goog-select",function(){return new jh(null)});function mh(a,d,e,f){jh.call(this,a,d,e||eh.A(),f)}r(mh,jh);Se("goog-toolbar-select",function(){return new mh(null)});function nh(a,d){ff.call(this,a||Kg.A(),d)}r(nh,ff);Se("goog-toolbar-separator",function(){return new nh});function oh(a,d,e){Qg.call(this,a,d||Rg.A(),e);af(this,16,true)}r(oh,Qg);Se("goog-toggle-button",function(){return new oh(null)});function ph(a,d,e){oh.call(this,a,d||Tg.A(),e)}r(ph,oh);Se("goog-toolbar-toggle-button",function(){return new ph(null)});function qh(a,d,e){Cf.call(this,a,d,e);this.dd(true)}r(qh,Cf);qh.prototype.Ta=function(){return this.dispatchEvent(ye)};Se("goog-option",function(){return new qh(null)});function rh(a,d,e){Qg.call(this,a,d||Rg.A(),e)}r(rh,Qg);Se("goog-custom-button",function(){return new rh(null)});function sh(){this.ef=ta()}new sh;sh.prototype.pb=ba("ef");sh.prototype.reset=function(){this.pb(ta())};function th(a,d,e){this.Wd=a;this.Wa=e;this.e=d;D(d,[uh,vh,wh,xh],this);this.la=null;this.G=[];this.U=-1;this.W=0;this.Ja=this.V=null}r(th,Pd);l=th.prototype;l.Ye=10;l.De=true;l.nd=false;l.ve=false;l.rf=false;var uh="hilite",vh="select",xh="dismiss",wh="canceldismiss";l=th.prototype;l.handleEvent=function(a){if(a.target==this.e)switch(a.type){case uh:this.fa(a.b);break;case vh:yh(this);break;case wh:zh(this);break;case xh:Ah(this);break}};l.pa=function(){return this.e.i};
function Bh(a){var d=a.W+a.G.length-1;if(a.U>=a.W&&a.U<d){a.fa(a.U+1);return true}else if(a.U==-1){a.fa(a.W);return true}else if(a.U==d)if(a.nd){a.fa(-1);return false}else if(a.ve){a.fa(a.W);return true}return false}function Ch(a){if(a.U>a.W){a.fa(a.U-1);return true}else if(a.nd&&a.U==a.W){a.fa(-1);return false}else if(a.ve&&(a.U==-1||a.U==a.W)){a.fa(a.W+a.G.length-1);return true}return false}l.fa=function(a){this.U=a;this.e.fa(a);return Dh(this,a)!=-1};
function yh(a){var d=Dh(a,a.U);if(d!=-1){d=a.G[d];var e=a.Wa,f=d.toString();if(e.mb){var g=Eh(e,e.O(),Fh(e.w)),h=Gh(e,e.O());f=f;e.kf.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+e.Ee);if(e.vf){if(g!=0&&!ya(h[g-1]))f=" "+f;if(g==h.length-1)f+=" "}if(f!=h[g]){h[g]=f;f=e.w;B&&f.blur();f.value=h.join("");for(var m=0,o=0;o<=g;o++)m+=h[o].length;f.focus();g=m;h=e.w;f=g;if(Hh(h))h.selectionStart=f;else if(A){m=Ih(h);o=m[0];if(o.inRange(m[1])){f=Jh(h,f);o.collapse(true);o.move("character",f);o.select()}}h=e.w;
g=g;if(Hh(h))h.selectionEnd=g;else if(A){m=Ih(h);f=m[1];if(m[0].inRange(f)){g=Jh(h,g);h=Jh(h,Fh(h));f.collapse(true);f.moveEnd("character",g-h);f.select()}}}}else e.ka(f);e.ad=true;a.ua();a.dispatchEvent({type:"update",b:d});a.rf&&a.Wa.update(true);return true}else{a.ua();a.dispatchEvent({type:"update",b:null});return false}}l.ua=function(){this.U=-1;this.la=null;this.W+=this.G.length;this.G=[];window.clearTimeout(this.Ja);this.Ja=null;this.e.ua()};
function Ah(a){if(!a.Ja)a.Ja=window.setTimeout(ra(a.ua,a),100)}function zh(a){window.setTimeout(ra(function(){if(this.Ja){window.clearTimeout(this.Ja);this.Ja=null}},a),10)}l.f=function(){th.a.f.call(this);this.e.L();this.Wa.L();this.Wd=null};l.Xe=function(a,d,e){this.la==a&&this.Zc(d,e)};
l.Zc=function(a,d){var e=d?Dh(this,this.U):null;this.W+=this.G.length;this.G=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.W+g,data:a[g]});this.e.Zc(f,this.la,this.V);if(this.De&&f.length!=0)this.fa(e!=null?this.W+e:this.W);else this.U=-1};function Dh(a,d){var e=d-a.W;if(e<0||e>=a.G.length)return-1;return e}l.wc=function(){var a=this.Wa;a.wc.apply(a,arguments)};function Kh(a,d){this.G=a;this.tf=!d}function Lh(a,d,e){var f=[];if(d!=""){d=Ha(d);var g=RegExp("(^|\\W+)"+d,"i");Nf(a.G,function(h){String(h).match(g)&&f.push(h);return f.length>=e})}return f}
function Mh(a,d,e){var f=[];Mf(a.G,function(h,m){var o=d.toLowerCase(),q=String(h).toLowerCase(),s=0;if(q.indexOf(o)!=-1)s=parseInt((q.indexOf(o)/4).toString(),10);else for(var u=o.split(""),t=-1,C=10,z=0,P;P=u[z];z++){P=q.indexOf(P);if(P>t){t=P-t-1;if(t>C-5)t=C-5;s+=t;t=P}else{s+=C;C+=5}}s<o.length*6&&f.push({of:h,ke:s,index:m})});f.sort(function(h,m){var o=h.ke-m.ke;if(o!=0)return o;return h.index-m.index});a=[];for(var g=0;g<e&&g<f.length;g++)a.push(f[g].of);return a};function Fh(a){var d;a:{var e=0,f=0;if(Hh(a)){e=a.selectionStart;f=-1}else if(A){var g=Ih(a);d=g[0];g=g[1];if(d.inRange(g)){d.setEndPoint("EndToStart",g);if(a.type=="textarea"){g.duplicate();e=a=d.text;for(f=false;!f;)if(d.compareEndPoints("StartToEnd",d)==0)f=true;else{d.moveEnd("character",-1);if(d.text==a)e+="\r\n";else f=true}d=[e.length,-1];break a}e=d.text.length;f=-1}}d=[e,f]}return d[0]}
function Ih(a){var d=a.ownerDocument||a.document,e=d.selection.createRange();if(a.type=="textarea"){d=d.body.createTextRange();d.moveToElementText(a)}else d=a.createTextRange();return[d,e]}function Jh(a,d){if(a.type=="textarea")d=a.value.substring(0,d).replace(/(\r\n|\r|\n)/g,"\n").length;return d}function Hh(a){try{return typeof a.selectionStart=="number"}catch(d){return false}};function Nh(a,d,e,f){f=f||150;this.Lb=a!=null?a:Oh;this.Ee=this.Lb.substring(0,1);a=this.mb?"[\\s"+this.Lb+"]+":"[\\s]+";this.qe=RegExp("^"+a+"|"+a+"$","g");this.kf=RegExp("\\s*["+this.Lb+"]$");this.Vd=d||"";this.df=this.mb=e!=null?e:true;this.u=f>0?new de(f):null;this.T=new re(this);this.Sb=new re(this);this.P=new Xd;this.Qd=-1}r(Nh,Jb);var Oh=",;";l=Nh.prototype;l.vf=true;l.He=true;l.re=false;l.mf=true;l.lf=true;l.w=null;l.Tc="";l.Ca=false;l.ad=false;l.sf=true;l.O=function(){return this.w.value};
l.ka=function(a){this.w.value=a};l.wc=function(){for(var a=0;a<arguments.length;a++){var d=arguments[a];Me(d,"haspopup",true);this.T.j(d,Kc,this.Ma);this.T.j(d,Jc,this.oa);this.w||this.Sb.j(d,Hc,this.af)}};l.f=function(){Nh.a.f.call(this);this.T.L();delete this.T;this.Sb.L();this.Sb=null};
l.ea=function(a){switch(a.keyCode){case 40:if(this.z.pa()){this.re?Ch(this.z):Bh(this.z);a.preventDefault();return true}else if(!this.mb){this.update(true);a.preventDefault();return true}break;case 38:if(this.z.pa()){this.re?Bh(this.z):Ch(this.z);a.preventDefault();return true}break;case 9:if(this.z.pa()){this.update();if(yh(this.z)&&this.df){a.preventDefault();return true}}else this.z.ua();break;case 13:this.update();if(yh(this.z)){a.preventDefault();a.stopPropagation();return true}break;case 27:if(this.z.pa()){this.z.ua();
return true}break;case 229:if(!this.Ca){if(!this.Ca){this.T.j(this.w,Ic,this.ee);this.T.j(this.w,"keypress",this.de);this.Ca=true}return true}break;default:if(this.u&&!this.sf){this.u.stop();this.u.start()}}return Ph(this,a)};function Ph(a,d){var e=a.mb&&d.charCode&&a.Lb.indexOf(String.fromCharCode(d.charCode))!=-1;a.mf&&e&&a.update();if(a.lf&&e)if(yh(a.z)){d.preventDefault();return true}return false}l.Oe=k(false);
l.Ma=function(a){te(this.Sb);this.z&&zh(this.z);if(a.target!=this.w){this.w=a.target||null;if(this.u){this.u.start();this.T.j(this.u,fe,this.ic)}this.Tc=this.O();Yd(this.P,this.w);this.T.j(this.P,"key",this.fe);A&&this.T.j(this.w,"keypress",this.ce)}};l.oa=function(){if(this.w){this.T.Q(this.P,"key",this.fe);this.P.detach();this.T.Q(this.w,Ic,this.Oe);A&&this.T.Q(this.w,"keypress",this.ce);this.Ca&&Qh(this);this.w=null;if(this.u){this.u.stop();this.T.Q(this.u,fe,this.ic)}this.z&&Ah(this.z)}};
l.ic=function(){this.update()};l.af=function(a){this.Ma(a)};l.fe=function(a){this.Qd=a.keyCode;this.z&&this.ea(a)};l.de=function(){this.Ca&&this.Qd!=229&&Qh(this)};l.ee=function(a){if(this.Ca&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey))Qh(this)};function Qh(a){if(a.Ca){a.Ca=false;a.T.Q(a.w,"keypress",a.de);a.T.Q(a.w,Ic,a.ee)}}l.ce=function(a){Ph(this,a)};
l.update=function(a){if(a||this.w&&this.O()!=this.Tc){if(a||!this.ad){var d;a=Fh(this.w);d=this.O();a=Gh(this,d)[Eh(this,d,a)];d=this.qe?String(a).replace(this.qe,""):a;if(this.z){this.z.V=this.w;a=this.z;this.O();if(a.la!=d){a.la=d;d=a.Wd;var e=a.la,f=a.Ye,g=ra(a.Xe,a),h=Lh(d,e,f);if(h.length==0&&d.tf)h=Mh(d,e,f);g(e,h);zh(a)}}}this.Tc=this.O()}this.ad=false};function Eh(a,d,e){a=Gh(a,d);if(e==d.length)return a.length-1;for(var f=d=0,g=0;f<a.length&&g<e;f++){g+=a[f].length;d=f}return d}
function Gh(a,d){if(!a.mb)return[d];for(var e=String(d).split(""),f=[],g=[],h=0,m=false;h<e.length;h++)if(a.Vd&&a.Vd.indexOf(e[h])!=-1){if(a.He&&!m){f.push(g.join(""));g.length=0}g.push(e[h]);m=!m}else if(!m&&a.Lb.indexOf(e[h])!=-1){g.push(e[h]);f.push(g.join(""));g.length=0}else g.push(e[h]);f.push(g.join(""));return f};function Rh(a,d,e,f){this.r=a||document.body;this.D=Yc(this.r);this.gf=!a;this.c=null;this.la="";this.G=[];this.ne=this.bc=-1;this.i=false;this.className="ac-renderer";this.$c="ac-row";this.Td="active";this.ld="ac-active";this.Ue="ac-highlighted";this.eb=d||null;this.uf=f!=null?f:true;this.Mc=false;this.jf=e!=null?e:false;this.Qc=null;this.oc=false}r(Rh,Pd);l=Rh.prototype;l.d=ca("c");l.Zc=function(a,d,e){this.la=d;this.G=a;this.bc=-1;this.ne=ta();this.V=e;this.Kb=[];Sh(this)};
l.ua=function(){this.V&&Me(this.V,"activedescendant","");if(this.i){this.i=false;Kd(this.c,false)}};l.show=function(){if(!this.i){this.i=true;Kd(this.c,true)}};
function Th(a,d){a.bc>=0&&Tc(a.Kb[a.bc],a.ld,a.Td);a.bc=d;if(d>=0&&d<a.c.childNodes.length){var e=a.Kb[d];Sc(e,a.ld,a.Td);if(a.V)Me(a.V,"activedescendant",e?e.id:"");var f=a.c,g=Ed(e),h=Ed(f),m;if(A){var o=Od(f,"borderLeft");m=Od(f,"borderRight");var q=Od(f,"borderTop"),s=Od(f,"borderBottom");m=new ud(q,m,s,o)}else{o=wd(f,"borderLeftWidth");m=wd(f,"borderRightWidth");q=wd(f,"borderTopWidth");s=wd(f,"borderBottomWidth");m=new ud(parseFloat(q),parseFloat(m),parseFloat(s),parseFloat(o))}o=g.x-h.x-m.left;
g=g.y-h.y-m.top;h=f.clientHeight-e.offsetHeight;f.scrollLeft+=Math.min(o,Math.max(o-(f.clientWidth-e.offsetWidth),0));f.scrollTop+=Math.min(g,Math.max(g-h,0))}}l.fa=function(a){if(a==-1)Th(this,-1);else for(var d=0;d<this.G.length;d++)if(this.G[d].id==a){Th(this,d);return}};
function Uh(a){if(!a.c){var d=a.D.k("div",{style:"display:none"});a.c=d;Sc(d,a.className);Le(d,"listbox");d.id=ve(ue.A());if(a.V){Le(a.V,"combobox");Me(a.V,"autocomplete","list");Me(a.V,"haspopup",true)}a.D.appendChild(a.r,d);D(d,Ec,a.Dd,false,a);D(d,"mousedown",a.Hd,false,a);D(a.D.p,Ec,a.Fd,false,a);D(d,Fc,a.Id,false,a)}}
function Sh(a){Uh(a);if(a.oc)a.c.style.visibility="hidden";a.Kb.length=0;a.D.je(a.c);if(a.eb&&a.eb.Yc)a.eb.Yc(a,a.c,a.G,a.la);else{var d=null;Mf(a.G,function(e){e=e;var f=this.la,g=this.D.k("div",{className:this.$c,id:ve(ue.A())});Le(g,"option");if(this.eb&&this.eb.ff)this.eb.ff(e,f,g);else g.innerHTML=Aa(e.data.toString());f&&this.uf&&Vh(this,g,f);Sc(g,this.$c);this.Kb.push(g);e=g;this.oc?this.c.insertBefore(e,d):this.D.appendChild(this.c,e);d=e},a)}if(a.G.length==0)a.ua();else{a.show();Wh(a,a.c);
a.Va();Md(a.c,true)}}l.Va=function(){if(this.V&&this.gf){var a=Ed(this.V),d=Id(this.V),e=Id(Ad(this.V)),f=Id(this.c);a.y=this.oc?a.y-f.height:a.y+d.height;if((this.jf||a.x+f.width>e.width)&&this.Qc!="LEFT"){a.x=a.x+d.width-f.width;this.Qc="RIGHT"}else this.Qc="LEFT";Gd(this.c,a);if(this.oc)this.c.style.visibility="visible"}};
l.f=function(){Rh.a.f.call(this);if(this.c){zc(this.c,Ec,this.Dd,false,this);zc(this.c,"mousedown",this.Hd,false,this);zc(this.D.p,Ec,this.Fd,false,this);zc(this.c,Fc,this.Id,false,this);this.D.removeNode(this.c);this.c=null;this.i=false}delete this.r};function Wh(a,d){if(B&&bb){d.style.width="";d.style.overflow="visible";d.style.width=d.offsetWidth;d.style.overflow="auto"}}
function Vh(a,d,e){if(d.nodeType==3){var f=null;if(ja(e)&&e.length>1&&!a.Mc)f=Eb(e,1);e=Xh(a,e);if(e.length!=0){var g=d.nodeValue,h=RegExp("(.*?)(^|\\W+)("+e+")","gi");e=[];for(var m=0,o=h.exec(g),q=0;o;){q++;e.push(o[1]);e.push(o[2]);e.push(o[3]);m=h.lastIndex;o=h.exec(g)}e.push(g.substring(m));if(e.length>1){f=!a.Mc?1:q;for(g=0;g<f;g++){h=3*g;d.nodeValue=e[h]+e[h+1];m=a.D.createElement("b");m.className=a.Ue;a.D.appendChild(m,a.D.createTextNode(e[h+2]));m=d.parentNode.insertBefore(m,d.nextSibling);
d.parentNode.insertBefore(a.D.createTextNode(""),m.nextSibling);d=m.nextSibling}a=Eb(e,f*3);d.nodeValue=a.join("")}else f&&Vh(a,d,f)}}else for(d=d.firstChild;d;){f=d.nextSibling;Vh(a,d,e);d=f}}function Xh(a,d){var e="";if(!d)return e;if(a.Mc)if(ja(d)){e=ub(d,function(f){return!ya(f==null?"":String(f))});e=vb(e,Ha);e=e.join("|")}else{e=xa(d);e=Ha(e);e=e.replace(/ /g,"|")}else e=ja(d)?d.length>0?Ha(d[0]):"":Ha(d);return e}
function Yh(a,d){for(;d&&d!=a.c&&!xb(Rc(d),a.$c);)d=d.parentNode;return d?sb(a.Kb,d):-1}l.Dd=function(a){var d=Yh(this,a.target);d>=0&&this.dispatchEvent({type:vh,b:this.G[d].id});a.stopPropagation()};l.Hd=function(a){this.dispatchEvent(wh);a.stopPropagation();a.preventDefault()};l.Fd=function(){this.dispatchEvent(xh)};l.Id=function(a){a=Yh(this,a.target);if(a>=0)ta()-this.ne<300||this.dispatchEvent({type:uh,b:this.G[a].id})};function Zh(a,d,e,f){a=new Kh(a,!f);f=new Rh;e=new Nh(null,null,!!e);th.call(this,a,f,e);e.z=this;e.wc(d)}r(Zh,th);function $h(a,d){this.hc=d||"";this.cb=a||""}var ai=/[()<>@,;:\\\".\[\]]/,bi=/\"/g,ci=/\\\"/g,di=/\\/g,ei=/\\\\/g;$h.prototype.getName=ca("hc");$h.prototype.toString=function(){var a=this.getName();a=a.replace(bi,"");if(ai.test(a))a='"'+a.replace(di,"\\\\")+'"';if(a=="")return this.cb;if(this.cb=="")return a;return a+" <"+this.cb+">"};
function fi(a){for(var d="",e="",f=0;f<a.length;){var g=gi(a,f);if(g.charAt(0)=="<"&&g.indexOf(">")!=-1)e=g.substring(1,g.indexOf(">"));else if(e=="")d+=g;f+=g.length}if(e==""&&d.indexOf("@")!=-1){e=d;d=""}d=xa(d);d=Ga(d,"'");d=Ga(d,'"');d=d.replace(ci,'"');d=d.replace(ei,"\\");e=xa(e);return new $h(e,d)}function hi(a){for(var d=[],e="",f,g=0;g<a.length;){f=gi(a,g);if(f==","||f==";"){ya(e)||d.push(fi(e));e="";g++}else{e+=f;g+=f.length}}ya(e)||d.push(fi(e));return d}
function gi(a,d){var e=a.charAt(d),f='"<(['.indexOf(e);if(f==-1)return e;if(ii(a,d))return e;f='">)]'.charAt(f);for(var g=a.indexOf(f,d+1);g>=0&&ii(a,g);)g=a.indexOf(f,g+1);return g>=0?a.substring(d,g+1):e}function ii(a,d){if(a.charAt(d)!='"')return false;for(var e=0,f=d-1;f>=0&&a.charAt(f)=="\\";f--)e++;return e%2!=0};function ji(a,d,e,f){if(!ja(a)||!ja(d))throw Error("Start and end parameters must be arrays");if(a.length!=d.length)throw Error("Start and end points must be the same length");this.Pb=a;this.Ge=d;this.duration=e;this.kd=f;this.coords=[]}r(ji,Pd);var ki="end",li={},mi=null;function ni(){ee.clearTimeout(mi);var a=ta();for(var d in li)oi(li[d],a);mi=lc(li)?null:ee.setTimeout(ni,20)}function pi(a){a=oa(a);delete li[a];if(mi&&lc(li)){ee.clearTimeout(mi);mi=null}}l=ji.prototype;l.n=0;l.Ad=0;l.Y=0;
l.startTime=null;l.xd=null;l.Sc=null;l.play=function(a){if(a||this.n==0){this.Y=0;this.coords=this.Pb}else if(this.n==1)return false;pi(this);this.startTime=ta();if(this.n==-1)this.startTime-=this.duration*this.Y;this.xd=this.startTime+this.duration;this.Sc=this.startTime;this.Y||this.Gb();qi(this,"play");this.n==-1&&qi(this,"resume");this.n=1;a=oa(this);a in li||(li[a]=this);mi||(mi=ee.setTimeout(ni,20));oi(this,this.startTime);return true};
l.stop=function(a){pi(this);this.n=0;if(a)this.Y=1;ri(this,this.Y);qi(this,"stop");this.nb()};l.f=function(){this.n!=0&&this.stop(false);qi(this,"destroy");ji.a.f.call(this)};function oi(a,d){a.Y=(d-a.startTime)/(a.xd-a.startTime);if(a.Y>=1)a.Y=1;a.Ad=1E3/(d-a.Sc);a.Sc=d;ma(a.kd)?ri(a,a.kd(a.Y)):ri(a,a.Y);if(a.Y==1){a.n=0;pi(a);qi(a,"finish");a.nb()}else a.n==1&&a.Wc()}function ri(a,d){a.coords=Array(a.Pb.length);for(var e=0;e<a.Pb.length;e++)a.coords[e]=(a.Ge[e]-a.Pb[e])*d+a.Pb[e]}
l.Wc=function(){qi(this,"animate")};l.Gb=function(){qi(this,"begin")};l.nb=function(){qi(this,ki)};function qi(a,d){a.dispatchEvent(new si(d,a))}function si(a,d){Kb.call(this,a);this.coords=d.coords;this.x=d.coords[0];this.y=d.coords[1];this.Gf=d.coords[2];this.duration=d.duration;this.Y=d.Y;this.yf=d.Ad;this.Ef=d.n;this.wf=d}r(si,Kb);function ti(a,d,e,f,g){ji.call(this,d,e,f,g);this.element=a}r(ti,ji);ti.prototype.pc=ga;ti.prototype.Wc=function(){this.pc();ti.a.Wc.call(this)};ti.prototype.nb=function(){this.pc();ti.a.nb.call(this)};ti.prototype.Gb=function(){this.pc();ti.a.Gb.call(this)};function ui(a,d,e,f,g){if(la(d))d=[d];if(la(e))e=[e];ti.call(this,a,d,e,f,g);if(d.length!=1||e.length!=1)throw Error("Start and end points must be 1D");}r(ui,ti);
ui.prototype.pc=function(){var a=this.coords[0],d=this.element.style;if("opacity"in d)d.opacity=a;else if("MozOpacity"in d)d.MozOpacity=a;else if("filter"in d)d.filter=a===""?"":"alpha(opacity="+a*100+")"};ui.prototype.show=function(){this.element.style.display=""};function vi(a,d,e){ui.call(this,a,1,0,d,e)}r(vi,ui);function wi(a,d,e){ui.call(this,a,1,0,d,e)}r(wi,ui);wi.prototype.Gb=function(){this.show();wi.a.Gb.call(this)};wi.prototype.nb=function(){this.element.style.display="none";wi.a.nb.call(this)};/*
 Rawscripts.com copywrite 2010



*/
window.changeFormat=xi;window.deleteThread=yi;window.newThread=zi;window.tabs=Ai;window.exportScripts=Bi;window.hideExportPrompt=Ci;window.renameScript=Di;window.hideRenamePrompt=Ei;window.renamePrompt=Fi;window.hideNewScriptPrompt=Gi;window.createScript=Hi;window.hideSpellCheck=Ii;window.s_change=Ji;window.s_ignore=Ki;window.s_ignore_all=Mi;window.replaceAndFind=Ni;window.replaceText=Oi;window.hideFindReplacePrompt=Pi;window.hideFindPrompt=Qi;window.findUp=Ri;window.findDown=Si;
window.shareScript=Ti;window.hideSharePrompt=Ui;window.hideEmailPrompt=Vi;window.emailScript=Wi;window.save=Xi;window.setJustPasted=Yi;window.paint=Zi;window.init=$i;window.paste=aj;window.cut=bj;
var cj=0,dj=1,ej=0,fj=true,gj,F=true,hj=false,ij=false,jj=false,G=[],kj=[],H=[],lj=0,mj=false,nj=false,oj=false,pj=[],qj=[],I=[],J=0,K=0,M=0,N=0,Q=0,rj=[],sj=[],tj="#fff",uj="10pt Courier",R=8,vj="#000",S=13,wj=0,xj=["Slugline","Action","Character","Dialog","Parenthetical","Transition"],U="random123456789",yj=true,V=[[62,101,0,1,2],[62,101,0,0,2],[40,261,0,1,1],[36,181,0,0,2],[30,221,0,0,1],[61,591,1,1,2]],Y=850,zj=91,Z=[];notes=[];var Aj=[],Bj=[],Cj=false,Dj,Ej,Fj,Gj;
function $i(){Hj("i");var a=Td,d=new Sd(document.getElementById("canvas"));D(d,a,Ij);D(window,"unload",function(){zc(d,a,Ij)});D(E("find_input"),Hc,function(m){if(m.keyCode==13){m.preventDefault();Si()}});D(E("fr_find_input"),Hc,function(m){if(m.keyCode==13){m.preventDefault();Si()}});D(E("renameField"),Hc,function(m){if(m.keyCode==13){m.preventDefault();Di()}});D(E("subject"),Hc,function(m){m.keyCode==13&&m.preventDefault()});D(E("find_input"),Kc,function(){F=false;hj=true;oj=false});D(E("find_input"),
Jc,function(){F=true;oj=hj=false});D(E("find_input"),Ic,function(m){Jj(m,"f")});D(E("fr_find_input"),Kc,function(){F=false;hj=true;oj=false});D(E("fr_find_input"),Jc,function(){F=true;oj=hj=false});D(E("fr_find_input"),Ic,function(m){Jj(m,"r")});D(E("fr_replace_input"),Kc,function(){F=false;hj=true;oj=false});D(E("fr_replace_input"),Jc,function(){F=true;oj=hj=false});Dj=new Ef;Dj.s(E("fileMenu"));Ff(Dj,0,64);Gf(Dj,true);Dj.l(false);D(E("file"),Ec,Kj);D(E("file"),Fc,Lj);D(E("file"),Gc,Mj);D(Dj,"action",
Nj);Ej=new Ef;Ej.s(E("editMenu"));Ff(Ej,35,64);Gf(Ej,true);Ej.l(false);D(E("edit"),Ec,Kj);D(E("edit"),Fc,Lj);D(E("edit"),Gc,Mj);D(Ej,"action",Nj);Fj=new Ef;Fj.s(E("viewMenu"));Ff(Fj,72,64);Gf(Fj,true);Fj.l(false);D(E("view"),Ec,Kj);D(E("view"),Fc,Lj);D(E("view"),Gc,Mj);D(Fj,"action",Nj);Gj=new Ef;Gj.s(E("shareMenu"));Ff(Gj,113,64);Gf(Gj,true);Gj.l(false);D(E("share"),Ec,Kj);D(E("share"),Fc,Lj);D(E("share"),Gc,Mj);D(Gj,"action",Nj);var e=[["save","S"],["export","E"],["undo","Z"],["redo","Shift Z"],
["find","F"]],f=bb==true?"\u2318":"Ctrl+";for(i in e){var g=E(e[i][0]+"-shortcut");md(g,f+e[i][1])}try{E("user").innerHTML.split("@")[1].split(".")[0]=="gmail"&&zg("/synccontacts",function(m){if(Ig(m.target)!="none")try{var o=Jg(m.target);new Zh(o,document.getElementById("recipient"),true);new Zh(o,document.getElementById("collaborator"),true)}catch(q){}},"POST")}catch(h){}U=window.location.href.split("=")[1];zg("scriptcontent",Oj,"POST","resource_id="+U)}
function Hj(a){var d=ed(window);Hd(E("container"),d);document.getElementById("canvas").height=d.height-60-38;document.getElementById("canvas").width=d.width-320;Y=d.width-323;document.getElementById("sidebar").style.height=d.height-70+"px";if(a=="r"){Pj(0);Zi(false,false,false)}}var Qj=new Qd;D(Qj,"resize",function(){Hj("r")});var Rj=new Xd(document);D(Rj,"key",Sj);
function Sj(a){if(!a.he){if(a.target.id=="ccp"){wj=(new Date).getMilliseconds();if(a.keyCode==13){if(F&&document.getElementById("suggestBox")==null){Tj();Cj&&Uj(M);Z[M][0]=Z[M][0].replace(/\s+$/,"");for(x in notes){if(M<notes[x][0])notes[x][0]+=1;if(M==notes[x][0]&&K<notes[x][1]){notes[x][1]-=K;notes[x][0]+=1}}G.push(["enter",M,K]);kj=[];Z[M][1]==2&&Vj(Z[M][0]);var d=Z[M][0].slice(0,K),e=Z[M][0].slice(K);Z[M][0]=d;if(Z[M][1]==0)var f=1;else if(Z[M][1]==1)f=2;else if(Z[M][1]==2)f=3;else if(Z[M][1]==
4)f=3;else if(Z[M][1]==3)f=2;else if(Z[M][1]==5)f=0;Z.splice(M+1,0,[e,f]);M++;K=0;Q=M;N=K;document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r");Zi(true,"enter",false);Zi(false,"enter",false)}else if(document.getElementById("suggestBox")!=null){Tj();d=Z[M][0].length;e=rf(Wj).La();Z[M][0]=e;G.push(["paste",M,K,Z[M][0].substr(d)]);document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));
K=N=Z[M][0].length}Xj();document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r")}else if(a.keyCode==38)a:if(F&&document.getElementById("suggestBox")==null){if(!(M==0&&K==0)){var g=Z[M][1];if(g==0)d=V[0];else if(g==1)d=V[1];else if(g==2)d=V[2];else if(g==3)d=V[3];else if(g==4)d=V[4];else if(g==5)d=V[5];if(Z[M][0].length>d[0]){var h=Z[M][0].split(" "),m=0;for(g=[];m<h.length;){if(h[m].length>=
d[0]){g.push(h[m].length);m++}if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}}f=0;for(h=g[0];h<K;){f++;h+=g[f]+1}if(M==0&&f==0){K=N=0;break a}if(f==0){Cj&&Uj(M);g=Z[M-1][1];if(g==0)e=V[0];else if(g==1)e=V[1];else if(g==2)e=V[2];else if(g==3)e=V[3];else if(g==4)e=V[4];else if(g==5)e=V[5];if(Z[M-1][0].length<e[0])M--;else{h=Z[M-1][0].split(" ");m=0;for(g=[];m<h.length;)if(h[m].length>=
d[0]){g.push(h[m].length);m++}else if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}M--;K+=Z[M][0].length-g[g.length-1]}if(K>Z[M][0].length)K=Z[M][0].length}else{K-=g[f-1]+1;if(K>h-g[f]-1)K=h-g[f]-1}}else if(M==0)K=0;else{Cj&&Uj(M);g=Z[M-1][1];if(g==0)e=V[0];else if(g==1)e=V[1];else if(g==2)e=V[2];else if(g==3)e=V[3];else if(g==4)e=V[4];else if(g==5)e=V[5];if(Z[M-1][0].length<
e[0])M--;else{h=Z[M-1][0].split(" ");m=0;for(g=[];m<h.length;)if(h[m].length>=d[0]){g.push(h[m].length);m++}else if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}M--;K+=Z[M][0].length-g[g.length-1]}if(K>Z[M][0].length)K=Z[M][0].length}if(!a.shiftKey){N=K;Q=M}ej<0&&Zi(false,false,false)}}else document.getElementById("suggestBox")!=null&&uf(Wj);else if(a.keyCode==40)if(F&&
document.getElementById("suggestBox")==null){if(!(M==Z.length-1&&K==Z[M][0].length)){d=Z[M][1];if(d==0)g=V[0];else if(d==1)g=V[1];else if(d==2)g=V[2];else if(d==3)g=V[3];else if(d==4)g=V[4];else if(d==5)g=V[5];if(Z[M][0].length>g[0]){f=Z[M][0].split(" ");h=0;for(d=[];h<f.length;)if(f[h].length>=g[0]){d.push(f[h].length);h++}else if(f.slice(h).join().length<=g[0]){d.push(f.slice(h).join().length);h=f.length}else{for(e=0;f.slice(h,h+e).join().length<g[0];)e++;d.push(f.slice(h,h+e-1).join().length);
h+=e-1}e=0;for(g=d[0];g<K;){e++;g+=d[e]+1}if(e+1==d.length){Cj&&Uj(M);for(e=0;e<d.length-1;e++)K-=d[e];K--;M++;if(M>Z.length-1){M--;K=Z[M][0].length}if(K>Z[M][0].length)K=Z[M][0].length}else{K+=d[e]+1;if(K>g+d[e+1]+1)K=g+d[e+1]+1}}else if(M==Z.length-1)K=Z[M][0].length;else{M++;if(M>Z.length-1)M=Z.length-1;if(K>Z[M][0].length)K=Z[M][0].length}if(!a.shiftKey){N=K;Q=M}ej>document.getElementById("canvas").height-50&&Zi(false,false,false)}}else document.getElementById("suggestBox")!=null&&vf(Wj);else if(a.keyCode==
39){if(F){d=false;if(!(K==Z[M][0].length&&M==Z.length-1)){if(K==Z[M][0].length){Cj&&Uj(M);M++;K=0;d=true}else K+=1;if(!a.shiftKey){N=K;Q=M}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==37){if(F){d=false;if(!(M==0&&K==0)){if(K==0){Cj&&Uj(M);M--;K=Z[M][0].length;d=true}else K-=1;if(!a.shiftKey){N=K;Q=M}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==8)Yj(a);else if(a.keyCode==46)Zj();else if(a.keyCode==
16)return;else if(a.keyCode==9){a.preventDefault();if(F){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Tj();G.push(["format",M,K,Z[M][1],"tab"]);kj=[];d=false;if(Z[M][1]==0)d=true;e=Z[M][1];if(e==1){Z[M][1]=0;d=true}else if(e==0)Z[M][1]=2;else if(e==2)Z[M][1]=1;else if(e==3)Z[M][1]=4;else if(e==4)Z[M][1]=3;else if(e==5){Z[M][1]=0;d=true}d&&Xj();if(Z[M][1]==4){if(Z[M][0].charAt(0)!="("){Z[M][0]="("+Z[M][0];
K++;N++}if(Z[M][0].charAt(Z[M][0].length-1)!=")")Z[M][0]+=")"}if(Z[M][1]==3){if(Z[M][0].charAt(0)=="("){Z[M][0]=Z[M][0].substr(1);K--;N--}if(Z[M][0].charAt(Z[M][0].length-1)==")")Z[M][0]=Z[M][0].slice(0,-1)}}}else if(!hj)if(a.keyCode>=48&&a.keyCode<=90||a.keyCode>=96&&a.keyCode<=111||a.keyCode>=187&&a.keyCode<=222||a.keyCode==32||a.keyCode==186)if(F&&!oj){a.preventDefault();kj=[];wj=(new Date).getMilliseconds();if(a.which!=13&&a.which!=37&&a.which!=0&&a.which!=8){if(M!=Q||K!=N)Zj();G.push([String.fromCharCode(a.charCode),
M,K]);Z[M][0]=Z[M][0].slice(0,K)+String.fromCharCode(a.charCode)+Z[M][0].slice(K);K++;Z[M][1]==0&&$j(M);Z[M][1]==2&&ak("c");Z[M][1]==0&&ak("s");for(x in notes)if(M==notes[x][0])if(K-1<=notes[x][1])notes[x][1]+=1;Tj();N=K;Q=M}document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r");document.getElementById("ccp").focus();document.getElementById("ccp").select()}ej<0&&F&&a.keyCode!=13&&a.keyCode!=
46&&a.keyCode!=8&&Pj(ej-400);ej>document.getElementById("canvas").height-80&&F&&a.keyCode!=13&&a.keyCode!=46&&a.keyCode!=8&&Pj(ej-400)}if(F){if(Q==M&&K==N)document.getElementById("ccp").value="";document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}D(document,"mousemove",bk);D(document,"mousedown",ck);D(document,"mouseup",dk);var ek=new ie(document);ek.Hb("save","meta+s");ek.Hb("undo","meta+z");ek.Hb("redo","meta+shift+z");ek.Hb("export","meta+e");ek.Hb("find","meta+f");
ek.od=true;D(ek,"shortcut",fk);function fk(a){if(a.identifier=="save")Xi(0);else if(a.identifier=="undo")gk();else if(a.identifier=="redo")hk();else if(a.identifier=="export")ik();else a.identifier=="find"&&jk()}window.oncontextmenu=kk;
function ak(a){document.getElementById("suggestBox")!=null&&jd(document.getElementById("suggestBox"));if(a=="c")var d=pj,e=V[2][1]+Math.round((Y-R*87-24)/2)+"px";else{d=[];for(i in qj)d.push([qj[i][0].split(") ").splice(1).join(") ")]);e=V[0][1]+Math.round((Y-R*87-24)/2)+"px"}var f=Z[M][0].length,g=Z[M][0].toUpperCase();for(x in d){var h=d[x][0].substr(0,f).toUpperCase();if(g==h&&g!=d[x][0]){if(document.getElementById("suggestBox")==null){var m=document.body.appendChild(document.createElement("div"));
m.id="suggestBox";m.style.position="fixed";m.style.top=ej+zj+9+S+"px";m.style.left=e;m.className="goog-menu"}h=false;if(a=="s"){var o=m.childNodes;for(i in o)if(d[x][0]==o[i].value)h=true;o=null}if(!h){h=m.appendChild(document.createElement("div"));h.className="goog-menuitem";h.appendChild(document.createTextNode(d[x][0]));h.value=d[x][0];h=null}h=null}}if(document.getElementById("suggestBox")!=null){a=E("suggestBox");Wj=new Ef;Wj.s(a);Gf(Wj,true);qf(Wj,0);D(Wj,"action",function(q){q=q.target.La();
var s=Z[M][0].length;Z[M][0]=q;G.push(["paste",M,K,Z[M][0].substr(s)]);K=N=Z[M][0].length;jd(document.getElementById("suggestBox"))});m=h=a=null}a=d=g=f=e=x=null}var Wj;function Tj(){document.getElementById("saveButton").disabled=false;document.getElementById("saveButton").value="Save";Cj=true;if(yj){clearTimeout(gj);gj=setTimeout("save(1)",7E3)}}
function Jj(a,d){if(a.which==13&&a.which!=1E3){a.preventDefault();Si()}else{var e=d=="f"?document.getElementById("find_input").value:document.getElementById("fr_find_input").value,f=RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi");rj=[];sj=[];if(e.length==0)document.getElementById("find_number_found").innerHTML="0 found";else{for(i in Z)for(;f.test(Z[i][0])==true;)d=="f"?rj.push([i*1,f.lastIndex-e.length]):sj.push([i*1,f.lastIndex-e.length]);if(d=="f")document.getElementById("find_number_found").innerHTML=
rj.length+" found"}}}function Si(){var a=rj.length!=0?rj:sj;if(a.length!=0){var d=rj.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length;for(i in a){if(a[i][0]==M&&a[i][1]>K){Q=M=a[i][0];N=a[i][1]*1;K=a[i][1]*1+d*1;lk("find"+M);return}if(a[i][0]*1>M*1){Q=M=a[i][0]*1;N=a[i][1]*1;K=a[i][1]*1+d*1;lk("find"+M);return}}M=Q=K=N=0;Si()}}
function Ri(){var a=rj.length!=0?rj:sj;if(a.length!=0){var d=rj.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length,e=a.length-1;for(e=a.length-1;e>=0;e--){if(a[e][0]==M&&a[e][1]<K-d-1){Q=M=a[e][0];N=a[e][1]*1;K=a[e][1]*1+d*1;lk("find"+M);return}if(a[e][0]*1<M*1){Q=M=a[e][0]*1;N=a[e][1]*1;K=a[e][1]*1+d*1;lk("find"+M);return}}M=Q=a[a.length-1][0];N=a[a.length-1][1];K=N+d;lk("find"+M)}}
function Uj(a){Cj=false;var d=Z[a][0];if(Z[a][1]==0||Z[a][1]==2||Z[a][1]==5)d=d.toUpperCase();a=d.split(" ");for(i=0;i<a.length;i++){d=false;for(e in Aj)if(a[i].toUpperCase()==Aj[e][0].toUpperCase())d=true;for(e in Bj)if(a[i].toUpperCase()==Aj[e][0].toUpperCase())d=true;if(d){a.splice(i,1);i--}}i=null;var e=JSON.stringify(a);zg("/spellcheck",function(f){if(Ig(f.target)!="correct"){f=Jg(f.target);for(i in f)Aj.push(f[i]);i=null}},"POST","data="+escape(e)+"&resource_id="+U)}
function bj(){if(M!=Q||K!=N)Yj();Tj()}
function aj(){if(!jj){var a=false;Tj();kj=[];if(M!=Q||K!=N)Yj();var d=false,e=document.getElementById("ccp").value,f=RegExp("\\n","g");if(e.split(f).length>1){e=e.split(f);f=[];for(x in e)e[x]!=""&&e[x]!=null&&f.push([e[x],1]);e=JSON.stringify(f);x=null}G.push(["paste",M,K,e]);if(e[0]=="["&&e[1]=="[")d=true;if(d){a=true;d=JSON.parse(e);if(Z[M][0]=="")Z[M][1]=d[0][1];if(Z[M][1]==d[0][1]){G[G.length-1].push(1);e=[Z[M][0].slice(K),Z[M][1]];Z[M][0]=Z[M][0].slice(0,K)+d[0][0];f=1;var g=M+1}else{G[G.length-
1].push(0);e=[Z[M][0].slice(K),Z[M][1]];Z[M][0]=Z[M][0].slice(0,K);M++;Z.splice(M,0,d[0]);f=1;g=M+1}for(;f<d.length;){Z.splice(g,0,d[f]);g++;f++}Z.splice(g,0,e);if(Z[g][0]==""||Z[g][0]==" "){Z.splice(g,1);G[G.length-1].push(0)}else G[G.length-1].push(1);M=Q=g;K=N=0;if(M>=Z.length){M=Q=Z.length-1;K=N=Z[M][0].length}}else{Z[M][0]=Z[M][0].slice(0,K)+e+Z[M][0].slice(K);K+=document.getElementById("ccp").value.length;N=K}ij=false;if(a){Xj();Zi(true,false,false)}E("ccp").value="";jj=true;setTimeout("setJustPasted()",
50)}}function Yi(){jj=false}function mk(a){a=Ae(a.target).replace("toolbar","");if(a=="New")nk();else if(a=="Save")Xi(0);else if(a=="Export")ik();else if(a=="Undo")gk();else if(a=="Redo")hk();else if(a=="InsertNote")zi();else if(a=="Spellcheck")ok();else a=="Email"&&pk()}
function Oj(a){var d=new Mg;d.s(E("gtb"));D(d,ye,mk);E("gtb").style.visibility="visible";E("sidebar").style.visibility="visible";if(Ig(a.target)=="not found"){Z=[["Sorry, the script wasn't found.",1]];Zi(true,false,false)}else{a=Jg(a.target);d=a[0];document.getElementById("title").innerHTML=d;document.title=d;var e=a[1];for(d=0;d<e.length;d++)Z.push([e[d][0],e[d][1]]);if(Z.length==2){M=Q=1;K=N=Z[1][0].length}if(a[2].length!=0){e=a[2][0];var f=a[2][1];for(w in e)Aj.push(e[w]);for(d in f)Bj.push(f[d])}for(d in a[3])notes.push(a[3][d]);
e=a[4];f=document.getElementById("hasAccess");for(d in e){var g=f.appendChild(document.createElement("tr"));g.id=e[d];g.appendChild(document.createElement("td")).appendChild(document.createTextNode(e[d]));g=g.appendChild(document.createElement("td")).appendChild(document.createElement("a"));g.appendChild(document.createTextNode("Remove Access"));g.href="javascript:removeAccess('"+e[d]+"')";g=g=null}new Zh(a[5],document.getElementById("recipient"),true);new Zh(a[5],document.getElementById("collaborator"),
true);yj=a[6]=="true"?true:false;document.getElementById("canvas").getContext("2d");Ai(0);qk();Xj();rk();document.getElementById("ccp").focus();document.getElementById("ccp").select();document.getElementById("saveButton").value="Saved";document.getElementById("saveButton").disabled=true;Zi(true,false,false);setInterval("paint(false,false,false)",25);d=a=data=d=e=w=f=e=null;a=new wi(E("loading"),500);D(a,ki,function(){jd(E("loading"))});a.play()}}
function Ai(a){var d=["sceneTab","noteTab"];for(i in d){var e=document.getElementById(d[i]);if(i==a){e.style.backgroundColor="#3F5EA6";e.style.color="white";document.getElementById(d[i].replace("Tab","s")).style.display="block"}else{e.style.backgroundColor="#6C8CD5";e.style.color="black";document.getElementById(d[i].replace("Tab","s")).style.display="none"}}i=null}
function xi(a){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Tj();G.push(["format",M,K,Z[M][1],a]);kj=[];Z[M][1]=a;N=K;Q=M;if(Z[M][1]==4){if(Z[M][0].charAt(0)!="("){Z[M][0]="("+Z[M][0];K++;N++}if(Z[M][0].charAt(Z[M][0].length-1)!=")")Z[M][0]+=")"}if(Z[M][1]==3){if(Z[M][0].charAt(0)=="("){Z[M][0]=Z[M][0].substr(1);K--;N--}if(Z[M][0].charAt(Z[M][0].length-1)==")")Z[M][0]=Z[M][0].slice(0,-1)}Xj()}
function kk(a){if(a.clientX>zj&&a.clientX<Y-100&&a.clientY-zj>40&&a.target.id=="canvas"){a.preventDefault();var d=document.body.appendChild(document.createElement("div"));d.style.position="fixed";d.style.top=a.clientY-3+"px";d.style.left=a.clientX+5+"px";d.id="context_menu";for(i in xj){a=d.appendChild(document.createElement("div"));a.innerHTML=xj[i];a.id="cm"+i;a.className="contextUnit"}i=null}}
function dk(a){document.getElementById("suggestBox")!=null&&jd(document.getElementById("suggestBox"));if(F){nj=mj=false;document.getElementById("canvas");var d=document.getElementById("canvas").height;if(a.clientY-zj>d-39&&a.clientY-zj<d&&a.clientX>Y-22&&a.clientX<Y-2)a.clientY-zj>d-20?Pj(30):Pj(-30);document.getElementById("ccp").focus();document.getElementById("ccp").select()}Dj.l(false);Ej.l(false);Fj.l(false);Gj.l(false);a=["file","edit","view","share"];for(i in a){d=E(a[i]);d.style.backgroundColor=
"#A2BAE9";d.style.color="black"}}
function ck(a){if(F){Cj&&Uj(M);if(document.getElementById("suggestBox")==null){if(document.getElementById("context_menu")!=null){a.target.className=="contextUnit"&&xi(a.target.id.replace("cm",""));document.getElementById("context_menu").parentNode.removeChild(document.getElementById("context_menu"))}else{var d=document.getElementById("canvas").height,e=(H.length+1)*72*S,f=d/e*(d-39);if(f<20)f=20;if(f>=d-39)f=d-39;d=J/(e-d)*(d-39-f)+zj;if(a.clientX>zj&&a.clientX<Y-100&&a.clientY-zj>40&&a.target.id==
"canvas"){mj=true;sk(a,"anch")}else if(a.clientX<Y&&a.clientX>Y-20&&a.clientY>d&&a.clientY<d+f)nj=true}document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}
function sk(a,d){wj=(new Date).getMilliseconds();var e=0,f=a.clientY+J-31,g=15*S+3,h=0;for(i in Z){h=g;if(H.length!=0&&H[e]!=undefined&&H[e][0]==i){if(H[e][2]==0)g=72*S*(e+1)+10*S+zj+3-31;else{g=72*S*(e+1)+10*S+zj+3;g+=(I[i].length-H[e][2])*S-31;if(Z[i][1]==3)g+=S;g-=S*I[i].length}e++}g+=S*I[i].length;if(g>f){g=H.length!=0&&H[e-1]!=undefined&&H[e-1][0]==i&&H[e-1][2]!=0?(f-h)/S<H[e-1][2]?Math.round((f-h)/S+0.5):f<72*S*e+10*S+zj?H[e-1][2]:Math.round((S*I[i].length-g+f)/S+0.5):Math.round((S*I[i].length-
g+f)/S+0.5);for(f=e=0;e+1<g;){f+=I[i][e]+1;e++}g=Z[i][1]!=5?Math.round((a.clientX-Math.round((Y-R*87-24)/2)-V[Z[i][1]][1])/R):Math.round((a.clientX-Math.round((Y-R*87-24)/2)-V[Z[i][1]][1]+Z[i][0].length*R)/R);if(g<0)g=0;if(g>I[i][e])g=I[i][e];f+=g;if(f<0)f=0;if(f>Z[i][0].length)f=Z[i][0].length;if(d=="anch"){M=Q=i*1;K=N=f*1}else{M=i;K=f}return}}}
function bk(a){if(nj){var d=lj-a.clientY,e=document.getElementById("canvas").height-50,f=(H.length+1)*72*S;J-=f/e*d;if(J<0)J=0;f=(H.length+1)*72*S-document.getElementById("canvas").height+20;if(J>f)J=f+20}lj=a.clientY;mj&&sk(a,"pos");e=document.getElementById("canvas").height;f=(H.length+1)*72*S;d=e/f*(e-39);if(d<20)d=20;if(d>=e-39)d=e-39;e=J/(f-e)*(e-39-d)+zj;document.getElementById("canvas").style.cursor=a.clientX<Y&&a.clientX>Y-20&&a.clientY>e&&a.clientY<e+d?"default":"text"}
function Ij(a){Pj(a.Fe*2)}function Pj(a){J+=a;if(J<0)J=0;a=(H.length+1)*72*S-document.getElementById("canvas").height+20;if(J>a)J=a+20;wj=(new Date).getMilliseconds();if(document.getElementById("suggestBox")!=null){Zi(false,false,false);ak(Z[M][1]==0?"s":"c")}}
function lk(a){if(a.target!=undefined){a=a.target.id;Q=M=a=parseInt(a.replace("row",""));N=K=Z[M][0].length;this.style.backgroundColor="#999ccc"}else a=a[0]=="f"?parseInt(a.replace("find","")):M;for(var d=0,e=0;e<a;e++){for(var f=0;f<H.length;f++)if(H[f][0]==e){d=S*72*(f*1+1);if(H[f][2]!=0)d-=S*(I[e].length-H[f][2])}d+=I[e].length*S}J=d;a=(H.length+1)*72*S-document.getElementById("canvas").height;if(J>a)J=a}
function Yj(a){if(F){Tj();kj=[];a&&a.preventDefault();var d=a=false;if(Z[M][1]==0)d=true;if(M==Q&&K==N){if(K==0&&M==0)return;else if(Z[M][1]==4&&K==1){for(x in notes){if(M<notes[x][0])notes[x][0]-=1;else if(M==notes[x][0]){notes[x][1]+=Z[M-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}d=Z[M][0];if(d.charAt(0)=="(")d=d.substr(1);if(d.charAt(d.length-1)==")")d=d.slice(0,-1);var e=Z[M-1][0].length;Z.splice(M,1);M--;K=e;Z[M][0]+=d;G.push(["back",M,K,"line",4]);d=true;document.getElementById("suggestBox")!=
null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else if(K==0){for(x in notes){if(M<notes[x][0])notes[x][0]-=1;else if(M==notes[x][0]){notes[x][1]+=Z[M-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}var f=Z[M][1];d=Z[M][0];Z.splice(M,1);e=Z[M-1][0].length;Z[M-1][0]+=d;K=e;M--;G.push(["back",M,K,"line",f]);d=a=true;document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else{G.push(["back",
M,K,Z[M][0][K-1]]);Z[M][0]=Z[M][0].slice(0,K-1)+Z[M][0].slice(K);K--;for(x in notes)if(M==notes[x][0])if(K<notes[x][1])notes[x][1]-=1}N=K;Q=M}else{document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));a=true;var g=false;if(Q>M)g=true;if(Q==M&&N>K)g=true;if(g){g=Q;Q=M;M=g;g=N;N=K;K=g}for(g=0;K!=N||M!=Q;){g++;if(Z[M][1]==0)d=true;if(K==0){for(x in notes){if(M<notes[x][0])notes[x][0]-=1;else if(M==notes[x][0]){notes[x][1]+=
Z[M-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}f=Z[M][1];d=Z[M][0];Z.splice(M,1);e=Z[M-1][0].length;Z[M-1][0]+=d;K=e;M--;G.push(["back",M,K,"line",f]);d=true}else{G.push(["back",M,K,Z[M][0][K-1]]);Z[M][0]=Z[M][0].slice(0,K-1)+Z[M][0].slice(K);K--;for(x in notes)if(M==notes[x][0])if(K<notes[x][1])notes[x][1]-=1}}G.push(["br",g])}if(a==true){Xj();Zi(a,false,false);Pj(0)}d&&$j(M);document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},"f");document.getElementById("find_replace_div").style.display==
"block"&&Jj({which:1E3},"r")}}
function Zj(){if(F){Tj();kj=[];document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));var a=false,d=false;if(M==Q&&K==N){if(Z[M][1]==0)a=true;if(K==Z[M][0].length&&M==Z.length-1)return;if(Z[M][1]==4&&Z[M][0]=="()"){G.push(["delete",M,K,"line",4]);Z.splice(M,1);N=K=0}else if(K==Z[M][0].length){for(x in notes){if(M+1==notes[x][0]){notes[x][1]+=Z[M][0].length;notes[x][0]-=1}else if(M<notes[x][0])notes[x][0]-=1;
if(notes[x][1]<0)notes[x][1]=0}G.push(["delete",M,K,"line",Z[M+1][1]]);if(Z[M+1][1]==0)a=true;var e=Z[M+1][0];Z.splice(M+1,1);Z[M][0]+=e;d=true}else{G.push(["delete",M,K,Z[M][0][K]]);Z[M][0]=Z[M][0].slice(0,K)+Z[M][0].slice(K+1);for(x in notes)if(M==notes[x][0])if(K<notes[x][1])notes[x][1]-=1}}else{d=true;e=false;if(Q>M)e=true;if(Q==M&&N>K)e=true;if(e){e=Q;Q=M;M=e;e=N;N=K;K=e}for(var f=0;K!=N||M!=Q;){f++;if(Z[M][1]==0)a=true;if(K==0){for(x in notes){if(M+1==notes[x][0]){notes[x][1]+=Z[M][0].length;
notes[x][0]-=1}else if(M<notes[x][0])notes[x][0]-=1;if(notes[x][1]<0)notes[x][1]=0}G.push(["delete",M-1,Z[M-1][0].length,"line",Z[M][1]]);e=Z[M][0];Z.splice(M,1);a=Z[M-1][0].length;Z[M-1][0]+=e;K=a;M--;a=true}else{G.push(["delete",M,K,Z[M][0][K-1]]);Z[M][0]=Z[M][0].slice(0,K-1)+Z[M][0].slice(K);K--;for(x in notes)if(M==notes[x][0])if(K<notes[x][1])notes[x][1]-=1}}G.push(["dr",f])}if(d==true){Xj();Zi(d,false,false);Pj(0)}a&&$j(M);document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},
"f");document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r")}}
function gk(){Tj();if(G.length!=0){var a=false,d=G.pop(),e=[];for(x in d)e.push(d[x]);kj.push(e);if(d[0]=="enter"){a=Z[d[1]+1][0];Z.splice(d[1]+1,1);if(Z[d[1]][1]==4&&Z[d[1]][0].charAt(Z[d[1]][0].length-1)==")")Z[d[1]][0]=Z[d[1]][0].slice(0,-1);Z[d[1]][0]+=a;a=true}else if(d[0]=="back")if(d[3]=="line"){for(x in notes)if(d[1]==notes[x][0]){if(d[2]<=notes[x][1]){notes[x][0]+=1;notes[x][1]-=d[2]}}else if(d[1]<notes[x][0])notes[x][0]+=1;a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&
e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=a;a=[e,d[4]];Z.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+d[3]+Z[d[1]][0].slice(d[2]-1);Z[d[1]][1]==0&&$j(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<=notes[x][1])notes[x][1]+=1}else if(d[0]=="delete")if(d[3]=="line"){a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=a;a=[e,d[4]];Z.splice(d[1]+1,0,a);a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,
d[2])+d[3]+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&$j(d[1])}else if(d[0]=="format"){Z[d[1]][1]=d[3];if(Z[d[1]][0].charAt(0)=="(")Z[d[1]][0]=Z[d[1]][0].substr(1);if(Z[d[1]][0].charAt(Z[d[1]][0].length-1)==")")Z[d[1]][0]=Z[d[1]][0].slice(0,-1);a=true}else if(d[0]=="br"||d[0]=="dr")for(var f=d[1],g=0;g<f;g++){d=G.pop();e=[];for(x in d)e.push(d[x]);kj.splice(kj.length-1,0,e);if(d[3]=="line"){a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=
a;a=[e,d[4]];Z.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+d[3]+Z[d[1]][0].slice(d[2]-1);Z[d[1]][1]==0&&$j(d[1])}}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+d[3].length);Z[d[1]][1]==0&&$j(d[1])}else{a=true;f=JSON.parse(d[3]);if(d[4]==0)Z.splice(d[1]+1,f.length);else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]);Z.splice(d[1]+1,f.length-1)}if(d[5]==1){Z[d[1]][0]+=Z[d[1]+1][0];Z.splice(d[1]+1,1)}}else{Z[d[1]][0]=
Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);if(Z[d[1]][1]==4&&Z[d[1]][0][d[2]-1]==")"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);d[2]-=1}Z[d[1]][1]==0&&$j(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<notes[x][1])notes[x][1]-=1}M=d[1];K=d[2];Q=M;N=K;if(a==true){Xj();Zi(true,false,false);Pj(0)}}}
function hk(){Tj();if(kj.length!=0){var a=false,d=kj.pop(),e=[];for(x in d)e.push(d[x]);G.push(e);a=false;if(d[0]=="enter"){e=Z[d[1]][0].slice(0,d[2]);a=Z[d[1]][0].slice(d[2]);Z[d[1]][0]=e;if(Z[d[1]][1]==0)var f=1;else if(Z[d[1]][1]==1)f=2;else if(Z[d[1]][1]==2)f=3;else if(Z[d[1]][1]==4)f=3;else if(Z[d[1]][1]==3)f=2;else if(Z[d[1]][1]==5)f=0;Z.splice(d[1]+1,0,[a,f]);d[1]+=1;d[2]=0;a=true}else if(d[0]=="back")if(d[3]!="line"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);d[2]-=1;Z[d[1]][1]==
0&&$j(d[1])}else{e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else if(d[0]=="delete")if(d[3]!="line"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);Z[d[1]][1]==0&&$j(d[1])}else{e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e}else if(d[0]=="format"){if(d[4]!="tab")Z[d[1]][1]=d[4];else{e=d[3];if(e==0)Z[d[1]][1]=2;else if(e==1)Z[d[1]][1]=0;else if(e==2)Z[d[1]][1]=1;else if(e==3)Z[d[1]][1]=4;else if(e==4)Z[d[1]][1]=3;else if(e==5)Z[d[1]][1]=0}a=true}else if(d[0]=="br"){var g=
d[1];for(f=0;f<g;f++){d=kj.pop();e=[];for(x in d)e.push(d[x]);G.splice(G.length-1,0,e);if(d[3]=="line"){e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&$j(d[1])}}d[2]-=1}else if(d[0]=="dr"){g=d[1];for(f=0;f<g;f++){d=kj.pop();e=[];for(x in d)e.push(d[x]);G.splice(G.length-1,0,e);if(d[3]=="line"){e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);
Z[d[1]][1]==0&&$j(d[1])}}d[2]-=1}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+d[3]+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&$j(d[1])}else{a=true;g=JSON.parse(d[3]);if(Z[d[1]][0]=="")Z[d[1]][1]=g[0][1];if(Z[d[1]][1]==g[0][1]){e=[Z[d[1]][0].slice(d[2]),Z[d[1]][1]];Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+g[0][0];f=1;d=d[1]+1}else{e=[Z[d[1]][0].slice(d[2]),Z[d[1]][1]];Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]);d[1]++;Z.splice(d[1],0,g[0]);f=1;d=d[1]+1}for(;f<g.length;){Z.splice(d,
0,g[f]);d++;f++}Z.splice(d,0,e);if(Z[d][0]==""||Z[d][0]==" ")Z.splice(d,1)}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+d[0]+Z[d[1]][0].slice(d[2]);d[2]+=1;Z[d[1]][1]==0&&$j(d[1])}if(a==true){Xj();Zi(true,false,false);Pj(0)}}}function qk(){for(var a=0;a<Z.length;a++)Z[a][1]==2&&Vj(Z[a][0])}function Vj(a){a=a.toUpperCase().replace(/\s+$/,"");for(var d=false,e=0;e<pj.length;e++)if(pj[e][0]==a){pj[e][1]+=1;d=true}d||pj.push([a,1])}
function Xj(){qj=[];for(var a=0,d=0;d<Z.length;d++)if(Z[d][1]==0){a++;var e="";if(d!=Z.length-1){e=Z[d+1][0];if((Z[d+1][1]==2||Z[d+1][1]==5)&&d!=Z.length-2)e+=" "+Z[d+2][0]}qj.push([String(a)+") "+Z[d][0].toUpperCase(),d,e]);e=null}hd(E("sceneBox"));for(d=0;d<qj.length;d++){a=document.getElementById("sceneBox").appendChild(document.createElement("p"));a.appendChild(document.createTextNode(qj[d][0]));a.className="sceneItem";a.id="row"+qj[d][1];a.title=qj[d][2];D(a,Ec,lk);D(a,Fc,function(){this.style.backgroundColor=
"#ccccff"});D(a,Gc,function(){this.style.backgroundColor="white"});a=null}c=d=a=null}function $j(a){try{var d=document.getElementById("row"+a),e=d.innerHTML.split(")")[0];d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e+") "+Z[a][0].toUpperCase()))}catch(f){}}function tk(a,d){if(a[0]<d[0])return-1;if(a[0]>d[0])return 1;if(a[1]<d[1])return-1;if(a[1]>d[1])return 1;return 0}
function rk(){notes.sort(tk);for(var a=document.getElementById("noteBox"),d=0;d<a.childNodes.length;d++){a.removeChild(a.firstChild);d--}for(x in notes){var e=a.appendChild(document.createElement("div"));e.className="thread";var f=e.appendChild(document.createElement("table"));f.width="100%";f=f.appendChild(document.createElement("tr"));f.appendChild(document.createElement("td"));f=f.appendChild(document.createElement("td"));f.align="right";f=f.appendChild(document.createElement("a"));f.style.backgroundColor=
"orange";f.appendChild(document.createTextNode("Delete"));f.href="javascript:deleteThread('"+notes[x][3]+"')";f.style.textDecoration="none";f.style.color="black";for(y in notes[x][2]){f=e.appendChild(document.createElement("div"));var g=f.appendChild(document.createElement("div"));g.innerHTML=notes[x][2][y][0];g=f.appendChild(document.createElement("div"));g.appendChild(document.createTextNode(notes[x][2][y][1].split("@")[0]));g.align="right";g.className="msgInfo";f.className="msg";f.id=notes[x][3]+
"msg";D(f,Ec,function(h){for(h=h.target;h.className!="msg";)h=h.parentNode;for(d in notes)if(String(notes[d][3])==String(h.id.replace("msg",""))){M=Q=notes[d][0];K=N=notes[d][1]}Zi(false,false,false);lk("find"+M)});f=g=g=null}e=e.appendChild(document.createElement("div"));e.className="respond";e.appendChild(document.createTextNode("Respond"));e.id=notes[x][3];D(e,Ec,uk);e=f=f=f=e=null}F=true;x=d=null}
function zi(){Ai(1);fj=true;Zi(false,false,false);rk();F=false;var a=document.getElementById("noteBox").appendChild(document.createElement("div"));a.className="thread";id=Math.round(Math.random()*1E9);for(var d=true;d==true;){d=false;for(e in notes)if(String(notes[e][3])==String(id)){id=Math.round(Math.random()*1E9);d=true}}d=a.appendChild(document.createElement("div"));d.className="respondControls";var e=d.appendChild(document.createElement("div"));e.contentEditable=true;e.id="nmi";a=d.appendChild(document.createElement("input"));
a.type="button";a.value="Save";a.id=id;d=d.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";D(a,Ec,vk);D(d,Ec,rk);e.focus()}
function vk(a){a=a.target.id;var d=document.getElementById("nmi").innerHTML,e=document.getElementById("user_email").innerHTML,f=new Date;if(d!=""){notes.push([M,K,[[d,e,f]],a]);U!="Demo"&&zg("/notesnewthread",function(g){Ig(g.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","fromPage=editor&resource_id="+U+"&row="+M+"&col="+K+"&content="+escape(d)+"&thread_id="+a)}rk()}
function uk(a){var d=a.target.id;rk();F=false;a=document.getElementById(d);var e=a.parentNode.insertBefore(document.createElement("div"),a);e.className="respondControls";var f=e.appendChild(document.createElement("div"));f.contentEditable=true;f.id="nmi";var g=e.appendChild(document.createElement("input"));g.type="button";g.value="Save";g.id="noteSave"+d;d=e.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";a.parentNode.removeChild(a);D(g,Ec,wk);D(d,Ec,
rk);f.focus()}
function wk(a){a=parseInt(a.target.id.replace("noteSave",""));for(x in notes)if(notes[x][3]==a)var d=x;var e=new Date,f=document.getElementById("nmi").innerHTML,g=document.getElementById("user_email").innerHTML;if(f!=""){e=[f,g,e];notes[d][2].push(e);U!="Demo"&&zg("/notessubmitmessage",function(h){Ig(h.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","resource_id="+U+"&content="+escape(f)+"&thread_id="+a+"&fromPage=editor");e=null}rk();x=e=
f=g=d=null}function yi(a){var d=confirm("Are you sure you want to Delete this thread? This cannot be undone.");if(d==true){U!="Demo"&&zg("/notesdeletethread",aa(),"POST","resource_id="+U+"&thread_id="+a);for(i in notes)if(notes[i][3]==a)var e=i;d=i=null;notes.splice(e,1);rk()}}
function Kj(a){a=a.target.id;var d=[["file",Dj],["edit",Ej],["view",Fj],["share",Gj]];document.getElementById(a).style.backgroundColor="#6484df";document.getElementById(a).style.color="white";var e="notfound",f=0;for(i in d){if(d[i][1].i==true){e=i;d[e][1].l(false)}if(a==d[i][0])f=d[i][1]}if(e=="notfound")f.l(true);else if(d[e][1]==f)f.l(false);else{d[e][1].l(false);f.l(true)}i=null}
function Lj(a){a=a.target.id;var d=[["file",Dj],["edit",Ej],["view",Fj],["share",Gj]],e="not open";for(i in d){var f=E(d[i][0]);f.style.backgroundColor="#A2BAE9";f.style.color="black";if(d[i][1].i)e=i;if(a==d[i][0]){var g=d[i][1];f=E(g.Oa.replace("Menu",""));f.style.backgroundColor="#6484df";f.style.color="white"}}if(e!="not open"){d[e][1].l(false);g.l(true)}i=null}
function Mj(a){a=a.target.id;if(document.getElementById(a+"Menu").style.display=="none"){document.getElementById(a).style.backgroundColor="#A2BAE9";document.getElementById(a).style.color="black"}}
function Nj(a){a=Ae(a.target);if(a=="save")Xi(0);else if(a=="new")U=="Demo"?alert("Sorry, you'll have to login to start saving."):nk();else if(a=="open")U=="Demo"?alert("Sorry, you'll have to login to open new scripts."):window.open("/scriptlist");else if(a=="rename")Fi();else if(a=="exportas")ik();else if(a=="duplicate")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else xk();else if(a=="close")yk();else if(a=="undo")gk();else if(a=="redo")hk();else if(a=="insertNote"){fj=
true;zi()}else if(a=="editTitlePage")window.open("/titlepage?resource_id="+U);else if(a=="tag")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else zk();else if(a=="spellCheck")ok();else if(a=="find")jk();else if(a=="findReplace"){Qi();document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r");F=false;hj=true;document.getElementById("find_replace_div").style.display="block";document.getElementById("fr_find_input").select();document.getElementById("fr_find_input").focus()}else if(a==
"revision")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else window.open("/revisionhistory?resource_id="+U);else if(a=="notes")fj=fj?false:true;else if(a.substr(0,6)=="format")xi(parseInt(a.replace("format","")));else if(a=="collaborators")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else{F=false;document.getElementById("sharepopup").style.visibility="visible"}else if(a=="email")if(U=="Demo"){alert("Sorry, you'll have to login to email scripts.");
return}else pk();Dj.l(false);Ej.l(false);Fj.l(false);Gj.l(false);a=["file","edit","view","share"];for(i in a){var d=E(a[i]);d.style.backgroundColor="#A2BAE9";d.style.color="black"}}
function yk(){clearTimeout(gj);U=="Demo"&&self.close();var a=JSON.stringify(Z);document.getElementById("saveButton").value="Saving...";zg("/save",function(){self.close()},"POST","data="+escape(a)+"&resource_id="+U+"&autosave=0");a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&zg("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+U);a=a=i=null}
function nk(){if(U=="Demo")alert("Sorry, you'll have to login to open new scripts.");else{F=false;document.getElementById("newscriptpopup").style.visibility="visible"}}function Gi(){F=true;document.getElementById("newScript").value="";document.getElementById("newscriptpopup").style.visibility="hidden";document.getElementById("createScriptButton").disabled=false;document.getElementById("createScriptButton").value="Create";document.getElementById("createScriptIcon").style.visibility="hidden"}
function Hi(){var a=document.getElementById("newScript").value;if(a!=""){document.getElementById("createScriptButton").disabled=true;document.getElementById("createScriptButton").value="Creating Script...";document.getElementById("createScriptIcon").style.visibility="visible";zg("/newscript",function(d){window.open("editor?resource_id="+Ig(d.target));Gi()},"POST","filename="+escape(a)+"&fromPage=editor")}}
function xk(){zg("/duplicate",function(a){Ig(a.target)!="fail"&&window.open(Ig(a.target))},"POST","fromPage=editor&resource_id="+U)}D(E("saveError"),Ec,function(){var a=new vi(E("saveError"),500);D(a,ki,function(){E("saveError").style.display="none";E("saveError").style.opacity="100"});a.play()});
function Xi(a){clearTimeout(gj);if(U=="Demo")a==0&&alert("Sorry, but you'll have to login to start saving scripts!");else{var d=JSON.stringify(Z);document.getElementById("saveButton").value="Saving...";zg("/save",function(e){if(Ig(e.target)=="1"){E("saveButton").value="Saved";E("saveButton").disabled=true;E("saveError").style.display="none"}else{E("saveButton").value="Save";E("saveButton").disabled=false;E("saveError").style.display="table"}},"POST","data="+escape(d)+"&resource_id="+U+"&autosave="+
a);a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&zg("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+U);d=a=i=null}}function Fi(){F=false;document.getElementById("renameTitle").innerHTML="Rename: "+document.getElementById("title").innerHTML;document.getElementById("renameField").value=document.getElementById("title").innerHTML;document.getElementById("renamepopup").style.visibility="visible"}
function Ei(){document.getElementById("renameField").value="";document.getElementById("renamepopup").style.visibility="hidden";F=true}function Di(){if(U=="Demo")alert("Sorry, you'll have to login to do that.");else{var a=document.getElementById("renameField").value;if(a!=""){document.getElementById("title").innerHTML=a;document.title=a;zg("/rename",aa(),"POST","fromPage=scriptlist&resource_id="+U+"&rename="+a);Ei()}}}
function ik(){U!="Demo"&&document.getElementById("saveButton").value=="Save"&&Xi(0);F=false;document.getElementById("exportpopup").style.visibility="visible"}function Ci(){F=true;document.getElementById("exportpopup").style.visibility="hidden"}
function Bi(){if(U=="Demo")alert("Sorry, you'll have to login to export scripts.");else for(var a,d="&title_page="+document.getElementById("et").selectedIndex,e=document.getElementsByTagName("input"),f=0;f<e.length;f++)if(e[f].checked==true)if(e[f].className=="exportList"){a=e[f].name;b="/export?resource_id="+U+"&export_format="+a+"&fromPage=editor"+d;window.open(b)}}
function pk(){if(U=="Demo")alert("Sorry, you'll have to login to email scripts.");else{document.getElementById("saveButton").value=="Save"&&Xi(0);F=false;document.getElementById("emailpopup").style.visibility="visible"}}function Vi(){document.getElementById("emailpopup").style.visibility="hidden";document.getElementById("recipient").value="";document.getElementById("message").innerHTML="";F=true}
function Ak(a){console.log();document.getElementById("emailS").disabled=false;document.getElementById("emailS").value="Send";if(Ig(a.target)=="sent"){alert("Email Sent");Vi()}else alert("There was a problem sending your email. Please try again later.")}
function Wi(){var a=hi(E("recipient").value),d=[];for(i in a)a[i].cb!=""&&d.push(a[i].cb);if(d.length==0)alert("You need to add at least one email address.");else{a=d.join(",");d=document.getElementById("subject").value;if(d=="")d="Script";var e=document.getElementById("message").innerHTML;zg("/emailscript",Ak,"POST","resource_id="+U+"&recipients="+a+"&subject="+d+"&body_message="+escape(e)+"&fromPage=editor");document.getElementById("emailS").disabled=true;document.getElementById("emailS").value=
"Sending...";c=null}}function Ui(){F=true;document.getElementById("sharepopup").style.visibility="hidden";document.getElementById("collaborator").value=""}
function Ti(){var a=hi(E("collaborator").value),d=[],e=false;for(i in a){var f=a[i].cb;if(f!="")if(f.split("@")[1]!=undefined&&(f.split("@")[1].split(".")[0]=="gmail"||f.split("@")[1].split(".")[0]=="yahoo"))d.push(f);else e=true}e==true&&alert("At this time you can only collaborate with Gmail or Yahoo accounts.");if(d.length==0)alert("You need to add at least one email address.");else{zg("/share",function(g){g=Ig(g.target).split(",");var h=document.getElementById("hasAccess");for(i in g)if(g[i]!=
""&&g[i]!=="not sent"){var m=h.appendChild(document.createElement("tr"));m.id=g[i];m.appendChild(document.createElement("td")).appendChild(document.createTextNode(g[i]));m=m.appendChild(document.createElement("td")).appendChild(document.createElement("a"));m.appendChild(document.createTextNode("Remove Access"));m.href="javascript:removeAccess('"+g[i]+"')"}document.getElementById("shareS").disabled=false;document.getElementById("shareS").value="Send Invitations"},"POST","resource_id="+U+"&collaborators="+
escape(d.join(","))+"&fromPage=scriptlist");document.getElementById("shareS").disabled=true;document.getElementById("shareS").value="Sending Invites..."}}function zk(){Xi(0);var a=prompt("Leave a tag for this version:");a!=null&&a!=""&&zg("/revisiontag",function(d){Ig(d.target)!="tagged"&&alert("There was a problem tagging this script. Please try again later.")},"POST","resource_id="+U+"&version=latest&tag="+escape(a))}
function jk(){Pi();document.getElementById("find_div").style.display=="block"&&Jj({which:1E3},"f");F=false;hj=true;document.getElementById("find_div").style.display="block";document.getElementById("find_input").select();document.getElementById("find_input").focus()}function Qi(){F=true;hj=false;rj=[];document.getElementById("find_div").style.display="none";oj=false}function Pi(){F=true;hj=false;sj=[];document.getElementById("find_replace_div").style.display="none";oj=false}
function Oi(){var a=document.getElementById("fr_replace_input").value;if(a.length!=0)if(!(M==Q&&K==N))if(M==Q)if(sj.length!=0){document.getElementById("ccp").value=a;aj();N=K-a.length;document.getElementById("find_replace_div").style.display=="block"&&Jj({which:1E3},"r")}}function Ni(){Oi();Si()}function ok(){F=false;Uj(M);var a=M==0?true:false;document.getElementById("spellcheckpopup").style.visibility="visible";Bk(a,0,0)}
function Bk(a,d,e){if(d=="finished"){alert("Spell Check Complete");Ii()}else{a=Z[d][0].split(" ");for(var f=false;f==false;){var g=a[e].replace("?","").replace(".","").replace(",","").replace("(","").replace(")","");for(i in Aj)if(Aj[i][0].toUpperCase()==g.toUpperCase()){f=[d,e,i];for(v in Bj)if(Bj[v].toUpperCase()==g.toUpperCase())f=false}if(!f){e++;if(e==a.length){e=0;d++;if(d==Z.length)f="finished";else a=Z[d][0].split(" ")}}}if(f=="finished"){document.getElementById("sSuggest").innerHTML="";document.getElementById("sSentance").innerHTML=
"";alert("Spell Check Complete");Ii()}else{var h=Z[d][0],m="<span id='sFocus' title='"+g+"' style='color:red'>"+g+"</span>";h=h.replace(RegExp(g,"i"),m);if(Z[d][1]==0||Z[d][1]==2||Z[d][1]==5){document.getElementById("sSentance").innerHTML=h.toUpperCase();document.getElementById("sSentance").innerHTML=document.getElementById("sSentance").innerHTML.replace("SFOCUS","sFocus")}else document.getElementById("sSentance").innerHTML=h;document.getElementById("sSentance").title=d;g=Aj[f[2]][1];h=document.getElementById("sSuggest");
h.innerHTML="";for(i in g){m=h.appendChild(document.createElement("div"));m.className="spellcheckitem";D(m,Ec,function(o){var q=document.getElementById("spellcheckfocus");q!=undefined&&q.removeAttribute("id");o.target.id="spellcheckfocus";document.getElementById("sFocus").innerHTML=o.target.title});Z[d][1]==0||Z[d][1]==2||Z[d][1]==5?m.appendChild(document.createTextNode(g[i].toUpperCase())):m.appendChild(document.createTextNode(g[i]));m.title=g[i]}e++;if(e==a.length){e=0;d++;if(d==Z.length)f="finished";
else a=Z[d][0].split(" ")}d=f=="finished"?f:[d,e].join(",");document.getElementById("sHidden").value=d}}}function Ii(){document.getElementById("spellcheckpopup").style.visibility="hidden";F=true;Tj()}function Ki(){var a=document.getElementById("sHidden").value;Bk(false,a.split(",")[0],a.split(",")[1])}function Mi(){Bj.push(document.getElementById("sFocus").title);var a=document.getElementById("sHidden").value;Bk(false,a.split(",")[0],a.split(",")[1])}
function Ji(){var a=document.getElementById("sSentance"),d=a.title;Z[d][0]="";for(i in a.childNodes)if(a.childNodes[i].nodeName=="#text")Z[d][0]+=a.childNodes[i].nodeValue;else{var e=a.childNodes[i].childNodes;for(j in e)if(e[j].nodeName=="#text")Z[d][0]+=e[j].nodeValue}a=document.getElementById("sHidden").value;Bk(false,a.split(",")[0],a.split(",")[1]);Zi(true,false,false)}
function Ck(a,d,e,f,g,h){if(Z[g][1]==5){f.fillStyle="gold";f.beginPath();f.moveTo(a-R*(Z[g][0].length-e+1)+h,d-J-S+3);f.lineTo(a-R*(Z[g][0].length-e+1)+h,d-J-S+3+S);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-J-S+3+S);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-J-S+3+4);f.lineTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-J-S+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(var m=1;m<6;m++){f.moveTo(a-R*(Z[g][0].length-e+1)+1+h,d-J-S+3+2*m+0.5);f.lineTo(a-R*(Z[g][0].length-e+1)+R-1+h,d-
J-S+3+2*m+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-J-S+3);f.lineTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-J-S+3+4);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-J-S+3+4)}else{f.fillStyle="gold";f.beginPath();f.moveTo(a+R*e+h,d-J-S+3);f.lineTo(a+R*e+h,d-J-S+3+S);f.lineTo(a+R*e+R+h,d-J-S+3+S);f.lineTo(a+R*e+R+h,d-J-S+3+4);f.lineTo(a+R*e+R-4+h,d-J-S+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(g=1;g<6;g++){f.moveTo(a+R*e+1+h,d-
J-S+3+2*g+0.5);f.lineTo(a+R*e+R-1+h,d-J-S+3+2*g+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a+R*e+R-4+h,d-J-S+3);f.lineTo(a+R*e+R-4+h,d-J-S+3+4);f.lineTo(a+R*e+R+h,d-J-S+3+4)}f.stroke();f.fillStyle=vj}function Dk(a,d){return a-d}
function Zi(a,d){var e=Z.length,f=Z;if(F||hj){var g=document.getElementById("canvas").getContext("2d");g.clearRect(0,0,2E3,2500);g.fillStyle="#ccc";g.fillRect(0,0,Y,document.getElementById("canvas").height);g.fillStyle=vj;var h=Math.round((Y-R*87-24)/2),m=S;g.font=uj;g.lineWidth=1;for(var o=0;o<=H.length;o++){if(m-J>1200)break;if(m-J>-S*72){g.fillStyle=tj;g.fillRect(h,m-J,R*87,S*70);g.strokeStyle="#000";g.strokeRect(h,m-J,Math.round(R*87),S*70);g.strokeStyle="#999";g.strokeRect(h-2,m-J-2,Math.round(R*
87)+4,S*70+4);g.fillStyle=vj;o>0&&g.fillText(String(o+1)+".",550+h,m-J+85)}m+=S*72}if(!a){m=S*9+2;var q=V[0];g.fillStyle="#ddd";var s=0;for(o=0;o<e;o++){if(M==o)cj=s*1+1;if(H.length!=0&&H[s]!=undefined&&H[s][0]==o){if(M==o)cj+=1;m=72*S*(s+1)+9*S+2;if(H[s][2]!=0){m-=H[s][2]*S;if(f[o][1]==3)m+=S}s++}if(o<I.length)for(var u=0;u<I[o].length;u++){m+=S;if(f[o][1]==0){I[o][u]!=0&&g.fillRect(q[1]-3+h,m-J,61*R+6,14);f[o][0]==""&&u==0&&g.fillRect(q[1]-3+h,m-J,61*R+6,14)}}if(m-J>1200)break}}if(rj.length!=0||
sj.length!=0){g.fillStyle="yellow";m=rj.length==0?document.getElementById("fr_find_input").value.length:document.getElementById("find_input").value.length;s=o=q=0;u=rj.length==0?sj:rj;var t=S*9+3;for(i in I){if(t-J>1200)break;q=0;for(j in I[i]){if(H[s]!=undefined&&H[s][0]==i&&H[s][2]==j){s++;t=72*S*s+9*S+4;if(Z[i]!=undefined&&Z[i][1]==3)t+=S}for(t+=S;u[o]!=undefined&&u[o][0]==i&&u[o][1]>=q&&u[o][1]<q+I[i][j]+1;){if(t-J>-100){var C=h+V[Z[i][1]][1]+(u[o][1]-q)*R;if(u[o][1]+m>q+I[i][j]+1){g.fillRect(C,
t-J,(q+I[i][j]-u[o][1])*R,S-2);g.fillRect(h+V[Z[i][1]][1],t+S-J,(m-(q+I[i][j]-u[o][1]+1))*R,S-2)}else g.fillRect(C,t-J,m*R,S-2)}o++}q+=I[i][j]+1}}}if(M!=Q||N!=K){if(M>Q){m={b:Q,v:N};q={b:M,v:K}}else if(M==Q&&K>N){m={b:Q,v:N};q={b:M,v:K}}else{m={b:M,v:K};q={b:Q,v:N}}o=S*9+3;var z=0;for(t=0;t<m.b;t++)if(H.length!=0&&H[z][2]==0&&H[z][0]-1==t){o=72*S*(z+1)+9*S+4;z++;z==H.length&&z--}else if(H.length!=0&&H[z][2]!=0&&H[z][0]==t){o=72*S*(z+1)+9*S+4;o+=(I[t].length-H[z][2])*S;if(Z[t][1]==3)o+=S;z++;z==H.length&&
z--}else o+=S*I[t].length;t=0;for(C=I[m.b][t]+1;m.v>C;){o+=S;if(H.length!=0&&H[z][0]==m.b&&H[z][2]==t+1){o=72*S*(z+1)+9*S+4;if(Z[m.b][1]==3)o+=S}t++;C+=I[m.b][t]+1}C-=I[m.b][t]+1;var P=V[Z[m.b][1]][1];P+=(m.v-C)*R;o+=S;for(note in notes)if(notes[note][0]==m.b)if(C<notes[note][1]&&C+I[m.b][t]+1>notes[note][1])if(notes[note][1]<m.v)P+=R;s=S*9+3;for(var T=z=0;T<q.b;T++)if(H.length!=0&&H[z][2]==0&&H[z][0]-1==T){s=72*S*(z+1)+9*S+4;z++;z==H.length&&z--}else if(H.length!=0&&H[z][2]!=0&&H[z][0]==T){s=72*
S*(z+1)+9*S+4;s+=(I[T].length-H[z][2])*S;if(Z[T][1]==3)s+=S;z++;z==H.length&&z--}else s+=S*I[T].length;T=0;for(u=I[q.b][T]+1;q.v>u;){s+=S;if(H.length!=0&&H[z][0]==q.b&&H[z][2]==T+1){s=72*S*(z+1)+9*S+4;if(Z[q.b][1]==3)s+=S}T++;u+=I[q.b][T]+1}u-=I[q.b][T]+1;z=V[Z[q.b][1]][1];z+=(q.v-u)*R;s+=S;for(note in notes)if(notes[note][0]==q.b)if(u<notes[note][1]&&u+I[q.b][T]+1>notes[note][1])if(notes[note][1]<q.v)z+=R;g.fillStyle="lightBlue";if(s==o){q=P;if(Z[m.b][1]==5)q-=Z[m.b][0].length*R;g.fillRect(q+h,o-
J,z-P,12)}else{P=P;if(Z[m.b][1]==5)P-=Z[m.b][0].length*R;for(g.fillRect(P+h,o-J,(C+I[m.b][t]-m.v)*R,12);o+S<s;){for(C=0;C<H.length;C++)if(H.length!=0&&H[C][0]-1==m.b&&H[C][2]==0&&t==I[m.b].length-1)o=72*S*(C+1)+9*S+4;else if(H.length!=0&&H[C][0]==m.b&&t==H[C][2]-1){o=72*S*(C+1)+9*S+4;if(Z[m.b][1]==3)o+=S}t++;o+=S;if(I[m.b].length<=t){m.b++;t=0}if(o!=s){C=V[Z[m.b][1]][1];if(Z[m.b][1]==5)C-=Z[m.b][0].length*R;g.fillRect(C+h,o-J,I[m.b][t]*R,12)}}m=V[Z[q.b][1]][1];if(Z[q.b][1]==5)m-=Z[q.b][0].length*
R;g.fillRect(m+h,s-J,(q.v-u)*R,12)}if(!ij){if(M>Q){m={b:Q,v:N};q={b:M,v:K}}else if(M==Q&&K>N){m={b:Q,v:N};q={b:M,v:K}}else{m={b:M,v:K};q={b:Q,v:N}}if(m.b==q.b)m=Z[m.b][0].slice(m.v,q.v);else{arr=[];arr.push([Z[m.b][0].slice(m.v),Z[m.b][1]]);for(m.b=m.b*1+1;m.b<q.b;){arr.push([Z[m.b][0],Z[m.b][1]]);m.b+=1}arr.push([Z[q.b][0].slice(0,q.v),Z[q.b][1]]);m=JSON.stringify(arr)}q=document.getElementById("ccp");q.value=m;if(!hj){q.focus();q.select()}}}g.fillStyle=vj;g.font=uj;u=S*11;q=[];t="";C=s=0;m=H.length;
for(o=0;o<e;o++){P=f[o][0];T=f[o][1];T==0&&C++;if(T==4){if(P.charAt(0)!="(")P="("+P;if(P.charAt(P.length-1)!=")")P+=")";Z[o][0]=P}z=false;if(!a)if(m!=0&&H[s]!=undefined&&H[s][0]==o)if(H[s][2]==0){u=72*S*(s+1)+11*S;s++;if(s>=m)s=m-2}else z=true;if(!a&&!z&&u-J<-200){u+=S*I[o].length;if(o==M){var X=u;fa=[]}}else if(!a&&!z&&u-J>1200)break;else{var L=[];if(fj)for(note in notes)notes[note][0]==o&&L.push(notes[note][1]);L=L.sort(Dk);var Cb=V[T][0],O=V[T][1],Ek=V[T][2],kg=V[T][3],Li=V[T][4];if(o==M){X=u-
S;var $=O,vc=true,fa=[]}if(o==Q)var hc=true,lg=[];var ic=P.split(" "),Ra=0;I[o]=[];for(var Sa=0;Ra<ic.length;){var W=0;if(ic[Ra].length>=Cb){W=ic[Ra];if(kg==1)W=W.toUpperCase();var va=W,wa=[];if(fj)for(note in L)if(L[note]>=P.length-W.length){va=va.substr(0,L[note]-Sa+wa.length)+" "+va.substr(L[note]-Sa+wa.length);Ck(O,u,L[note]-Sa+wa.length,g,o,h);wa.push(L[note])}g.fillText(va,O+h,u-J);I[o].push(W.length);u+=S;if(Li==2){I[o].push(0);u+=S}Ra++;vc&&fa.push(W.length);hc&&lg.push(W.length)}else if(ic.slice(Ra).join().length<
Cb){W=ic.slice(Ra).join(" ");if(T==2&&t!=""&&P.toUpperCase()==t.toUpperCase())W+=" (Cont'd)";if(T==0)t="";if(kg==1)W=W.toUpperCase();if(Ek==1)g.textAlign="right";va=W;wa=[];if(fj)for(note in L)if(L[note]>=P.length-W.length){va=va.substr(0,L[note]-Sa+wa.length)+" "+va.substr(L[note]-Sa+wa.length);Ck(O,u,L[note]-Sa+wa.length,g,o,h);wa.push(L[note])}W!=""&&g.fillText(va,O+h,u-J);g.textAlign="left";Ra=ic.length;I[o].push(W.length);u+=S;if(Li==2){I[o].push(0);u+=S}vc&&fa.push(W.length);hc&&lg.push(W.length)}else{for(W=
0;ic.slice(Ra,Ra+W).join(" ").length<Cb;){newLineToPrint=ic.slice(Ra,Ra+W).join(" ");W++}if(kg==1)newLineToPrint=newLineToPrint.toUpperCase();va=newLineToPrint;wa=[];if(fj)for(note in L)if(L[note]>=Sa&&L[note]<=Sa+newLineToPrint.length){va=va.substr(0,L[note]-Sa+wa.length)+" "+va.substr(L[note]-Sa+wa.length);Ck(O,u,L[note]-Sa+wa.length,g,o,h);wa.push(L[note])}Sa+=newLineToPrint.length+1;g.fillText(va,O+h,u-J);I[o].push(newLineToPrint.length);u+=S;Ra+=W-1;vc&&fa.push(newLineToPrint.length);hc&&lg.push(newLineToPrint.length)}if(T==
3&&o+1!=e&&f[o+1][1]==4&&I[o][I[o].length-1]==0){I[o].pop();u-=S}if(z&&I[o].length==H[s][2]){T==3&&g.fillText("(MORE)",V[2][1]+h,u-J);u=72*S*(s+1)+11*S;if(T==3){g.fillText(t.toUpperCase()+" (CONT'D)",V[2][1]+h,u-J);u+=S}s++;z=false;M==o&&q.push(s)}}hc=vc=false}if(T==2)t=P;if(o==M){dj=C;var wc=L}if(s>=m)s=m-2}for(;e<I.length;)I.pop();L=(new Date).getMilliseconds()-wj;e=false;if(L>0&&L<500)e=true;if(L<0&&L<-500)e=true;if(fa){var cb=0;for(L=fa[cb];K>L;){cb++;L+=1+fa[cb]}L-=fa[cb];vc=0;for(note in wc){hc=
wc[note];hc<K&&hc>L&&hc<L+fa[cb]&&vc++}note=null;if(q.length>0&&cb>=H[q[0]-1][2]){X=72*q[0]*S+9*S;if(f[M][1]==3){X+=S*2;cb-=H[q[0]-1][2]}else if(f[M][1]==1){cb-=H[q[0]-1][2];X+=S}}if(e){h=$+(K-L+vc)*R+h;if(f[M][1]==5)h-=f[M][0].length*R;ej=2+X+cb*S-J;try{g.fillRect(h,ej,2,17)}catch(Fk){}}cb=null}g.lineWidth=4;g.strokeStyle="#ddd";g.beginPath();g.moveTo(2,2);g.lineTo(2,document.getElementById("canvas").height-1);g.lineTo(Y,document.getElementById("canvas").height-1);g.lineTo(Y,2);g.stroke();g.fillStyle=
"#ccc";g.fillRect(2,document.getElementById("canvas").height-24,Y-25,24);g.strokeStyle="#aaa";g.lineWidth=1;g.beginPath();g.moveTo(1.5,document.getElementById("canvas").height-25.5);g.lineTo(1.5,document.getElementById("canvas").height-1.5);g.lineTo(Y-22.5,document.getElementById("canvas").height-1.5);g.lineTo(Y-22.5,document.getElementById("canvas").height-25.5);g.closePath();g.strokeStyle="#999";g.stroke();g.beginPath();g.moveTo(0.5,document.getElementById("canvas").height-24.5);g.lineTo(0.5,document.getElementById("canvas").height-
0.5);g.lineTo(Y-21.5,document.getElementById("canvas").height-0.5);g.lineTo(Y-21.5,document.getElementById("canvas").height-24.5);g.closePath();g.strokeStyle="#333";g.stroke();h="Page "+cj+" of "+(m+1);g.font="10pt sans-serif";g.fillStyle="#000";g.fillText(h,Y-150,document.getElementById("canvas").height-8);g.fillText(["Enter : Action  --  Tab : Character","Enter : Character  --  Tab : Slugline","Enter : Dialog  --  Tab : Action","Enter : Character  --  Tab : Parenthetical","Enter : Dialog  --  Tab : Dialog",
"Enter : Slugline  --  Tab : Slugline"][f[M][1]],15,document.getElementById("canvas").height-8);g.fillText("Scene "+dj+" of "+qj.length,Y/2-30,document.getElementById("canvas").height-8);g.font=uj;h=document.getElementById("canvas").height;g.fillStyle="#333";g.fillRect(Y-21,h-39,21,20);g.fillStyle="#ddd";g.fillRect(Y-19,h-37,16,16);g.beginPath();g.moveTo(Y-16,h-24);g.lineTo(Y-10.5,h-35);g.lineTo(Y-5,h-24);g.closePath();g.fillStyle="#333";g.fill();g.fillStyle="#333";g.fillRect(Y-21,h-19,20,20);g.fillStyle=
"#ddd";g.fillRect(Y-19,h-18,16,16);g.beginPath();g.moveTo(Y-16,h-15);g.lineTo(Y-10.5,h-4);g.lineTo(Y-5,h-15);g.closePath();g.fillStyle="#333";g.fill();h=g.createLinearGradient(Y-15,0,Y,0);h.addColorStop(0,"#5587c4");h.addColorStop(0.8,"#95a7d4");g.strokeStyle="#333";g.fillStyle=h;$=document.getElementById("canvas").height;fa=(H.length+1)*72*S+40;h=$/fa*($-39);if(h<20)h=20;if(h>=$-39)h=$-39;$=J/(fa-$)*($-39-h);g.fillRect(Y-18.5,$+8,16,h-17);g.strokeRect(Y-18.5,$+8,16,h-17);g.beginPath();g.arc(Y-10.5,
$+9,8,0,Math.PI,true);g.fill();g.stroke();g.beginPath();g.arc(Y-10.5,$+h-11,8,0,Math.PI,false);g.fill();g.stroke();for(fa=$;fa<$+h;){wc=g.createRadialGradient(Y,fa+10,4,Y+200,fa,10);wc.addColorStop(0,"rgba(100,140,210,0.4)");wc.addColorStop(0.4,"rgba(180,160,240,0.4)");wc.addColorStop(1,"rgba(1,159,98,0)");g.fillStyle=wc;g.fillRect(Y-18.5,$+8,16,h-17);fa+=20}g.beginPath();g.moveTo(Y-7,$+9);g.lineTo(Y-7,$+h-10);g.lineCap="round";g.strokeStyle="rgba(200,220,255,0.3)";g.lineWidth=4;g.stroke();g.beginPath();
g.moveTo(Y-9,$+10);g.lineTo(Y-9,$+h-10);g.strokeStyle="rgba(200,220,255,0.1)";g.lineWidth=2;g.stroke();a:{H=[];for(g=i=0;i<Z.length;){for(lineCount=g;lineCount+I[i].length<56;){lineCount+=I[i].length;i++;if(i==Z.length)break a}g=h=0;if(Z[i][1]==3&&lineCount<54&&lineCount+I[i].length>57){h=55-lineCount;g=1-h;lineCount=56}else if(Z[i][1]==3&&lineCount<54&&I[i].length>4){h=I[i].length-3;g=1-h;lineCount=55}else if(Z[i][1]==1&&lineCount<55&&lineCount+I[i].length>57){h=55-lineCount;g=1-h;lineCount=56}else if(Z[i][1]==
1&&lineCount<55&&I[i].length>4){h=I[i].length-3;g=1-h;lineCount=55}else for(;Z[i-1][1]==0||Z[i-1][1]==2||Z[i-1][1]==4;){i--;lineCount-=I[i].length}H.push([i,lineCount,h])}}mj&&M<Q&&lj<40&&Pj(-20);mj&&M>Q&&lj>document.getElementById("canvas").height-50&&Pj(20);if(d=="enter")ej>document.getElementById("canvas").height&&Pj(600);else if(d)if(2+X+cb*S-J>document.getElementById("canvas").height-60)Pj(45);else ej<45&&Pj(-45);document.getElementById("format").selectedIndex=f[M][1]}for(o=0;o<=5;o++)$e(Ee(Ej,
"format"+o),f[M][1]==o?true:false)};
