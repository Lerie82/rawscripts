function aa(){return function(){}}function ba(a){return function(d){this[a]=d}}function ca(a){return function(){return this[a]}}function k(a){return function(){return a}}var l,da=da||{},m=this;function ea(a,d){for(var e=a.split("."),f=d||m,g;g=e.shift();)if(f[g])f=f[g];else return null;return f}function fa(){}function ga(a){a.A=function(){return a.Gd||(a.Gd=new a)}}
function ha(a){var d=typeof a;if(d=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(d=="function"&&typeof a.call=="undefined")return"object";return d}function ia(a){return ha(a)=="array"}function ja(a){var d=ha(a);return d=="array"||d=="object"&&typeof a.length=="number"}function o(a){return typeof a=="string"}function ka(a){return ha(a)=="function"}function la(a){a=ha(a);return a=="object"||a=="array"||a=="function"}function ma(a){return a[na]||(a[na]=++qa)}var na="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),qa=0;
function ra(a,d){var e=d||m;if(arguments.length>2){var f=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(g,f);return a.apply(e,g)}}else return function(){return a.apply(e,arguments)}}function sa(a){var d=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);e.unshift.apply(e,d);return a.apply(this,e)}}var ta=Date.now||function(){return+new Date};
function r(a,d){function e(){}e.prototype=d.prototype;a.a=d.prototype;a.prototype=new e;a.prototype.constructor=a};function ua(a){for(var d=1;d<arguments.length;d++){var e=String(arguments[d]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a}function va(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function xa(a,d){if(d)return a.replace(ya,"&amp;").replace(za,"&lt;").replace(Aa,"&gt;").replace(Ba,"&quot;");else{if(!Ca.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ya,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(za,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Aa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ba,"&quot;");return a}}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/\"/g,Ca=/[&<>\"]/;
function Da(a,d){for(var e=0,f=va(String(a)).split("."),g=va(String(d)).split("."),h=Math.max(f.length,g.length),n=0;e==0&&n<h;n++){var p=f[n]||"",q=g[n]||"",s=RegExp("(\\d*)(\\D*)","g"),A=RegExp("(\\d*)(\\D*)","g");do{var z=s.exec(p)||["","",""],t=A.exec(q)||["","",""];if(z[0].length==0&&t[0].length==0)break;e=Ea(z[1].length==0?0:parseInt(z[1],10),t[1].length==0?0:parseInt(t[1],10))||Ea(z[2].length==0,t[2].length==0)||Ea(z[2],t[2])}while(e==0)}return e}
function Ea(a,d){if(a<d)return-1;else if(a>d)return 1;return 0};var Fa,Ga,Ha,Ia,Ja,Ka,La;function Ma(){return m.navigator?m.navigator.userAgent:null}function Oa(){return m.navigator}Ja=Ia=Ha=Ga=Fa=false;var Pa;if(Pa=Ma()){var Qa=Oa();Fa=Pa.indexOf("Opera")==0;Ga=!Fa&&Pa.indexOf("MSIE")!=-1;Ia=(Ha=!Fa&&Pa.indexOf("WebKit")!=-1)&&Pa.indexOf("Mobile")!=-1;Ja=!Fa&&!Ha&&Qa.product=="Gecko"}var Ra=Fa,u=Ga,B=Ja,C=Ha,Sa=Ia,Ta,Ua=Oa();Ta=Ua&&Ua.platform||"";Ka=Ta.indexOf("Mac")!=-1;La=Ta.indexOf("Win")!=-1;
var Va=Ka,Xa=!!Oa()&&(Oa().appVersion||"").indexOf("X11")!=-1,Ya;a:{var Za="",$a;if(Ra&&m.opera){var ab=m.opera.version;Za=typeof ab=="function"?ab():ab}else{if(B)$a=/rv\:([^\);]+)(\)|;)/;else if(u)$a=/MSIE\s+([^\);]+)(\)|;)/;else if(C)$a=/WebKit\/(\S+)/;if($a){var bb=$a.exec(Ma());Za=bb?bb[1]:""}}if(u){var cb,db=m.document;cb=db?db.documentMode:undefined;if(cb>parseFloat(Za)){Ya=String(cb);break a}}Ya=Za}var eb={};function D(a){return eb[a]||(eb[a]=Da(Ya,a)>=0)};function fb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}r(fb,Error);fb.prototype.name="CustomError";function gb(a,d){d.unshift(a);fb.call(this,ua.apply(null,d));d.shift();this.Wd=a}r(gb,fb);gb.prototype.name="AssertionError";function hb(a,d){if(!a){var e=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(d){f+=": "+d;var g=e}throw new gb(""+f,g||[]);}return a}function ib(a){throw new gb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var jb=Array.prototype,kb=jb.indexOf?function(a,d,e){hb(a.length!=null);return jb.indexOf.call(a,d,e)}:function(a,d,e){e=e==null?0:e<0?Math.max(0,a.length+e):e;if(o(a)){if(!o(d)||d.length!=1)return-1;return a.indexOf(d,e)}for(e=e;e<a.length;e++)if(e in a&&a[e]===d)return e;return-1},lb=jb.forEach?function(a,d,e){hb(a.length!=null);jb.forEach.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=o(a)?a.split(""):a,h=0;h<f;h++)h in g&&d.call(e,g[h],h,a)},mb=jb.map?function(a,d,e){hb(a.length!=null);return jb.map.call(a,
d,e)}:function(a,d,e){for(var f=a.length,g=Array(f),h=o(a)?a.split(""):a,n=0;n<f;n++)if(n in h)g[n]=d.call(e,h[n],n,a);return g},nb=jb.every?function(a,d,e){hb(a.length!=null);return jb.every.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=o(a)?a.split(""):a,h=0;h<f;h++)if(h in g&&!d.call(e,g[h],h,a))return false;return true};function ob(a,d){return kb(a,d)>=0}function pb(a,d){var e=kb(a,d),f;if(f=e>=0){hb(a.length!=null);jb.splice.call(a,e,1)}return f}
function qb(){return jb.concat.apply(jb,arguments)}function rb(a){if(ia(a))return qb(a);else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e];return d}}function sb(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(ia(e)||(f=ja(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var g=a.length,h=e.length,n=0;n<h;n++)a[g+n]=e[n];else a.push(e)}}function tb(a){hb(a.length!=null);return jb.splice.apply(a,ub(arguments,1))}
function ub(a,d,e){hb(a.length!=null);return arguments.length<=2?jb.slice.call(a,d):jb.slice.call(a,d,e)};var vb=[];var wb,xb=!u||D("9"),yb=u&&!D("8");function zb(){}zb.prototype.Tb=false;zb.prototype.K=function(){if(!this.Tb){this.Tb=true;this.f()}};zb.prototype.f=aa();function Ab(a,d){this.type=a;this.currentTarget=this.target=d}r(Ab,zb);l=Ab.prototype;l.f=function(){delete this.type;delete this.target;delete this.currentTarget};l.Ea=false;l.nb=true;l.stopPropagation=function(){this.Ea=true};l.preventDefault=function(){this.nb=false};function Bb(a,d){a&&this.Qa(a,d)}r(Bb,Ab);var Cb=[1,4,2];l=Bb.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=false;l.altKey=false;l.shiftKey=false;l.metaKey=false;l.Md=false;l.W=null;
l.Qa=function(a,d){var e=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=d;var f=a.relatedTarget;if(f){if(B)try{f=f.nodeName&&f}catch(g){f=null}}else if(e=="mouseover")f=a.fromElement;else if(e=="mouseout")f=a.toElement;this.relatedTarget=f;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(e=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Md=Va?a.metaKey:a.ctrlKey;this.W=a;delete this.nb;delete this.Ea};function Db(a,d){return xb?a.W.button==d:a.type=="click"?d==0:!!(a.W.button&Cb[d])}
l.stopPropagation=function(){Bb.a.stopPropagation.call(this);if(this.W.stopPropagation)this.W.stopPropagation();else this.W.cancelBubble=true};l.preventDefault=function(){Bb.a.preventDefault.call(this);var a=this.W;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(yb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(d){}}};l.f=function(){Bb.a.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.W=null};function Eb(){}var Fb=0;l=Eb.prototype;l.key=0;l.Ua=false;l.zc=false;l.Qa=function(a,d,e,f,g,h){if(ka(a))this.Pc=true;else if(a&&a.handleEvent&&ka(a.handleEvent))this.Pc=false;else throw Error("Invalid listener argument");this.Sa=a;this.bd=d;this.src=e;this.type=f;this.capture=!!g;this.Db=h;this.zc=false;this.key=++Fb;this.Ua=false};l.handleEvent=function(a){if(this.Pc)return this.Sa.call(this.Db||this.src,a);return this.Sa.handleEvent.call(this.Sa,a)};function Gb(a,d){this.Vc=d;this.va=[];if(a>this.Vc)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var e=0;e<a;e++)this.va.push(this.$?this.$():{})}r(Gb,zb);Gb.prototype.$=null;Gb.prototype.Ec=null;function Hb(a){if(a.va.length)return a.va.pop();return a.$?a.$():{}}function Ib(a,d){a.va.length<a.Vc?a.va.push(d):Jb(a,d)}function Jb(a,d){if(a.Ec)a.Ec(d);else if(la(d))if(ka(d.K))d.K();else for(var e in d)delete d[e]}
Gb.prototype.f=function(){Gb.a.f.call(this);for(var a=this.va;a.length;)Jb(this,a.pop());delete this.va};var Lb;var Mb=(Lb="ScriptEngine"in m&&m.ScriptEngine()=="JScript")?m.ScriptEngineMajorVersion()+"."+m.ScriptEngineMinorVersion()+"."+m.ScriptEngineBuildVersion():"0";var Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb;
(function(){function a(){return{J:0,U:0}}function d(){return[]}function e(){function t(E){return n.call(t.src,t.key,E)}return t}function f(){return new Eb}function g(){return new Bb}var h=Lb&&!(Da(Mb,"5.7")>=0),n;Sb=function(t){n=t};if(h){Nb=function(){return Hb(p)};Ob=function(t){Ib(p,t)};Pb=function(){return Hb(q)};Qb=function(t){Ib(q,t)};Rb=function(){return Hb(s)};Tb=function(){Ib(s,e())};Ub=function(){return Hb(A)};Vb=function(t){Ib(A,t)};Wb=function(){return Hb(z)};Xb=function(t){Ib(z,t)};var p=
new Gb(0,600);p.$=a;var q=new Gb(0,600);q.$=d;var s=new Gb(0,600);s.$=e;var A=new Gb(0,600);A.$=f;var z=new Gb(0,600);z.$=g}else{Nb=a;Ob=fa;Pb=d;Qb=fa;Rb=e;Tb=fa;Ub=f;Vb=fa;Wb=g;Xb=fa}})();function Yb(a,d,e){for(var f in a)d.call(e,a[f],f,a)}function Zb(a){var d=[],e=0;for(var f in a)d[e++]=a[f];return d}function $b(a){var d=[],e=0;for(var f in a)d[e++]=f;return d}function ac(a,d){var e;if(e=d in a)delete a[d];return e}function bc(a,d,e){if(d in a)throw Error('The object already contains the key "'+d+'"');a[d]=e}var dc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function ec(a){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<dc.length;g++){d=dc[g];if(Object.prototype.hasOwnProperty.call(e,d))a[d]=e[d]}}}function fc(){var a=arguments.length;if(a==1&&ia(arguments[0]))return fc.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<a;e+=2)d[arguments[e]]=arguments[e+1];return d}
function gc(){var a=arguments.length;if(a==1&&ia(arguments[0]))return gc.apply(null,arguments[0]);for(var d={},e=0;e<a;e++)d[arguments[e]]=true;return d};var hc={},ic={},jc={},kc={};
function F(a,d,e,f,g){if(d)if(ia(d)){for(var h=0;h<d.length;h++)F(a,d[h],e,f,g);return null}else{f=!!f;var n=ic;d in n||(n[d]=Nb());n=n[d];if(!(f in n)){n[f]=Nb();n.J++}n=n[f];var p=ma(a),q;n.U++;if(n[p]){q=n[p];for(h=0;h<q.length;h++){n=q[h];if(n.Sa==e&&n.Db==g){if(n.Ua)break;return q[h].key}}}else{q=n[p]=Pb();n.J++}h=Rb();h.src=a;n=Ub();n.Qa(e,h,a,d,f,g);e=n.key;h.key=e;q.push(n);hc[e]=n;jc[p]||(jc[p]=Pb());jc[p].push(n);if(a.addEventListener){if(a==m||!a.Dc)a.addEventListener(d,h,f)}else a.attachEvent(lc(d),
h);return e}else throw Error("Invalid event type");}function mc(a,d,e,f,g){if(ia(d)){for(var h=0;h<d.length;h++)mc(a,d[h],e,f,g);return null}f=!!f;a=nc(a,d,f);if(!a)return false;for(h=0;h<a.length;h++)if(a[h].Sa==e&&a[h].capture==f&&a[h].Db==g)return oc(a[h].key);return false}
function oc(a){if(!hc[a])return false;var d=hc[a];if(d.Ua)return false;var e=d.src,f=d.type,g=d.bd,h=d.capture;if(e.removeEventListener){if(e==m||!e.Dc)e.removeEventListener(f,g,h)}else e.detachEvent&&e.detachEvent(lc(f),g);e=ma(e);g=ic[f][h][e];if(jc[e]){var n=jc[e];pb(n,d);n.length==0&&delete jc[e]}d.Ua=true;g.$c=true;pc(f,h,e,g);delete hc[a];return true}
function pc(a,d,e,f){if(!f.Ib)if(f.$c){for(var g=0,h=0;g<f.length;g++)if(f[g].Ua){var n=f[g].bd;n.src=null;Tb(n);Vb(f[g])}else{if(g!=h)f[h]=f[g];h++}f.length=h;f.$c=false;if(h==0){Qb(f);delete ic[a][d][e];ic[a][d].J--;if(ic[a][d].J==0){Ob(ic[a][d]);delete ic[a][d];ic[a].J--}if(ic[a].J==0){Ob(ic[a]);delete ic[a]}}}}
function qc(a,d,e){var f=0,g=a==null,h=d==null,n=e==null;e=!!e;if(g)Yb(jc,function(q){for(var s=q.length-1;s>=0;s--){var A=q[s];if((h||d==A.type)&&(n||e==A.capture)){oc(A.key);f++}}});else{a=ma(a);if(jc[a]){a=jc[a];for(g=a.length-1;g>=0;g--){var p=a[g];if((h||d==p.type)&&(n||e==p.capture)){oc(p.key);f++}}}}return f}function nc(a,d,e){var f=ic;if(d in f){f=f[d];if(e in f){f=f[e];a=ma(a);if(f[a])return f[a]}}return null}
var rc="click",sc="mouseover",tc="mouseout",uc="keydown",vc="keyup",wc="blur",xc="focus";function lc(a){if(a in kc)return kc[a];return kc[a]="on"+a}function yc(a,d,e,f,g){var h=1;d=ma(d);if(a[d]){a.U--;a=a[d];if(a.Ib)a.Ib++;else a.Ib=1;try{for(var n=a.length,p=0;p<n;p++){var q=a[p];if(q&&!q.Ua)h&=zc(q,g)!==false}}finally{a.Ib--;pc(e,f,d,a)}}return Boolean(h)}function zc(a,d){var e=a.handleEvent(d);a.zc&&oc(a.key);return e}
function Ac(a,d){if(!hc[a])return true;var e=hc[a],f=e.type,g=ic;if(!(f in g))return true;g=g[f];var h,n;if(wb===undefined)wb=u&&!m.addEventListener;if(wb){h=d||ea("window.event");var p=true in g,q=false in g;if(p){if(h.keyCode<0||h.returnValue!=undefined)return true;a:{var s=false;if(h.keyCode==0)try{h.keyCode=-1;break a}catch(A){s=true}if(s||h.returnValue==undefined)h.returnValue=true}}s=Wb();s.Qa(h,this);h=true;try{if(p){for(var z=Pb(),t=s.currentTarget;t;t=t.parentNode)z.push(t);n=g[true];n.U=
n.J;for(var E=z.length-1;!s.Ea&&E>=0&&n.U;E--){s.currentTarget=z[E];h&=yc(n,z[E],f,true,s)}if(q){n=g[false];n.U=n.J;for(E=0;!s.Ea&&E<z.length&&n.U;E++){s.currentTarget=z[E];h&=yc(n,z[E],f,false,s)}}}else h=zc(e,s)}finally{if(z){z.length=0;Qb(z)}s.K();Xb(s)}return h}f=new Bb(d,this);try{h=zc(e,f)}finally{f.K()}return h}Sb(Ac);vb[vb.length]=function(a){Ac=a(Ac);Sb(Ac)};var Bc,Cc=!u||D("9"),Dc=u&&!D("9");function Ec(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Fc(a){var d=Ec(a),e;e=ub(arguments,1);for(var f=0,g=0;g<e.length;g++)if(!ob(d,e[g])){d.push(e[g]);f++}e=f==e.length;a.className=d.join(" ");return e}function Gc(a){var d=Ec(a),e;e=ub(arguments,1);for(var f=0,g=0;g<d.length;g++)if(ob(e,d[g])){tb(d,g--,1);f++}e=f==e.length;a.className=d.join(" ");return e};function Hc(a,d){this.x=a!==undefined?a:0;this.y=d!==undefined?d:0}Hc.prototype.qa=function(){return new Hc(this.x,this.y)};Hc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Ic(a,d){return new Hc(a.x-d.x,a.y-d.y)};function Jc(a,d){this.width=a;this.height=d}function Kc(a,d){if(a==d)return true;if(!a||!d)return false;return a.width==d.width&&a.height==d.height}Jc.prototype.qa=function(){return new Jc(this.width,this.height)};Jc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};Jc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Jc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Lc(a){return a?new Mc(Nc(a)):Bc||(Bc=new Mc)}function G(a){return o(a)?document.getElementById(a):a}
function Oc(a,d,e,f){a=f||a;d=d&&d!="*"?d.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!C||Pc(document)||D("528"))&&(d||e))return a.querySelectorAll(d+(e?"."+e:""));if(e&&a.getElementsByClassName){a=a.getElementsByClassName(e);if(d){f={};for(var g=0,h=0,n;n=a[h];h++)if(d==n.nodeName)f[g++]=n;f.length=g;return f}else return a}a=a.getElementsByTagName(d||"*");if(e){f={};for(h=g=0;n=a[h];h++){d=n.className;if(typeof d.split=="function"&&ob(d.split(/\s+/),e))f[g++]=n}f.length=g;return f}else return a}
function Qc(a,d){Yb(d,function(e,f){if(f=="style")a.style.cssText=e;else if(f=="class")a.className=e;else if(f=="for")a.htmlFor=e;else if(f in Rc)a.setAttribute(Rc[f],e);else a[f]=e})}var Rc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Sc(a){var d=a.document;if(C&&!D("500")&&!Sa){if(typeof a.innerHeight=="undefined")a=window;d=a.innerHeight;var e=a.document.documentElement.scrollHeight;if(a==a.top)if(e<d)d-=15;return new Jc(a.innerWidth,d)}a=Pc(d);if(Ra&&!D("9.50"))a=false;a=a?d.documentElement:d.body;return new Jc(a.clientWidth,a.clientHeight)}function Tc(a,d,e,f){function g(n){if(n)d.appendChild(o(n)?a.createTextNode(n):n)}for(f=f;f<e.length;f++){var h=e[f];ja(h)&&!(la(h)&&h.nodeType>0)?lb(Uc(h)?rb(h):h,g):g(h)}}
function Pc(a){return a.compatMode=="CSS1Compat"}function Vc(a){for(var d;d=a.firstChild;)a.removeChild(d)}function Wc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Xc(a){for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function Yc(a,d){if(a.contains&&d.nodeType==1)return a==d||a.contains(d);if(typeof a.compareDocumentPosition!="undefined")return a==d||Boolean(a.compareDocumentPosition(d)&16);for(;d&&a!=d;)d=d.parentNode;return d==a}
function Nc(a){return a.nodeType==9?a:a.ownerDocument||a.document}function Zc(a,d){if("textContent"in a)a.textContent=d;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=d}else{Vc(a);a.appendChild(Nc(a).createTextNode(d))}}var $c={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ad={IMG:" ",BR:"\n"};function bd(a){var d=a.getAttributeNode("tabindex");if(d&&d.specified){a=a.tabIndex;return typeof a=="number"&&a>=0}return false}
function cd(a){if(Dc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var d=[];dd(a,d,true);a=d.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");u||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function dd(a,d,e){if(!(a.nodeName in $c))if(a.nodeType==3)e?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else if(a.nodeName in ad)d.push(ad[a.nodeName]);else for(a=a.firstChild;a;){dd(a,d,e);a=a.nextSibling}}
function Uc(a){if(a&&typeof a.length=="number")if(la(a))return typeof a.item=="function"||typeof a.item=="string";else if(ka(a))return typeof a.item=="function";return false}function Mc(a){this.p=a||m.document||document}l=Mc.prototype;l.G=Lc;function ed(a){return a.p}l.c=function(a){return o(a)?this.p.getElementById(a):a};
l.h=function(){var a=this.p,d=arguments,e=d[0],f=d[1];if(!Cc&&f&&(f.name||f.type)){e=["<",e];f.name&&e.push(' name="',xa(f.name),'"');if(f.type){e.push(' type="',xa(f.type),'"');var g={};ec(g,f);f=g;delete f.type}e.push(">");e=e.join("")}e=a.createElement(e);if(f)if(o(f))e.className=f;else ia(f)?Fc.apply(null,[e].concat(f)):Qc(e,f);d.length>2&&Tc(a,e,d,2);return e};l.createElement=function(a){return this.p.createElement(a)};l.createTextNode=function(a){return this.p.createTextNode(a)};
function fd(a){a=!C&&Pc(a.p)?a.p.documentElement:a.p.body;return new Hc(a.scrollLeft,a.scrollTop)}l.appendChild=function(a,d){a.appendChild(d)};l.Ic=Xc;l.contains=Yc;function gd(a,d,e,f){this.top=a;this.right=d;this.bottom=e;this.left=f}gd.prototype.qa=function(){return new gd(this.top,this.right,this.bottom,this.left)};gd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};gd.prototype.contains=function(a){return!this||!a?false:a instanceof gd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function hd(a,d,e,f){this.left=a;this.top=d;this.width=e;this.height=f}hd.prototype.qa=function(){return new hd(this.left,this.top,this.width,this.height)};hd.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
hd.prototype.contains=function(a){return a instanceof hd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function jd(a,d){var e=Nc(a);if(e.defaultView&&e.defaultView.getComputedStyle)if(e=e.defaultView.getComputedStyle(a,""))return e[d];return null}function kd(a,d){return jd(a,d)||(a.currentStyle?a.currentStyle[d]:null)||a.style[d]}function ld(a,d,e){var f,g=B&&(Va||Xa)&&D("1.9");if(d instanceof Hc){f=d.x;d=d.y}else{f=d;d=e}a.style.left=md(f,g);a.style.top=md(d,g)}
function nd(a){var d=a.getBoundingClientRect();if(u){a=a.ownerDocument;d.left-=a.documentElement.clientLeft+a.body.clientLeft;d.top-=a.documentElement.clientTop+a.body.clientTop}return d}
function od(a){if(u)return a.offsetParent;var d=Nc(a),e=kd(a,"position"),f=e=="fixed"||e=="absolute";for(a=a.parentNode;a&&a!=d;a=a.parentNode){e=kd(a,"position");f=f&&e=="static"&&a!=d.documentElement&&a!=d.body;if(!f&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||e=="fixed"||e=="absolute"))return a}return null}
function pd(a){var d=new gd(0,Infinity,Infinity,0),e=Lc(a),f=e.p.body,g=!C&&Pc(e.p)?e.p.documentElement:e.p.body,h;for(a=a;a=od(a);)if((!u||a.clientWidth!=0)&&(!C||a.clientHeight!=0||a!=f)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&kd(a,"overflow")!="visible"){var n=qd(a),p;p=a;if(B&&!D("1.9")){var q=parseFloat(jd(p,"borderLeftWidth"));if(rd(p)){var s=p.offsetWidth-p.clientWidth-q-parseFloat(jd(p,"borderRightWidth"));q+=s}p=new Hc(q,parseFloat(jd(p,"borderTopWidth")))}else p=
new Hc(p.clientLeft,p.clientTop);n.x+=p.x;n.y+=p.y;d.top=Math.max(d.top,n.y);d.right=Math.min(d.right,n.x+a.clientWidth);d.bottom=Math.min(d.bottom,n.y+a.clientHeight);d.left=Math.max(d.left,n.x);h=h||a!=g}f=g.scrollLeft;g=g.scrollTop;if(C){d.left+=f;d.top+=g}else{d.left=Math.max(d.left,f);d.top=Math.max(d.top,g)}if(!h||C){d.right+=f;d.bottom+=g}e=Sc(e.p.parentWindow||e.p.defaultView||window);d.right=Math.min(d.right,f+e.width);d.bottom=Math.min(d.bottom,g+e.height);return d.top>=0&&d.left>=0&&d.bottom>
d.top&&d.right>d.left?d:null}
function qd(a){var d,e=Nc(a),f=kd(a,"position"),g=B&&e.getBoxObjectFor&&!a.getBoundingClientRect&&f=="absolute"&&(d=e.getBoxObjectFor(a))&&(d.screenX<0||d.screenY<0),h=new Hc(0,0),n;d=e?e.nodeType==9?e:Nc(e):document;if(n=u){n=Lc(d);n=!Pc(n.p)}n=n?d.body:d.documentElement;if(a==n)return h;if(a.getBoundingClientRect){d=nd(a);a=fd(Lc(e));h.x=d.left+a.x;h.y=d.top+a.y}else if(e.getBoxObjectFor&&!g){d=e.getBoxObjectFor(a);a=e.getBoxObjectFor(n);h.x=d.screenX-a.screenX;h.y=d.screenY-a.screenY}else{g=a;
do{h.x+=g.offsetLeft;h.y+=g.offsetTop;if(g!=a){h.x+=g.clientLeft||0;h.y+=g.clientTop||0}if(C&&kd(g,"position")=="fixed"){h.x+=e.body.scrollLeft;h.y+=e.body.scrollTop;break}g=g.offsetParent}while(g&&g!=a);if(Ra||C&&f=="absolute")h.y-=e.body.offsetTop;for(g=a;(g=od(g))&&g!=e.body&&g!=n;){h.x-=g.scrollLeft;if(!Ra||g.tagName!="TR")h.y-=g.scrollTop}}return h}
function sd(a,d,e){if(d instanceof Jc){e=d.height;d=d.width}else{if(e==undefined)throw Error("missing height argument");e=e}a.style.width=md(d,true);a.style.height=md(e,true)}function md(a,d){if(typeof a=="number")a=(d?Math.round(a):a)+"px";return a}
function td(a){var d=Ra&&!D("10");if(kd(a,"display")!="none")return d?new Jc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new Jc(a.offsetWidth,a.offsetHeight);var e=a.style,f=e.display,g=e.visibility,h=e.position;e.visibility="hidden";e.position="absolute";e.display="inline";if(d){d=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{d=a.offsetWidth;a=a.offsetHeight}e.display=f;e.position=h;e.visibility=g;return new Jc(d,a)}
function ud(a){var d=qd(a);a=td(a);return new hd(d.x,d.y,a.width,a.height)}function vd(a,d){a.style.display=d?"":"none"}function rd(a){return"rtl"==kd(a,"direction")}var wd=B?"MozUserSelect":C?"WebkitUserSelect":null;function xd(a,d,e){e=!e?a.getElementsByTagName("*"):null;if(wd){d=d?"none":"";a.style[wd]=d;if(e){a=0;for(var f;f=e[a];a++)f.style[wd]=d}}else if(u||Ra){d=d?"on":"";a.setAttribute("unselectable",d);if(e)for(a=0;f=e[a];a++)f.setAttribute("unselectable",d)}};function yd(){}r(yd,zb);l=yd.prototype;l.Dc=true;l.Kb=null;l.oc=ba("Kb");l.addEventListener=function(a,d,e,f){F(this,a,d,e,f)};l.removeEventListener=function(a,d,e,f){mc(this,a,d,e,f)};
l.dispatchEvent=function(a){a=a;if(o(a))a=new Ab(a,this);else if(a instanceof Ab)a.target=a.target||this;else{var d=a;a=new Ab(a.type,this);ec(a,d)}d=1;var e,f=a.type,g=ic;if(f in g){g=g[f];f=true in g;var h;if(f){e=[];for(h=this;h;h=h.Kb)e.push(h);h=g[true];h.U=h.J;for(var n=e.length-1;!a.Ea&&n>=0&&h.U;n--){a.currentTarget=e[n];d&=yc(h,e[n],a.type,true,a)&&a.nb!=false}}if(false in g){h=g[false];h.U=h.J;if(f)for(n=0;!a.Ea&&n<e.length&&h.U;n++){a.currentTarget=e[n];d&=yc(h,e[n],a.type,false,a)&&a.nb!=
false}else for(e=this;!a.Ea&&e&&h.U;e=e.Kb){a.currentTarget=e;d&=yc(h,e,a.type,false,a)&&a.nb!=false}}a=Boolean(d)}else a=true;return a};l.f=function(){yd.a.f.call(this);qc(this);this.Kb=null};function zd(a){this.Ja=a||window;this.Hb=F(this.Ja,"resize",this.Dd,false,this);this.Mb=Sc(this.Ja||window);if(C&&La||Ra&&this.Ja.self!=this.Ja.top)this.Ob=window.setInterval(ra(this.Bc,this),Ad)}r(zd,yd);var Ad=500;l=zd.prototype;l.Hb=null;l.Ja=null;l.Mb=null;l.Ob=null;l.f=function(){zd.a.f.call(this);if(this.Hb){oc(this.Hb);this.Hb=null}if(this.Ob){window.clearInterval(this.Ob);this.Ob=null}this.Mb=this.Ja=null};l.Dd=function(){this.Bc()};
l.Bc=function(){var a=Sc(this.Ja||window);if(!Kc(a,this.Mb)){this.Mb=a;this.dispatchEvent("resize")}};function Bd(a){this.i=a;this.Uc=F(this.i,B?"DOMMouseScroll":"mousewheel",this)}r(Bd,yd);var Cd="mousewheel";
Bd.prototype.handleEvent=function(a){var d=0,e=0,f=0;a=a.W;if(a.type=="mousewheel"){e=1;if(u||C&&(La||D("532.0")))e=40;f=-a.wheelDelta/e;if(a.wheelDeltaX!==undefined){d=-a.wheelDeltaX/e;e=-a.wheelDeltaY/e}else e=f}else{f=a.detail;if(f>100)f=3;else if(f<-100)f=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)d=f;else e=f}if(typeof this.Wc=="number")d=Math.min(Math.max(d,-this.Wc),this.Wc);if(typeof this.Xc=="number")e=Math.min(Math.max(e,-this.Xc),this.Xc);d=new Dd(f,a,d,e);try{this.dispatchEvent(d)}finally{d.K()}};
Bd.prototype.f=function(){Bd.a.f.call(this);oc(this.Uc);delete this.Uc};function Dd(a,d,e,f){d&&this.Qa(d,void 0);this.type=Cd;this.detail=a;this.Td=e;this.td=f}r(Dd,Bb);function Ed(a,d,e,f,g){if(!u&&!(C&&D("525")))return true;if(Va&&g)return Fd(a);if(g&&!f)return false;if(!e&&(d==17||d==18))return false;if(u&&f&&d==a)return false;switch(a){case 13:return true;case 27:return!C}return Fd(a)}
function Fd(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(C&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};function Gd(a,d){a&&Hd(this,a,d)}r(Gd,yd);l=Gd.prototype;l.i=null;l.Fb=null;l.jc=null;l.Gb=null;l.ja=-1;l.ha=-1;
var Id={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Jd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Kd={61:187,
59:186},Ld=u||C&&D("525");l=Gd.prototype;l.Oa=function(a){if(C&&(this.ja==17&&!a.ctrlKey||this.ja==18&&!a.altKey))this.ha=this.ja=-1;if(Ld&&!Ed(a.keyCode,this.ja,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.ha=B&&a.keyCode in Kd?Kd[a.keyCode]:a.keyCode};l.Ad=function(){this.ha=this.ja=-1};
l.handleEvent=function(a){var d=a.W,e,f;if(u&&a.type=="keypress"){e=this.ha;f=e!=13&&e!=27?d.keyCode:0}else if(C&&a.type=="keypress"){e=this.ha;f=d.charCode>=0&&d.charCode<63232&&Fd(e)?d.charCode:0}else if(Ra){e=this.ha;f=Fd(e)?d.keyCode:0}else{e=d.keyCode||this.ha;f=d.charCode||0;if(Va&&f==63&&!e)e=191}var g=e,h=d.keyIdentifier;if(e)if(e>=63232&&e in Id)g=Id[e];else{if(e==25&&a.shiftKey)g=9}else if(h&&h in Jd)g=Jd[h];a=g==this.ja;this.ja=g;d=new Md(g,f,a,d);try{this.dispatchEvent(d)}finally{d.K()}};
l.c=ca("i");function Hd(a,d,e){a.Gb&&a.detach();a.i=d;a.Fb=F(a.i,"keypress",a,e);a.jc=F(a.i,uc,a.Oa,e,a);a.Gb=F(a.i,vc,a.Ad,e,a)}l.detach=function(){if(this.Fb){oc(this.Fb);oc(this.jc);oc(this.Gb);this.Gb=this.jc=this.Fb=null}this.i=null;this.ha=this.ja=-1};l.f=function(){Gd.a.f.call(this);this.detach()};function Md(a,d,e,f){f&&this.Qa(f,void 0);this.type="key";this.keyCode=a;this.charCode=d;this.repeat=e}r(Md,Bb);function Nd(a,d){this.gb=a||1;this.tb=d||Od;this.Sb=ra(this.Rd,this);this.kc=ta()}r(Nd,yd);Nd.prototype.enabled=false;var Od=m.window;l=Nd.prototype;l.L=null;l.setInterval=function(a){this.gb=a;if(this.L&&this.enabled){this.stop();this.start()}else this.L&&this.stop()};l.Rd=function(){if(this.enabled){var a=ta()-this.kc;if(a>0&&a<this.gb*0.8)this.L=this.tb.setTimeout(this.Sb,this.gb-a);else{this.dispatchEvent(Pd);if(this.enabled){this.L=this.tb.setTimeout(this.Sb,this.gb);this.kc=ta()}}}};
l.start=function(){this.enabled=true;if(!this.L){this.L=this.tb.setTimeout(this.Sb,this.gb);this.kc=ta()}};l.stop=function(){this.enabled=false;if(this.L){this.tb.clearTimeout(this.L);this.L=null}};l.f=function(){Nd.a.f.call(this);this.stop();delete this.tb};var Pd="tick";function Qd(a,d,e){if(ka(a)){if(e)a=ra(a,e)}else if(a&&typeof a.handleEvent=="function")a=ra(a.handleEvent,a);else throw Error("Invalid listener argument");return d>2147483647?-1:Od.setTimeout(a,d||0)};var Rd={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Sd(a){this.rb={};this.da={Ha:[],gd:0};this.vd=gc(Td);this.wc=true;this.pd=this.sd=false;this.Hd=true;this.ca=a;F(this.ca,uc,this.Oa,false,this);Va&&B&&D("1.8")&&F(this.ca,vc,this.Kc,false,this);if(La&&!B){F(this.ca,"keypress",this.Lc,false,this);F(this.ca,vc,this.Mc,false,this)}}var Ud;r(Sd,yd);var Td=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Vd={nd:"shortcut",md:"shortcut_"};l=Sd.prototype;
l.lb=function(a){var d=Wd,e=this.rb,f=arguments;if(o(f[1])){f=f[1];f=f.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();f=f.split(" ");for(var g=[],h,n=0;h=f[n];n++){var p=h.split("+"),q;h=0;for(var s,A=0;s=p[A];A++){switch(s){case "shift":h|=1;continue;case "ctrl":h|=2;continue;case "alt":h|=4;continue;case "meta":h|=8;continue}q=s;if(!Ud){p={};for(var z in Rd)p[Rd[z]]=z;Ud=p}q=Ud[q];break}g.push({keyCode:q,Zc:h})}f=g}else{z=f;g=1;if(ia(f[1])){z=f[1];g=0}for(f=[];g<z.length;g+=2)f.push({keyCode:z[g],
Zc:z[g+1]})}d(e,f,a)};l.f=function(){Sd.a.f.call(this);this.rb={};mc(this.ca,uc,this.Oa,false,this);Va&&B&&D("1.8")&&mc(this.ca,vc,this.Kc,false,this);if(La&&!B){mc(this.ca,"keypress",this.Lc,false,this);mc(this.ca,vc,this.Mc,false,this)}this.ca=null};l.Kc=function(a){if(a.keyCode==224){this.Yc=true;Qd(function(){this.Yc=false},400,this)}else{var d=a.metaKey||this.Yc;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&d){a.metaKey=d;this.Oa(a)}}};
function Xd(a,d){return La&&!B&&d.ctrlKey&&d.altKey&&!d.shiftKey}l.Lc=function(a){if(a.keyCode>32&&Xd(this,a))this.Qc=true};l.Mc=function(a){!this.Qc&&Xd(this,a)&&this.Oa(a)};function Wd(a,d,e){var f=d.shift();f=f.keyCode&255|f.Zc<<8;var g=a[f];if(g&&e&&(d.length==0||o(g)))throw Error("Keyboard shortcut conflicts with existing shortcut");if(d.length){g||(g=a[f]={});Wd(g,d,e)}else a[f]=e}function Yd(a,d,e,f){e=e||0;if((f=(f||a.rb)[d[e]])&&!o(f)&&d.length-e>1)return Yd(a,d,e+1,f);return f}
l.Oa=function(a){if(Zd(this,a))if(a.type=="keydown"&&Xd(this,a))this.Qc=false;else{var d=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,e,f,g=ta();if(this.da.Ha.length&&g-this.da.gd<=1500)e=Yd(this,this.da.Ha);else this.da.Ha.length=0;e=e?e[d]:this.rb[d];if(!e){e=this.rb[d];this.da.Ha=[]}if(e&&o(e))f=e;else if(e){this.da.Ha.push(d);this.da.gd=g;B&&a.preventDefault()}else this.da.Ha.length=0;if(f){this.wc&&a.preventDefault();this.sd&&a.stopPropagation();d=this.dispatchEvent(new $d(Vd.nd,
f,a.target));d&=this.dispatchEvent(new $d(Vd.md+f,f,a.target));d||a.preventDefault();this.da.Ha.length=0}}};
function Zd(a,d){var e=d.keyCode;if(e==16||e==17||e==18)return false;var f=d.target,g=f.tagName=="TEXTAREA"||f.tagName=="INPUT"||f.tagName=="BUTTON"||f.tagName=="SELECT",h=!g&&(f.isContentEditable||f.ownerDocument&&f.ownerDocument.designMode=="on");if(!g&&!h)return true;if(a.vd[e]||a.pd)return true;if(h)return false;if(a.Hd&&(d.altKey||d.ctrlKey||d.metaKey))return true;if(f.tagName=="INPUT"&&(f.type=="text"||f.type=="password"))return e==13;if(f.tagName=="INPUT"||f.tagName=="BUTTON")return e!=32;
return false}function $d(a,d,e){Ab.call(this,a,e);this.identifier=d}r($d,Ab);function ae(a){this.Nc=a}r(ae,zb);var be=new Gb(0,100);ae.prototype.q=function(a,d,e,f,g){if(ia(d))for(var h=0;h<d.length;h++)this.q(a,d[h],e,f,g);else{a=F(a,d,e||this,f||false,g||this.Nc||this);if(this.k)this.k[a]=true;else if(this.ia){this.k=Hb(be);this.k[this.ia]=true;this.ia=null;this.k[a]=true}else this.ia=a}return this};
ae.prototype.V=function(a,d,e,f,g){if(this.ia||this.k)if(ia(d))for(var h=0;h<d.length;h++)this.V(a,d[h],e,f,g);else{a:{e=e||this;g=g||this.Nc||this;f=!!(f||false);if(a=nc(a,d,f))for(d=0;d<a.length;d++)if(a[d].Sa==e&&a[d].capture==f&&a[d].Db==g){a=a[d];break a}a=null}if(a){a=a.key;oc(a);if(this.k)ac(this.k,a);else if(this.ia==a)this.ia=null}}return this};function ce(a){if(a.k){for(var d in a.k){oc(d);delete a.k[d]}Ib(be,a.k);a.k=null}else a.ia&&oc(a.ia)}
ae.prototype.f=function(){ae.a.f.call(this);ce(this)};ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function de(){}ga(de);de.prototype.Jd=0;de.A();function ee(a){this.ua=a||Lc();this.ob=fe}r(ee,yd);ee.prototype.Fd=de.A();var fe=null;function ge(a,d){switch(a){case 1:return d?"disable":"enable";case 2:return d?"highlight":"unhighlight";case 4:return d?"activate":"deactivate";case 8:return d?"select":"unselect";case 16:return d?"check":"uncheck";case 32:return d?"focus":"blur";case 64:return d?"open":"close";default:}throw Error("Invalid component state");}l=ee.prototype;l.za=null;l.n=false;l.i=null;l.ob=null;l.lc=null;l.t=null;l.F=null;l.R=null;
l.kd=false;function he(a){return a.za||(a.za=":"+(a.Fd.Jd++).toString(36))}function ie(a,d){if(a.t&&a.t.R){ac(a.t.R,a.za);bc(a.t.R,d,a)}a.za=d}l.c=ca("i");function je(a){return a.Na||(a.Na=new ae(a))}function ke(a,d){if(a==d)throw Error("Unable to set parent component");if(d&&a.t&&a.za&&le(a.t,a.za)&&a.t!=d)throw Error("Unable to set parent component");a.t=d;ee.a.oc.call(a,d)}l.oc=function(a){if(this.t&&this.t!=a)throw Error("Method not supported");ee.a.oc.call(this,a)};l.G=ca("ua");
l.h=function(){this.i=this.ua.createElement("div")};function me(a,d,e){if(a.n)throw Error("Component already rendered");a.i||a.h();d?d.insertBefore(a.i,e||null):a.ua.p.body.appendChild(a.i);if(!a.t||a.t.n)a.I()}l.o=function(a){if(this.n)throw Error("Component already rendered");else if(a&&this.Q(a)){this.kd=true;if(!this.ua||this.ua.p!=Nc(a))this.ua=Lc(a);this.ta(a);this.I()}else throw Error("Invalid element to decorate");};l.Q=k(true);l.ta=ba("i");
l.I=function(){this.n=true;ne(this,function(a){!a.n&&a.c()&&a.I()})};l.X=function(){ne(this,function(a){a.n&&a.X()});this.Na&&ce(this.Na);this.n=false};l.f=function(){ee.a.f.call(this);this.n&&this.X();if(this.Na){this.Na.K();delete this.Na}ne(this,function(a){a.K()});!this.kd&&this.i&&Wc(this.i);this.t=this.lc=this.i=this.R=this.F=null};l.Za=function(a,d){this.$a(a,oe(this),d)};
l.$a=function(a,d,e){if(a.n&&(e||!this.n))throw Error("Component already rendered");if(d<0||d>oe(this))throw Error("Child component index out of bounds");if(!this.R||!this.F){this.R={};this.F=[]}if(a.t==this){this.R[he(a)]=a;pb(this.F,a)}else bc(this.R,he(a),a);ke(a,this);tb(this.F,d,0,a);if(a.n&&this.n&&a.t==this){e=this.z();e.insertBefore(a.c(),e.childNodes[d]||null)}else if(e){this.i||this.h();d=pe(this,d+1);me(a,this.z(),d?d.i:null)}else this.n&&!a.n&&a.i&&a.I()};l.z=ca("i");
function qe(a){if(a.ob==null)a.ob=rd(a.n?a.i:a.ua.p.body);return a.ob}l.Wa=function(a){if(this.n)throw Error("Component already rendered");this.ob=a};function oe(a){return a.F?a.F.length:0}function le(a,d){var e;if(a.R&&d){e=a.R;e=d in e?e[d]:void 0;e=e||null}else e=null;return e}function pe(a,d){return a.F?a.F[d]||null:null}function ne(a,d,e){a.F&&lb(a.F,d,e)}function re(a,d){return a.F&&d?kb(a.F,d):-1}
l.removeChild=function(a,d){if(a){var e=o(a)?a:he(a);a=le(this,e);if(e&&a){ac(this.R,e);pb(this.F,a);if(d){a.X();a.i&&Wc(a.i)}ke(a,null)}}if(!a)throw Error("Child is not in parent component");return a};function se(a,d){if(B){a.setAttribute("role",d);a.Yd=d}}function te(a,d,e){B&&a.setAttribute("aria-"+d,e)};function ue(){}var ve;ga(ue);l=ue.prototype;l.T=aa();l.h=function(a){return a.G().h("div",this.Ma(a).join(" "),a.Z)};l.z=function(a){return a};l.ab=function(a,d,e){if(a=a.c?a.c():a)if(u&&!D("7")){var f=we(this,Ec(a),d);f.push(d);sa(e?Fc:Gc,a).apply(null,f)}else e?Fc(a,d):Gc(a,d)};l.Q=k(true);
l.o=function(a,d){d.id&&ie(a,d.id);var e=this.z(d);if(e&&e.firstChild)xe(a,e.firstChild.nextSibling?rb(e.childNodes):e.firstChild);else a.Z=null;var f=0,g=this.g(),h=this.g(),n=false,p=false;e=false;var q=Ec(d);lb(q,function(z){if(!n&&z==g){n=true;if(h==g)p=true}else if(!p&&z==h)p=true;else f|=this.Zb(z)},this);a.v=f;if(!n){q.push(g);if(h==g)p=true}p||q.push(h);var s=a.S;s&&q.push.apply(q,s);if(u&&!D("7")){var A=we(this,q);if(A.length>0){q.push.apply(q,A);e=true}}if(!n||!p||s||e)d.className=q.join(" ");
return d};l.Ra=function(a){qe(a)&&this.Wa(a.c(),true);a.w()&&this.ma(a,a.l)};l.pb=function(a,d){xd(a,!d,!u&&!Ra)};l.Wa=function(a,d){this.ab(a,this.g()+"-rtl",d)};l.ga=function(a){var d;if(a.H&32&&(d=a.B()))return bd(d);return false};l.ma=function(a,d){var e;if(a.H&32&&(e=a.B())){if(!d&&a.v&32){try{e.blur()}catch(f){}a.v&32&&a.xa(null)}if(bd(e)!=d){e=e;if(d)e.tabIndex=0;else e.removeAttribute("tabIndex")}}};l.j=function(a,d){vd(a,d)};
l.N=function(a,d,e){var f=a.c();if(f){var g=this.bb(d);g&&this.ab(a,g,e);this.Xa(f,d,e)}};l.Xa=function(a,d,e){if(B){ve||(ve=fc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(d=ve[d])&&te(a,d,e)}};l.Fa=function(a,d){var e=this.z(a);if(e){Vc(e);if(d)if(o(d))Zc(e,d);else{var f=function(g){if(g){var h=Nc(e);e.appendChild(o(g)?h.createTextNode(g):g)}};if(ia(d))lb(d,f);else ja(d)&&!("nodeType"in d)?lb(rb(d),f):f(d)}}};l.B=function(a){return a.c()};l.g=k("goog-control");
l.Ma=function(a){var d=this.g(),e=[d],f=this.g();f!=d&&e.push(f);d=a.v;for(f=[];d;){var g=d&-d;f.push(this.bb(g));d&=~g}e.push.apply(e,f);(a=a.S)&&e.push.apply(e,a);u&&!D("7")&&e.push.apply(e,we(this,e));return e};function we(a,d,e){var f=[];if(e)d=d.concat([e]);lb([],function(g){if(nb(g,sa(ob,d))&&(!e||ob(g,e)))f.push(g.join("_"))});return f}l.bb=function(a){this.wb||ye(this);return this.wb[a]};
l.Zb=function(a){if(!this.fd){this.wb||ye(this);var d=this.wb,e={};for(var f in d)e[d[f]]=f;this.fd=e}a=parseInt(this.fd[a],10);return isNaN(a)?0:a};function ye(a){var d=a.g();a.wb=fc(1,d+"-disabled",2,d+"-hover",4,d+"-active",8,d+"-selected",16,d+"-checked",32,d+"-focused",64,d+"-open")};function ze(a,d){if(!a)throw Error("Invalid class name "+a);if(!ka(d))throw Error("Invalid decorator function "+d);Ae[a]=d}var Be={},Ae={};function Ce(a,d,e){ee.call(this,e);if(!(d=d)){d=this.constructor;for(var f;d;){f=ma(d);if(f=Be[f])break;d=d.a?d.a.constructor:null}d=f?ka(f.A)?f.A():new f:null}this.d=d;this.Z=a}r(Ce,ee);l=Ce.prototype;l.Z=null;l.v=0;l.H=39;l.xc=255;l.sc=0;l.l=true;l.S=null;l.cc=true;l.ub=false;function De(a,d){a.n&&d!=a.cc&&Ee(a,d);a.cc=d}l.B=function(){return this.d.B(this)};l.zb=function(){return this.P||(this.P=new Gd)};
l.ab=function(a,d){if(d){if(a){if(this.S)ob(this.S,a)||this.S.push(a);else this.S=[a];this.d.ab(this,a,true)}}else if(a&&this.S){pb(this.S,a);if(this.S.length==0)this.S=null;this.d.ab(this,a,false)}};l.h=function(){var a=this.d.h(this);this.i=a;if(B){var d=this.d.T();d&&se(a,d)}this.ub||this.d.pb(a,false);this.l||this.d.j(a,false)};l.z=function(){return this.d.z(this.c())};l.Q=function(a){return this.d.Q(a)};
l.ta=function(a){this.i=a=this.d.o(this,a);if(B){var d=this.d.T();d&&se(a,d)}this.ub||this.d.pb(a,false);this.l=a.style.display!="none"};l.I=function(){Ce.a.I.call(this);this.d.Ra(this);if(this.H&-2){this.cc&&Ee(this,true);if(this.H&32){var a=this.B();if(a){var d=this.zb();Hd(d,a);je(this).q(d,"key",this.ba).q(a,xc,this.Cb).q(a,wc,this.xa)}}}};
function Ee(a,d){var e=je(a),f=a.c();if(d){e.q(f,sc,a.ec).q(f,"mousedown",a.ya).q(f,"mouseup",a.fb).q(f,tc,a.dc);u&&e.q(f,"dblclick",a.Jc)}else{e.V(f,sc,a.ec).V(f,"mousedown",a.ya).V(f,"mouseup",a.fb).V(f,tc,a.dc);u&&e.V(f,"dblclick",a.Jc)}}l.X=function(){Ce.a.X.call(this);this.P&&this.P.detach();this.l&&this.w()&&this.d.ma(this,false)};l.f=function(){Ce.a.f.call(this);if(this.P){this.P.K();delete this.P}delete this.d;this.S=this.Z=null};l.Fa=function(a){this.d.Fa(this.c(),a);this.Z=a};
function xe(a,d){a.Z=d}function Fe(a,d){var e=a.Z;if(!e||o(e))return e;return(e=ia(e)?mb(e,d).join(""):cd(e))&&va(e)}l.wa=function(){return Fe(this,cd)};l.Wa=function(a){Ce.a.Wa.call(this,a);var d=this.c();d&&this.d.Wa(d,a)};l.pb=function(a){this.ub=a;var d=this.c();d&&this.d.pb(d,a)};l.j=function(a,d){if(d||this.l!=a&&this.dispatchEvent(a?"show":"hide")){var e=this.c();e&&this.d.j(e,a);this.w()&&this.d.ma(this,a);this.l=a;return true}return false};l.w=function(){return!!!(this.v&1)};
l.la=function(a){var d=this.t;if(!(d&&typeof d.w=="function"&&!d.w())&&Ge(this,1,!a)){if(!a){this.setActive(false);this.Y(false)}this.l&&this.d.ma(this,a);this.N(1,!a)}};l.Y=function(a){Ge(this,2,a)&&this.N(2,a)};l.hb=function(){return!!(this.v&4)};l.setActive=function(a){Ge(this,4,a)&&this.N(4,a)};l.qc=function(a){Ge(this,8,a)&&this.N(8,a)};function He(a,d){Ge(a,16,d)&&a.N(16,d)}l.u=function(a){Ge(this,64,a)&&this.N(64,a)};
l.N=function(a,d){if(this.H&a&&d!=!!(this.v&a)){this.d.N(this,a,d);this.v=d?this.v|a:this.v&~a}};function Ie(a,d,e){if(a.n&&a.v&d&&!e)throw Error("Component already rendered");!e&&a.v&d&&a.N(d,false);a.H=e?a.H|d:a.H&~d}function Je(a,d){return!!(a.xc&d)&&!!(a.H&d)}function Ge(a,d,e){return!!(a.H&d)&&!!(a.v&d)!=e&&(!(a.sc&d)||a.dispatchEvent(ge(d,e)))&&!a.Tb}l.ec=function(a){!Ke(a,this.c())&&this.dispatchEvent("enter")&&this.w()&&Je(this,2)&&this.Y(true)};
l.dc=function(a){if(!Ke(a,this.c())&&this.dispatchEvent("leave")){Je(this,4)&&this.setActive(false);Je(this,2)&&this.Y(false)}};function Ke(a,d){return!!a.relatedTarget&&Yc(d,a.relatedTarget)}l.ya=function(a){if(this.w()){Je(this,2)&&this.Y(true);if(Db(a,0)){Je(this,4)&&this.setActive(true);this.d.ga(this)&&this.B().focus()}}!this.ub&&Db(a,0)&&a.preventDefault()};l.fb=function(a){if(this.w()){Je(this,2)&&this.Y(true);this.hb()&&this.Da(a)&&Je(this,4)&&this.setActive(false)}};
l.Jc=function(a){this.w()&&this.Da(a)};l.Da=function(a){Je(this,16)&&He(this,!!!(this.v&16));Je(this,8)&&this.qc(true);Je(this,64)&&this.u(!!!(this.v&64));var d=new Ab("action",this);if(a)for(var e=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],f,g=0;f=e[g];g++)d[f]=a[f];return this.dispatchEvent(d)};l.Cb=function(){Je(this,32)&&Ge(this,32,true)&&this.N(32,true)};l.xa=function(){Je(this,4)&&this.setActive(false);Je(this,32)&&Ge(this,32,false)&&this.N(32,false)};
l.ba=function(a){if(this.l&&this.w()&&this.Pa(a)){a.preventDefault();a.stopPropagation();return true}return false};l.Pa=function(a){return a.keyCode==13&&this.Da(a)};if(!ka(Ce))throw Error("Invalid component class "+Ce);if(!ka(ue))throw Error("Invalid renderer class "+ue);var Le=ma(Ce);Be[Le]=ue;ze("goog-control",function(){return new Ce(null)});function Me(){}r(Me,ue);ga(Me);Me.prototype.h=function(a){return a.G().h("div",this.g())};Me.prototype.o=function(a,d){if(d.tagName=="HR"){var e=d;d=this.h(a);e.parentNode&&e.parentNode.insertBefore(d,e);Wc(e)}else Fc(d,this.g());return d};Me.prototype.Fa=aa();Me.prototype.g=k("goog-menuseparator");function Ne(a,d){Ce.call(this,null,a||Me.A(),d);Ie(this,1,false);Ie(this,2,false);Ie(this,4,false);Ie(this,32,false);this.v=1}r(Ne,Ce);Ne.prototype.I=function(){Ne.a.I.call(this);se(this.c(),"separator")};ze("goog-menuseparator",function(){return new Ne});function Oe(){}ga(Oe);l=Oe.prototype;l.T=aa();function Pe(a,d,e){if(d)d.tabIndex=e?0:-1}l.h=function(a){return a.G().h("div",this.Ma(a).join(" "))};l.z=function(a){return a};l.Q=function(a){return a.tagName=="DIV"};l.o=function(a,d){d.id&&ie(a,d.id);var e=this.g(),f=false,g=Ec(d);g&&lb(g,function(h){if(h==e)f=true;else if(h)if(h==e+"-disabled")a.la(false);else if(h==e+"-horizontal")Qe(a,Re);else h==e+"-vertical"&&Qe(a,Se)},this);f||Fc(d,e);Te(this,a,this.z(d));return d};
function Te(a,d,e,f){if(e){f=f||e.firstChild;for(var g;f&&f.parentNode==e;){g=f.nextSibling;if(f.nodeType==1){var h=a.cb(f);if(h){h.i=f;d.w()||h.la(false);d.Za(h);h.o(f)}}else if(!f.nodeValue||va(f.nodeValue)=="")e.removeChild(f);f=g}}}l.cb=function(a){a:{for(var d=Ec(a),e=0,f=d.length;e<f;e++)if(a=d[e]in Ae?Ae[d[e]]():null){a=a;break a}a=null}return a};l.Ra=function(a){a=a.c();xd(a,true,B);if(u)a.hideFocus=true;var d=this.T();d&&se(a,d)};l.B=function(a){return a.c()};l.g=k("goog-container");
l.Ma=function(a){var d=this.g(),e=[d,a.Ca==Re?d+"-horizontal":d+"-vertical"];a.w()||e.push(d+"-disabled");return e};l.Hc=function(){return Se};function Ue(a,d,e){ee.call(this,e);this.d=d||Oe.A();this.Ca=a||this.d.Hc()}r(Ue,ee);var Re="horizontal",Se="vertical";l=Ue.prototype;l.Rc=null;l.P=null;l.d=null;l.Ca=null;l.l=true;l.M=true;l.Vb=true;l.O=-1;l.D=null;l.ea=false;l.qd=false;l.Ld=true;l.fa=null;l.B=function(){return this.Rc||this.d.B(this)};l.zb=function(){return this.P||(this.P=new Gd(this.B()))};l.h=function(){this.i=this.d.h(this)};l.z=function(){return this.d.z(this.c())};l.Q=function(a){return this.d.Q(a)};
l.ta=function(a){this.i=this.d.o(this,a);if(a.style.display=="none")this.l=false};l.I=function(){Ue.a.I.call(this);ne(this,function(d){d.n&&Ve(this,d)},this);var a=this.c();this.d.Ra(this);this.j(this.l,true);je(this).q(this,"enter",this.$b).q(this,"highlight",this.ac).q(this,"unhighlight",this.fc).q(this,"open",this.Cd).q(this,"close",this.xd).q(a,"mousedown",this.ya).q(Nc(a),"mouseup",this.zd).q(a,["mousedown","mouseup",sc,tc],this.wd);this.ga()&&We(this,true)};
function We(a,d){var e=je(a),f=a.B();d?e.q(f,xc,a.Cb).q(f,wc,a.xa).q(a.zb(),"key",a.ba):e.V(f,xc,a.Cb).V(f,wc,a.xa).V(a.zb(),"key",a.ba)}l.X=function(){Xe(this,-1);this.D&&this.D.u(false);this.ea=false;Ue.a.X.call(this)};l.f=function(){Ue.a.f.call(this);if(this.P){this.P.K();this.P=null}this.d=this.D=this.fa=null};l.$b=k(true);
l.ac=function(a){var d=re(this,a.target);if(d>-1&&d!=this.O){var e=Ye(this);e&&e.Y(false);this.O=d;e=Ye(this);this.ea&&e.setActive(true);if(this.Ld&&this.D&&e!=this.D)e.H&64?e.u(true):this.D.u(false)}te(this.c(),"activedescendant",a.target.c().id)};l.fc=function(a){if(a.target==Ye(this))this.O=-1;te(this.c(),"activedescendant","")};l.Cd=function(a){if((a=a.target)&&a!=this.D&&a.t==this){this.D&&this.D.u(false);this.D=a}};l.xd=function(a){if(a.target==this.D)this.D=null};
l.ya=function(a){if(this.M)this.ea=true;var d=this.B();d&&bd(d)?d.focus():a.preventDefault()};l.zd=function(){this.ea=false};l.wd=function(a){var d;a:{d=a.target;if(this.fa)for(var e=this.c();d&&d!==e;){var f=d.id;if(f in this.fa){d=this.fa[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case "mousedown":d.ya(a);break;case "mouseup":d.fb(a);break;case sc:d.ec(a);break;case tc:d.dc(a);break}};l.Cb=aa();l.xa=function(){Xe(this,-1);this.ea=false;this.D&&this.D.u(false)};
l.ba=function(a){if(this.w()&&this.l&&(oe(this)!=0||this.Rc)&&this.Pa(a)){a.preventDefault();a.stopPropagation();return true}return false};
l.Pa=function(a){var d=Ye(this);if(d&&typeof d.ba=="function"&&d.ba(a))return true;if(this.D&&this.D!=d&&typeof this.D.ba=="function"&&this.D.ba(a))return true;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return false;switch(a.keyCode){case 27:if(this.ga())this.B().blur();else return false;break;case 36:Ze(this);break;case 35:$e(this);break;case 38:if(this.Ca==Se)af(this);else return false;break;case 37:if(this.Ca==Re)qe(this)?bf(this):af(this);else return false;break;case 40:if(this.Ca==Se)bf(this);
else return false;break;case 39:if(this.Ca==Re)qe(this)?af(this):bf(this);else return false;break;default:return false}return true};function Ve(a,d){var e=d.c();e=e.id||(e.id=he(d));if(!a.fa)a.fa={};a.fa[e]=d}l.Za=function(a,d){Ue.a.Za.call(this,a,d)};l.$a=function(a,d,e){a.sc|=2;a.sc|=64;if(this.ga()||!this.qd)Ie(a,32,false);De(a,false);Ue.a.$a.call(this,a,d,e);e&&this.n&&Ve(this,a);d<=this.O&&this.O++};
l.removeChild=function(a,d){if(a=o(a)?le(this,a):a){var e=re(this,a);if(e!=-1)if(e==this.O)a.Y(false);else e<this.O&&this.O--;(e=a.c())&&e.id&&ac(this.fa,e.id)}a=Ue.a.removeChild.call(this,a,d);De(a,true);return a};function Qe(a,d){if(a.c())throw Error("Component already rendered");a.Ca=d}l.j=function(a,d){if(d||this.l!=a&&this.dispatchEvent(a?"show":"hide")){this.l=a;var e=this.c();if(e){vd(e,a);this.ga()&&Pe(this.d,this.B(),this.M&&this.l);d||this.dispatchEvent(this.l?"aftershow":"afterhide")}return true}return false};
l.w=ca("M");l.la=function(a){if(this.M!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.M=true;ne(this,function(d){if(d.ld)delete d.ld;else d.la(true)})}else{ne(this,function(d){if(d.w())d.la(false);else d.ld=true});this.ea=this.M=false}this.ga()&&Pe(this.d,this.B(),a&&this.l)}};l.ga=ca("Vb");l.ma=function(a){a!=this.Vb&&this.n&&We(this,a);this.Vb=a;this.M&&this.l&&Pe(this.d,this.B(),a)};function Xe(a,d){var e=pe(a,d);if(e)e.Y(true);else a.O>-1&&Ye(a).Y(false)}
l.Y=function(a){Xe(this,re(this,a))};function Ye(a){return pe(a,a.O)}function Ze(a){cf(a,function(d,e){return(d+1)%e},oe(a)-1)}function $e(a){cf(a,function(d,e){d--;return d<0?e-1:d},0)}function bf(a){cf(a,function(d,e){return(d+1)%e},a.O)}function af(a){cf(a,function(d,e){d--;return d<0?e-1:d},a.O)}function cf(a,d,e){e=e<0?re(a,a.D):e;var f=oe(a);e=d.call(a,e,f);for(var g=0;g<=f;){var h=pe(a,e);if(h&&a.Ac(h)){Xe(a,e);return true}g++;e=d.call(a,e,f)}return false}
l.Ac=function(a){return a.l&&a.w()&&!!(a.H&2)};function df(){this.Cc=[]}r(df,ue);ga(df);function ef(a,d){var e=a.Cc[d];if(!e){switch(d){case 0:e=a.g()+"-highlight";break;case 1:e=a.g()+"-checkbox";break;case 2:e=a.g()+"-content";break}a.Cc[d]=e}return e}l=df.prototype;l.T=k("menuitem");l.h=function(a){var d=a.G().h("div",this.Ma(a).join(" "),ff(this,a.Z,a.G()));hf(this,a,d,!!(a.H&8)||!!(a.H&16));return d};l.z=function(a){return a&&a.firstChild};
l.o=function(a,d){var e=Xc(d),f=ef(this,2);e&&e.className.indexOf(f)!=-1||d.appendChild(ff(this,d.childNodes,a.G()));if(ob(Ec(d),"goog-option")){a.Lb(true);this.Lb(a,d,true)}return df.a.o.call(this,a,d)};l.Fa=function(a,d){var e=this.z(a),f=jf(this,a)?e.firstChild:null;df.a.Fa.call(this,a,d);if(f&&!jf(this,a))e.insertBefore(f,e.firstChild||null)};function ff(a,d,e){a=ef(a,2);return e.h("div",a,d)}l.pc=function(a,d,e){if(d){se(d,e?"menuitemradio":this.T());hf(this,a,d,e)}};
l.Lb=function(a,d,e){if(d){se(d,e?"menuitemcheckbox":this.T());hf(this,a,d,e)}};function jf(a,d){var e=a.z(d);if(e){e=e.firstChild;var f=ef(a,1);return!!e&&!!e.className&&e.className.indexOf(f)!=-1}return false}function hf(a,d,e,f){if(f!=jf(a,e)){f?Fc(e,"goog-option"):Gc(e,"goog-option");e=a.z(e);if(f){a=ef(a,1);e.insertBefore(d.G().h("div",a),e.firstChild||null)}else e.removeChild(e.firstChild)}}
l.bb=function(a){switch(a){case 2:return ef(this,0);case 16:case 8:return"goog-option-selected";default:return df.a.bb.call(this,a)}};l.Zb=function(a){var d=ef(this,0);switch(a){case "goog-option-selected":return 16;case d:return 2;default:return df.a.Zb.call(this,a)}};l.g=k("goog-menuitem");function kf(a,d,e,f){Ce.call(this,a,f||df.A(),e);this.na(d)}r(kf,Ce);l=kf.prototype;l.aa=function(){var a=this.lc;return a!=null?a:this.wa()};l.na=ba("lc");l.pc=function(a){Ie(this,8,a);this.v&16&&!a&&He(this,false);var d=this.c();d&&this.d.pc(this,d,a)};l.Lb=function(a){Ie(this,16,a);var d=this.c();d&&this.d.Lb(this,d,a)};l.wa=function(){return Fe(this,function(a){return ob(Ec(a),"goog-menuitem-accel")?"":cd(a)})};ze("goog-menuitem",function(){return new kf(null)});function lf(){}r(lf,Oe);ga(lf);l=lf.prototype;l.T=k("menu");l.Q=function(a){return a.tagName=="UL"||lf.a.Q.call(this,a)};l.cb=function(a){return a.tagName=="HR"?new Ne:lf.a.cb.call(this,a)};l.ra=function(a,d){return Yc(a.c(),d)};l.g=k("goog-menu");l.Ra=function(a){lf.a.Ra.call(this,a);a=a.c();te(a,"haspopup","true")};ze("goog-menuseparator",function(){return new Ne});function mf(a,d){Ue.call(this,Se,d||lf.A(),a);this.ma(false)}r(mf,Ue);l=mf.prototype;l.Rb=true;l.rd=false;l.g=function(){return this.d.g()};l.ra=function(a){if(this.d.ra(this,a))return true;for(var d=0,e=oe(this);d<e;d++){var f=pe(this,d);if(typeof f.ra=="function"&&f.ra(a))return true}return false};l.pa=function(a){this.Za(a,true)};l.Ka=function(a,d){this.$a(a,d,true)};l.db=function(a){return pe(this,a)};l.Wb=function(){return oe(this)};
function nf(a,d,e){var f=a.l;f||vd(a.c(),true);var g=a.c();d=d;e=e;var h=qd(g);if(d instanceof Hc){e=d.y;d=d.x}ld(g,g.offsetLeft+(d-h.x),g.offsetTop+(e-h.y));f||vd(a.c(),false)}function of(a,d){(a.Rb=d)&&a.ma(true)}l.j=function(a,d){var e=mf.a.j.call(this,a,d);e&&a&&this.n&&this.Rb&&this.B().focus();return e};l.$b=function(a){this.Rb&&this.B().focus();return mf.a.$b.call(this,a)};l.Ac=function(a){return(this.rd||a.w())&&a.l&&!!(a.H&2)};
l.ta=function(a){var d=this.d,e;e=this.G();e=Oc(e.p,"div",d.g()+"-content",a);for(var f,g=0;f=e[g];g++)Te(d,this,f);mf.a.ta.call(this,a)};function pf(a){if(typeof a.Bb=="function")return a.Bb();if(o(a))return a.split("");if(ja(a)){for(var d=[],e=a.length,f=0;f<e;f++)d.push(a[f]);return d}return Zb(a)}function qf(a,d,e){if(typeof a.forEach=="function")a.forEach(d,e);else if(ja(a)||o(a))lb(a,d,e);else{var f;if(typeof a.Xb=="function")f=a.Xb();else if(typeof a.Bb!="function")if(ja(a)||o(a)){f=[];for(var g=a.length,h=0;h<g;h++)f.push(h);f=f}else f=$b(a);else f=void 0;g=pf(a);h=g.length;for(var n=0;n<h;n++)d.call(e,g[n],f&&f[n],a)}};function rf(a){this.Ta={};this.k=[];var d=arguments.length;if(d>1){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.Va(arguments[e],arguments[e+1])}else if(a){if(a instanceof rf){d=a.Xb();e=a.Bb()}else{d=$b(a);e=Zb(a)}for(var f=0;f<d.length;f++)this.Va(d[f],e[f])}}l=rf.prototype;l.J=0;l.hd=0;l.Bb=function(){sf(this);for(var a=[],d=0;d<this.k.length;d++)a.push(this.Ta[this.k[d]]);return a};l.Xb=function(){sf(this);return this.k.concat()};
l.clear=function(){this.Ta={};this.hd=this.J=this.k.length=0};function sf(a){if(a.J!=a.k.length){for(var d=0,e=0;d<a.k.length;){var f=a.k[d];if(Object.prototype.hasOwnProperty.call(a.Ta,f))a.k[e++]=f;d++}a.k.length=e}if(a.J!=a.k.length){var g={};for(e=d=0;d<a.k.length;){f=a.k[d];if(!Object.prototype.hasOwnProperty.call(g,f)){a.k[e++]=f;g[f]=1}d++}a.k.length=e}}l.Va=function(a,d){if(!Object.prototype.hasOwnProperty.call(this.Ta,a)){this.J++;this.k.push(a);this.hd++}this.Ta[a]=d};l.qa=function(){return new rf(this)};function tf(a){return uf(a||arguments.callee.caller,[])}
function uf(a,d){var e=[];if(ob(d,a))e.push("[...circular reference...]");else if(a&&d.length<50){e.push(vf(a)+"(");for(var f=a.arguments,g=0;g<f.length;g++){g>0&&e.push(", ");var h;h=f[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":h=h;break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=vf(h))?h:"[fn]";break;case "undefined":default:h=typeof h;break}if(h.length>40)h=h.substr(0,40)+"...";e.push(h)}d.push(a);e.push(")\n");try{e.push(uf(a.caller,
d))}catch(n){e.push("[exception trying to get caller]\n")}}else a?e.push("[...long stack...]"):e.push("[end]");return e.join("")}function vf(a){a=String(a);if(!wf[a]){var d=/function ([^\(]+)/.exec(a);wf[a]=d?d[1]:"[Anonymous]"}return wf[a]}var wf={};function xf(a,d,e,f,g){this.reset(a,d,e,f,g)}xf.prototype.Qd=0;xf.prototype.Gc=null;xf.prototype.Fc=null;var yf=0;xf.prototype.reset=function(a,d,e,f,g){this.Qd=typeof g=="number"?g:yf++;this.Zd=f||ta();this.kb=a;this.Xd=d;this.Vd=e;delete this.Gc;delete this.Fc};xf.prototype.dd=ba("kb");function zf(a){this.Id=a}zf.prototype.t=null;zf.prototype.kb=null;zf.prototype.F=null;zf.prototype.Oc=null;function Af(a,d){this.name=a;this.value=d}Af.prototype.toString=ca("name");var Bf=new Af("SEVERE",1E3),Cf=new Af("WARNING",900),Df=new Af("CONFIG",700),Ef=new Af("FINE",500),Ff=new Af("FINEST",300);zf.prototype.dd=ba("kb");function Gf(a){if(a.kb)return a.kb;if(a.t)return Gf(a.t);ib("Root logger has no level set.");return null}
zf.prototype.log=function(a,d,e){if(a.value>=Gf(this).value){a=this.ud(a,d,e);for(d=this;d;){e=d;var f=a;if(e.Oc)for(var g=0,h=void 0;h=e.Oc[g];g++)h(f);d=d.t}}};
zf.prototype.ud=function(a,d,e){var f=new xf(a,String(d),this.Id);if(e){f.Gc=e;var g;var h=arguments.callee.caller;try{var n,p=ea("window.location.href");n=typeof e=="string"?{message:e,name:"Unknown error",lineNumber:"Not available",fileName:p,stack:"Not available"}:!e.lineNumber||!e.fileName||!e.stack?{message:e.message,name:e.name,lineNumber:e.lineNumber||e.Ud||"Not available",fileName:e.fileName||e.filename||e.sourceURL||p,stack:e.stack||"Not available"}:e;g="Message: "+xa(n.message)+'\nUrl: <a href="view-source:'+
n.fileName+'" target="_new">'+n.fileName+"</a>\nLine: "+n.lineNumber+"\n\nBrowser stack:\n"+xa(n.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+xa(tf(h)+"-> ")}catch(q){g="Exception trying to expose exception! You win, we lose. "+q}f.Fc=g}return f};function Hf(a,d,e){a.log(Ef,d,e)}var If={},Jf=null;
function Kf(a){if(!Jf){Jf=new zf("");If[""]=Jf;Jf.dd(Df)}var d;if(!(d=If[a])){d=new zf(a);var e=a.lastIndexOf("."),f=a.substr(0,e);e=a.substr(e+1);f=Kf(f);if(!f.F)f.F={};f.F[e]=d;d.t=f;d=If[a]=d}return d};function Lf(){}Lf.prototype.vb=null;function Mf(){return Nf(Of)}var Of;function Pf(){}r(Pf,Lf);function Nf(a){return(a=Qf(a))?new ActiveXObject(a):new XMLHttpRequest}function Rf(a){var d={};if(Qf(a)){d[0]=true;d[1]=true}return d}Pf.prototype.gc=null;
function Qf(a){if(!a.gc&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<d.length;e++){var f=d[e];try{new ActiveXObject(f);return a.gc=f}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.gc}Of=new Pf;function Sf(){if(B){this.sa={};this.Qb={};this.Nb=[]}}Sf.prototype.C=Kf("goog.net.xhrMonitor");Sf.prototype.M=B;Sf.prototype.la=function(a){this.M=B&&a};function Tf(a,d){if(a.M){var e=o(d)?d:la(d)?ma(d):"";a.C.log(Ff,"Pushing context: "+d+" ("+e+")",void 0);a.Nb.push(e)}}function Uf(a){if(a.M){var d=a.Nb.pop();a.C.log(Ff,"Popping context: "+d,void 0);Vf(a,d)}}
function Wf(a,d){if(a.M){var e=ma(d);Hf(a.C,"Opening XHR : "+e);for(var f=0;f<a.Nb.length;f++){var g=a.Nb[f];Xf(a,a.sa,g,e);Xf(a,a.Qb,e,g)}}}function Vf(a,d){var e=a.Qb[d],f=a.sa[d];if(e&&f){a.C.log(Ff,"Updating dependent contexts",void 0);lb(e,function(g){lb(f,function(h){Xf(this,this.sa,g,h);Xf(this,this.Qb,h,g)},this)},a)}}function Xf(a,d,e,f){d[e]||(d[e]=[]);ob(d[e],f)||d[e].push(f)}var Yf=new Sf;function Zf(a){this.headers=new rf;this.Ya=a||null}r(Zf,yd);Zf.prototype.C=Kf("goog.net.XhrIo");var $f=[];function ag(a,d,e,f,g,h){var n=new Zf;$f.push(n);d&&F(n,"complete",d);F(n,"ready",sa(bg,n));if(h)n.sb=Math.max(0,h);n.send(a,e,f,g)}function bg(a){a.K();pb($f,a)}l=Zf.prototype;l.oa=false;l.m=null;l.Pb=null;l.Tc="";l.Sc="";l.ib=0;l.jb="";l.Ub=false;l.Eb=false;l.hc=false;l.Aa=false;l.sb=0;l.Ia=null;
l.send=function(a,d,e,f){if(this.m)throw Error("[goog.net.XhrIo] Object is active with another request");d=d||"GET";this.Tc=a;this.jb="";this.ib=0;this.Sc=d;this.Ub=false;this.oa=true;this.m=this.Ya?Nf(this.Ya):new Mf;this.Pb=this.Ya?this.Ya.vb||(this.Ya.vb=Rf(this.Ya)):Of.vb||(Of.vb=Rf(Of));Wf(Yf,this.m);this.m.onreadystatechange=ra(this.ad,this);try{Hf(this.C,cg(this,"Opening Xhr"));this.hc=true;this.m.open(d,a,true);this.hc=false}catch(g){Hf(this.C,cg(this,"Error opening Xhr: "+g.message));dg(this,
5,g);return}a=e||"";var h=this.headers.qa();f&&qf(f,function(p,q){h.Va(q,p)});d=="POST"&&!Object.prototype.hasOwnProperty.call(h.Ta,"Content-Type")&&h.Va("Content-Type","application/x-www-form-urlencoded;charset=utf-8");qf(h,function(p,q){this.m.setRequestHeader(q,p)},this);try{if(this.Ia){Od.clearTimeout(this.Ia);this.Ia=null}if(this.sb>0){Hf(this.C,cg(this,"Will abort after "+this.sb+"ms if incomplete"));this.Ia=Od.setTimeout(ra(this.Sd,this),this.sb)}Hf(this.C,cg(this,"Sending request"));this.Eb=
true;this.m.send(a);this.Eb=false}catch(n){Hf(this.C,cg(this,"Send error: "+n.message));dg(this,5,n)}};l.dispatchEvent=function(a){if(this.m){Tf(Yf,this.m);try{return Zf.a.dispatchEvent.call(this,a)}finally{Uf(Yf)}}else return Zf.a.dispatchEvent.call(this,a)};l.Sd=function(){if(typeof da!="undefined")if(this.m){this.jb="Timed out after "+this.sb+"ms, aborting";this.ib=8;Hf(this.C,cg(this,this.jb));this.dispatchEvent("timeout");this.abort(8)}};
function dg(a,d,e){a.oa=false;if(a.m){a.Aa=true;a.m.abort();a.Aa=false}a.jb=e;a.ib=d;eg(a);fg(a)}function eg(a){if(!a.Ub){a.Ub=true;a.dispatchEvent("complete");a.dispatchEvent("error")}}l.abort=function(a){if(this.m){Hf(this.C,cg(this,"Aborting"));this.oa=false;this.Aa=true;this.m.abort();this.Aa=false;this.ib=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");fg(this)}};l.f=function(){if(this.m){if(this.oa){this.oa=false;this.Aa=true;this.m.abort();this.Aa=false}fg(this,true)}Zf.a.f.call(this)};
l.ad=function(){!this.hc&&!this.Eb&&!this.Aa?this.mc():gg(this)};l.mc=function(){gg(this)};
function gg(a){if(a.oa)if(typeof da!="undefined")if(a.Pb[1]&&hg(a)==4&&ig(a)==2)Hf(a.C,cg(a,"Local request error detected and ignored"));else if(a.Eb&&hg(a)==4)Od.setTimeout(ra(a.ad,a),0);else{a.dispatchEvent("readystatechange");if(hg(a)==4){Hf(a.C,cg(a,"Request complete"));a.oa=false;var d;a:switch(ig(a)){case 0:case 200:case 204:case 304:d=true;break a;default:d=false;break a}if(d){a.dispatchEvent("complete");a.dispatchEvent("success")}else{a.ib=6;var e;try{e=hg(a)>2?a.m.statusText:""}catch(f){Hf(a.C,
"Can not get status: "+f.message);e=""}a.jb=e+" ["+ig(a)+"]";eg(a)}fg(a)}}}function fg(a,d){if(a.m){var e=a.m,f=a.Pb[0]?fa:null;a.m=null;a.Pb=null;if(a.Ia){Od.clearTimeout(a.Ia);a.Ia=null}if(!d){Tf(Yf,e);a.dispatchEvent("ready");Uf(Yf)}if(Yf.M){var g=ma(e);Hf(Yf.C,"Closing XHR : "+g);delete Yf.Qb[g];for(var h in Yf.sa){pb(Yf.sa[h],g);Yf.sa[h].length==0&&delete Yf.sa[h]}}try{e.onreadystatechange=f}catch(n){a.C.log(Bf,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}l.hb=function(){return!!this.m};
function hg(a){return a.m?a.m.readyState:0}function ig(a){try{return hg(a)>2?a.m.status:-1}catch(d){a.C.log(Cf,"Can not get status: "+d.message,void 0);return-1}}function jg(a){try{return a.m?a.m.responseText:""}catch(d){Hf(a.C,"Can not get responseText: "+d.message);return""}}
function kg(a,d){if(a.m){var e=a.m.responseText;if(d&&e.indexOf(d)==0)e=e.substring(d.length);var f;a:{e=String(e);if(/^\s*$/.test(e)?false:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{f=eval("("+e+")");break a}catch(g){}throw Error("Invalid JSON string: "+e);}return f}}
function cg(a,d){return d+" ["+a.Sc+" "+a.Tc+" "+ig(a)+"]"}vb[vb.length]=function(a){Zf.prototype.mc=a(Zf.prototype.mc)};function lg(){}r(lg,Me);ga(lg);lg.prototype.h=function(a){return a.G().h("div",this.g()+" goog-inline-block","\u00a0")};lg.prototype.o=function(a,d){d=lg.a.o.call(this,a,d);Fc(d,"goog-inline-block");return d};lg.prototype.g=k("goog-toolbar-separator");function mg(){}r(mg,Oe);ga(mg);mg.prototype.T=k("toolbar");mg.prototype.cb=function(a){return a.tagName=="HR"?new Ne(lg.A()):mg.a.cb.call(this,a)};mg.prototype.g=k("goog-toolbar");mg.prototype.Hc=function(){return Re};function ng(a,d,e){Ue.call(this,d,a||mg.A(),e)}r(ng,Ue);function og(){}r(og,ue);ga(og);l=og.prototype;l.T=k("button");l.Xa=function(a,d,e){if(B)d==16?te(a,"pressed",e):og.a.Xa.call(this,a,d,e)};l.h=function(a){var d=og.a.h.call(this,a),e=a.eb();e&&this.rc(d,e);(e=a.aa())&&this.na(d,e);a.H&16&&this.Xa(d,16,false);return d};l.o=function(a,d){d=og.a.o.call(this,a,d);var e=this.aa(d);a.uc=e;a.tc=this.eb(d);a.H&16&&this.Xa(d,16,false);return d};l.aa=fa;l.na=fa;l.eb=function(a){return a.title};l.rc=function(a,d){if(a)a.title=d||""};l.g=k("goog-button");function pg(){}r(pg,og);ga(pg);l=pg.prototype;l.T=aa();l.h=function(a){qg(this,a);return a.G().h("button",{"class":this.Ma(a).join(" "),disabled:!a.w(),title:a.eb()||"",value:a.aa()||""},a.wa()||"")};l.Q=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};l.o=function(a,d){qg(this,a);d.disabled&&Fc(d,this.bb(1));return pg.a.o.call(this,a,d)};l.Ra=function(a){je(a).q(a.c(),rc,a.Da)};l.pb=fa;l.Wa=fa;l.ga=function(a){return a.w()};l.ma=fa;
l.N=function(a,d,e){pg.a.N.call(this,a,d,e);if((a=a.c())&&d==1)a.disabled=e};l.aa=function(a){return a.value};l.na=function(a,d){if(a)a.value=d};l.Xa=fa;function qg(a,d){De(d,false);d.xc&=-256;Ie(d,32,false)};function rg(a,d,e){Ce.call(this,a,d||pg.A(),e)}r(rg,Ce);l=rg.prototype;l.aa=ca("uc");l.na=function(a){this.uc=a;this.d.na(this.c(),a)};l.eb=ca("tc");l.rc=function(a){this.tc=a;this.d.rc(this.c(),a)};l.f=function(){rg.a.f.call(this);delete this.uc;delete this.tc};l.I=function(){rg.a.I.call(this);if(this.H&32){var a=this.B();a&&je(this).q(a,vc,this.Pa)}};l.Pa=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type==vc)return this.Da(a);return a.keyCode==32};ze("goog-button",function(){return new rg(null)});function sg(){}r(sg,og);ga(sg);l=sg.prototype;l.h=function(a){var d={"class":"goog-inline-block "+this.Ma(a).join(" "),title:a.eb()||""};return a.G().h("div",d,this.xb(a.Z,a.G()))};l.z=function(a){return a&&a.firstChild.firstChild};l.xb=function(a,d){return d.h("div","goog-inline-block "+(this.g()+"-outer-box"),d.h("div","goog-inline-block "+(this.g()+"-inner-box"),a))};l.Q=function(a){return a.tagName=="DIV"};
l.o=function(a,d){tg(d,true);tg(d,false);var e;a:{if((e=a.G().Ic(d))&&e.className.indexOf(this.g()+"-outer-box")!=-1)if((e=a.G().Ic(e))&&e.className.indexOf(this.g()+"-inner-box")!=-1){e=true;break a}e=false}e||d.appendChild(this.xb(d.childNodes,a.G()));Fc(d,"goog-inline-block",this.g());return sg.a.o.call(this,a,d)};l.g=k("goog-custom-button");
function tg(a,d){if(a)for(var e=d?a.firstChild:a.lastChild,f;e&&e.parentNode==a;){f=d?e.nextSibling:e.previousSibling;if(e.nodeType==3){var g=e.nodeValue;if(va(g)=="")a.removeChild(e);else{e.nodeValue=d?g.replace(/^[\s\xa0]+/,""):g.replace(/[\s\xa0]+$/,"");break}}else break;e=f}};function ug(){}r(ug,sg);ga(ug);ug.prototype.g=k("goog-toolbar-button");function vg(a,d,e){rg.call(this,a,d||ug.A(),e)}r(vg,rg);ze("goog-toolbar-button",function(){return new vg(null)});function wg(a,d,e,f,g,h,n,p){var q,s=e.offsetParent;if(s){var A=s.tagName=="HTML"||s.tagName=="BODY";if(!A||kd(s,"position")!="static"){q=qd(s);A||(q=Ic(q,new Hc(s.scrollLeft,s.scrollTop)))}}s=ud(a);if(A=pd(a)){var z=new hd(A.left,A.top,A.right-A.left,A.bottom-A.top);A=Math.max(s.left,z.left);var t=Math.min(s.left+s.width,z.left+z.width);if(A<=t){var E=Math.max(s.top,z.top);z=Math.min(s.top+s.height,z.top+z.height);if(E<=z){s.left=A;s.top=E;s.width=t-A;s.height=z-E}}}A=Lc(a);E=Lc(e);if(A.p!=E.p){t=
A.p.body;E=E.p.parentWindow||E.p.defaultView;z=new Hc(0,0);var P=Nc(t)?Nc(t).parentWindow||Nc(t).defaultView:window,Wa=t;do{var J;if(P==E)J=qd(Wa);else{var Q=Wa;J=new Hc;if(Q.nodeType==1)if(Q.getBoundingClientRect){var wa=nd(Q);J.x=wa.left;J.y=wa.top}else{wa=fd(Lc(Q));Q=qd(Q);J.x=Q.x-wa.x;J.y=Q.y-wa.y}else{J.x=Q.clientX;J.y=Q.clientY}J=J}J=J;z.x+=J.x;z.y+=J.y}while(P&&P!=E&&(Wa=P.frameElement)&&(P=P.parent));E=z;E=Ic(E,qd(t));if(u&&!Pc(A.p))E=Ic(E,fd(A));s.left+=E.x;s.top+=E.y}a=(d&4&&rd(a)?d^2:d)&
-5;d=new Hc(a&2?s.left+s.width:s.left,a&1?s.top+s.height:s.top);if(q)d=Ic(d,q);if(g){d.x+=(a&2?-1:1)*g.x;d.y+=(a&1?-1:1)*g.y}var L;if(n)if((L=pd(e))&&q){L.top=Math.max(0,L.top-q.y);L.right-=q.x;L.bottom-=q.y;L.left=Math.max(0,L.left-q.x)}a:{g=d;L=L;g=g.qa();q=0;a=(f&4&&rd(e)?f^2:f)&-5;f=td(e);p=p?p.qa():f;if(h||a!=0){if(a&2)g.x-=p.width+(h?h.right:0);else if(h)g.x+=h.left;if(a&1)g.y-=p.height+(h?h.bottom:0);else if(h)g.y+=h.top}if(n){if(L){h=g;q=0;if(h.x<L.left&&n&1){h.x=L.left;q|=1}if(h.x<L.left&&
h.x+p.width>L.right&&n&16){p.width-=h.x+p.width-L.right;q|=4}if(h.x+p.width>L.right&&n&1){h.x=Math.max(L.right-p.width,L.left);q|=1}if(n&2)q|=(h.x<L.left?16:0)|(h.x+p.width>L.right?32:0);if(h.y<L.top&&n&4){h.y=L.top;q|=2}if(h.y>=L.top&&h.y+p.height>L.bottom&&n&32){p.height-=h.y+p.height-L.bottom;q|=8}if(h.y+p.height>L.bottom&&n&4){h.y=Math.max(L.bottom-p.height,L.top);q|=2}if(n&8)q|=(h.y<L.top?64:0)|(h.y+p.height>L.bottom?128:0);n=q}else n=256;q=n;if(q&496){e=q;break a}}ld(e,g);Kc(f,p)||sd(e,p);e=
q}return e};function xg(){}xg.prototype.mb=aa();function yg(a,d){this.element=a;this.La=d}r(yg,xg);yg.prototype.mb=function(a,d,e){wg(this.element,this.La,a,d,undefined,e)};function zg(a,d,e){yg.call(this,a,d);this.od=e}r(zg,yg);zg.prototype.mb=function(a,d,e,f){var g=wg(this.element,this.La,a,d,null,e,10,f);if(g&496){var h=this.La,n=d;if(g&48){h^=2;n^=2}if(g&192){h^=1;n^=1}g=wg(this.element,h,a,n,null,e,10,f);if(g&496)this.od?wg(this.element,this.La,a,d,null,e,5,f):wg(this.element,this.La,a,d,null,e,0,f)}};function Ag(a,d,e,f){zg.call(this,a,d,e);this.Pd=f}r(Ag,zg);Ag.prototype.mb=function(a,d,e,f){this.Pd?wg(this.element,this.La,a,d,null,e,33,f):Ag.a.mb.call(this,a,d,e,f)};function Bg(){}r(Bg,sg);ga(Bg);if(B)Bg.prototype.Fa=function(a,d){var e=Bg.a.z.call(this,a&&a.firstChild);if(e){var f=this.createCaption(d,Lc(a)),g=e.parentNode;g&&g.replaceChild(f,e)}};l=Bg.prototype;l.z=function(a){a=Bg.a.z.call(this,a&&a.firstChild);if(B&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};l.o=function(a,d){var e=Oc(document,"*","goog-menu",d)[0];if(e){vd(e,false);Nc(e).body.appendChild(e);var f=new mf;f.o(e);a.qb(f)}return Bg.a.o.call(this,a,d)};
l.xb=function(a,d){return Bg.a.xb.call(this,[this.createCaption(a,d),d.h("div","goog-inline-block "+(this.g()+"-dropdown"),"\u00a0")],d)};l.createCaption=function(a,d){return d.h("div","goog-inline-block "+(this.g()+"-caption"),a)};l.g=k("goog-menu-button");function Cg(a,d,e,f){rg.call(this,a,e||Bg.A(),f);Ie(this,64,true);d&&this.qb(d);this.L=new Nd(500)}r(Cg,rg);l=Cg.prototype;l.vc=true;l.nc=false;l.ic=false;l.I=function(){Cg.a.I.call(this);this.e&&Dg(this,this.e,true);te(this.c(),"haspopup","true")};l.X=function(){Cg.a.X.call(this);if(this.e){this.u(false);this.e.X();Dg(this,this.e,false);var a=this.e.c();a&&Wc(a)}};l.f=function(){Cg.a.f.call(this);if(this.e){this.e.K();delete this.e}delete this.Nd;this.L.K()};
l.ya=function(a){Cg.a.ya.call(this,a);if(this.hb()){this.u(!!!(this.v&64));if(this.e)this.e.ea=!!(this.v&64)}};l.fb=function(a){Cg.a.fb.call(this,a);if(this.e&&!this.hb())this.e.ea=false};l.Da=function(){this.setActive(false);return true};l.yd=function(a){this.e&&this.e.l&&!this.ra(a.target)&&this.u(false)};l.ra=function(a){return a&&Yc(this.c(),a)||this.e&&this.e.ra(a)||false};
l.Pa=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!=vc)return false}else if(a.type!="key")return false;if(this.e&&this.e.l){var d=this.e.ba(a);if(a.keyCode==27){this.u(false);return true}return d}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.u(true);return true}return false};l.bc=function(){this.u(false)};l.Bd=function(){this.hb()||this.u(false)};l.xa=function(a){this.ic||this.u(false);Cg.a.xa.call(this,a)};function Eg(a){a.e||a.qb(new mf(a.G()));return a.e||null}
l.qb=function(a){var d=this.e;if(a!=d){if(d){this.u(false);this.n&&Dg(this,d,false);delete this.e}if(a){this.e=a;ke(a,this);a.j(false);of(a,this.ic);this.n&&Dg(this,a,true)}}return d};l.pa=function(a){Eg(this).Za(a,true)};l.Ka=function(a,d){Eg(this).$a(a,d,true)};l.db=function(a){return this.e?pe(this.e,a):null};l.Wb=function(){return this.e?oe(this.e):0};l.j=function(a,d){var e=Cg.a.j.call(this,a,d);e&&!this.l&&this.u(false);return e};l.la=function(a){Cg.a.la.call(this,a);this.w()||this.u(false)};
l.u=function(a){Cg.a.u.call(this,a);if(this.e&&!!(this.v&64)==a){if(a){this.e.n||me(this.e,void 0);this.jd=pd(this.c());this.yc=ud(this.c());Fg(this);Xe(this.e,-1)}else{this.setActive(false);this.e.ea=false;if(this.Jb!=null){this.Jb=undefined;var d=this.e.c();d&&sd(d,"","")}}this.e.j(a);d=je(this);var e=a?d.q:d.V;e.call(d,ed(this.G()),"mousedown",this.yd,true);this.ic&&e.call(d,this.e,"blur",this.Bd);e.call(d,this.L,Pd,this.Kd);a?this.L.start():this.L.stop()}};
function Fg(a){if(a.e.n){var d=a.Nd||a.c();d=new Ag(d,a.vc?5:7,!a.nc,a.nc);var e=a.e.c();if(!a.e.l){e.style.visibility="hidden";vd(e,true)}if(!a.Jb&&a.nc)a.Jb=td(e);d.mb(e,a.vc?4:6,null,a.Jb);if(!a.e.l){vd(e,false);e.style.visibility="visible"}}}
l.Kd=function(){var a=ud(this.c()),d=pd(this.c()),e;e=this.yc;e=e==a?true:!e||!a?false:e.left==a.left&&e.width==a.width&&e.top==a.top&&e.height==a.height;if(!(e=!e)){e=this.jd;e=e==d?true:!e||!d?false:e.top==d.top&&e.right==d.right&&e.bottom==d.bottom&&e.left==d.left;e=!e}if(e){this.yc=a;this.jd=d;Fg(this)}};function Dg(a,d,e){var f=je(a);e=e?f.q:f.V;e.call(f,d,"action",a.bc);e.call(f,d,"highlight",a.ac);e.call(f,d,"unhighlight",a.fc)}l.ac=function(a){te(this.c(),"activedescendant",a.target.c().id)};
l.fc=function(){Ye(this.e)||te(this.c(),"activedescendant","")};ze("goog-menu-button",function(){return new Cg(null)});function Gg(){}r(Gg,Bg);ga(Gg);Gg.prototype.g=k("goog-toolbar-menu-button");function Hg(a,d,e,f){Cg.call(this,a,d,e||Gg.A(),f)}r(Hg,Cg);ze("goog-toolbar-menu-button",function(){return new Hg(null)});function Ig(a){this.Ba=[];Jg(this,a)}r(Ig,yd);l=Ig.prototype;l.ka=null;l.cd=null;l.Wb=function(){return this.Ba.length};l.db=function(a){return this.Ba[a]||null};function Jg(a,d){if(d){lb(d,function(e){Kg(this,e,false)},a);sb(a.Ba,d)}}l.pa=function(a){this.Ka(a,this.Wb())};l.Ka=function(a,d){if(a){Kg(this,a,false);tb(this.Ba,d,0,a)}};l.Ab=ca("ka");l.Ga=function(a){if(a!=this.ka){Kg(this,this.ka,false);this.ka=a;Kg(this,a,true)}this.dispatchEvent("select")};
l.Yb=function(){return this.ka?kb(this.Ba,this.ka):-1};l.ed=function(a){this.Ga(this.db(a))};l.clear=function(){var a=this.Ba;if(!ia(a))for(var d=a.length-1;d>=0;d--)delete a[d];a.length=0;this.ka=null};l.f=function(){Ig.a.f.call(this);delete this.Ba;this.ka=null};function Kg(a,d,e){if(d)if(typeof a.cd=="function")a.cd(d,e);else typeof d.qc=="function"&&d.qc(e)};function Lg(a,d,e,f){Cg.call(this,a,d,e,f);this.yb=a;Mg(this)}r(Lg,Cg);l=Lg.prototype;l.r=null;l.yb=null;l.I=function(){Lg.a.I.call(this);Mg(this)};l.ta=function(a){Lg.a.ta.call(this,a);if(a=this.wa()){this.yb=a;Mg(this)}else this.ed(0)};l.f=function(){Lg.a.f.call(this);if(this.r){this.r.K();this.r=null}this.yb=null};l.bc=function(a){this.Ga(a.target);Lg.a.bc.call(this,a);a.stopPropagation();this.dispatchEvent("action")};l.Ed=function(){var a=this.Ab();Lg.a.na.call(this,a&&a.aa());Mg(this)};
l.qb=function(a){var d=Lg.a.qb.call(this,a);if(a!=d){this.r&&this.r.clear();if(a)this.r?ne(a,function(e){this.r.pa(e)},this):Ng(this,a)}return d};l.pa=function(a){Lg.a.pa.call(this,a);this.r?this.r.pa(a):Ng(this,Eg(this))};l.Ka=function(a,d){Lg.a.Ka.call(this,a,d);this.r?this.r.Ka(a,d):Ng(this,Eg(this))};l.Ga=function(a){this.r&&this.r.Ga(a)};l.ed=function(a){this.r&&this.Ga(this.r.db(a))};
l.na=function(a){if(a!=null&&this.r)for(var d=0,e;e=this.r.db(d);d++)if(e&&typeof e.aa=="function"&&e.aa()==a){this.Ga(e);return}this.Ga(null)};l.Ab=function(){return this.r?this.r.Ab():null};l.Yb=function(){return this.r?this.r.Yb():-1};function Ng(a,d){a.r=new Ig;d&&ne(d,function(e){this.r.pa(e)},a);je(a).q(a.r,"select",a.Ed)}function Mg(a){var d=a.Ab();a.Fa(d?d.wa():a.yb)}l.u=function(a){Lg.a.u.call(this,a);this.v&64&&Xe(Eg(this),this.Yb())};ze("goog-select",function(){return new Lg(null)});function Og(a,d,e,f){Lg.call(this,a,d,e||Gg.A(),f)}r(Og,Lg);ze("goog-toolbar-select",function(){return new Og(null)});function Pg(a,d){Ne.call(this,a||lg.A(),d)}r(Pg,Ne);ze("goog-toolbar-separator",function(){return new Pg});function Qg(a,d,e){rg.call(this,a,d||sg.A(),e);Ie(this,16,true)}r(Qg,rg);ze("goog-toggle-button",function(){return new Qg(null)});function Rg(a,d,e){Qg.call(this,a,d||ug.A(),e)}r(Rg,Qg);ze("goog-toolbar-toggle-button",function(){return new Rg(null)});function Sg(a,d,e){kf.call(this,a,d,e);this.pc(true)}r(Sg,kf);Sg.prototype.Da=function(){return this.dispatchEvent("action")};ze("goog-option",function(){return new Sg(null)});function Tg(a,d,e){rg.call(this,a,d||sg.A(),e)}r(Tg,rg);ze("goog-custom-button",function(){return new Tg(null)});function Ug(){this.Od=ta()}new Ug;Ug.prototype.Va=ba("Od");Ug.prototype.reset=function(){this.Va(ta())};/*
 Rawscripts.com copywrite 2010



*/
window.exportScripts=Vg;window.hideExportPrompt=Wg;window.renameScript=Xg;window.hideRenamePrompt=Yg;window.renamePrompt=Zg;window.hideNewScriptPrompt=$g;window.createScript=ah;window.hideSpellCheck=bh;window.s_change=ch;window.s_ignore=dh;window.s_ignore_all=eh;window.replaceAndFind=fh;window.replaceText=gh;window.hideFindReplacePrompt=hh;window.hideFindPrompt=ih;window.findUp=jh;window.findDown=kh;window.shareScript=lh;window.hideSharePrompt=mh;window.hideEmailPrompt=nh;window.emailScript=oh;
window.save=ph;window.setJustPasted=qh;window.paint=rh;window.init=sh;window.paste=th;window.cut=uh;
var vh=0,wh=1,xh=0,yh=true,zh,H=true,Ah=false,Bh=false,Ch=false,I=[],Dh=[],K=[],Eh=0,Fh=false,Gh=false,Hh=false,Ih=[],Jh=[],M=[],N=0,O=0,R=0,S=0,T=0,Kh=[],Lh=[],Mh="#fff",Nh="10pt Courier",U=8,Oh="#000",V=13,Ph=0,Qh=["Slugline","Action","Character","Dialog","Parenthetical","Transition"],X="random123456789",Y=[[62,101,0,1,2],[62,101,0,0,2],[40,261,0,1,1],[36,181,0,0,2],[30,221,0,0,1],[61,591,1,1,2]],Z=850,Rh=91,$=[];notes=[];var Sh=[],Th=[],Uh=false,Vh,Wh,Xh,Yh;
function sh(){Zh("i");var a=Cd,d=new Bd(document.getElementById("canvas"));F(d,a,$h);F(window,"unload",function(){mc(d,a,$h)});F(G("recipient"),vc,function(h){h.keyCode==188&&tokenize("recipient")});F(G("collaborator"),vc,function(h){h.keyCode==188&&tokenize("collaborator")});F(G("renameField"),uc,function(h){if(h.keyCode==13){h.preventDefault();Xg()}});F(G("recipient"),uc,function(h){h.keyCode==13&&h.preventDefault()});F(G("collaborator"),uc,function(h){if(h.keyCode==13){h.preventDefault();lh()}});
F(G("subject"),uc,function(h){h.keyCode==13&&h.preventDefault()});F(G("find_input"),xc,function(){H=false;Ah=true;Hh=false});F(G("find_input"),wc,function(){H=true;Hh=Ah=false});F(G("find_input"),vc,function(h){ai(h,"f")});F(G("fr_find_input"),xc,function(){H=false;Ah=true;Hh=false});F(G("fr_find_input"),wc,function(){H=true;Hh=Ah=false});F(G("fr_find_input"),vc,function(h){ai(h,"r")});F(G("fr_replace_input"),xc,function(){H=false;Ah=true;Hh=false});F(G("fr_replace_input"),wc,function(){H=true;Hh=
Ah=false});Vh=new mf;Vh.o(G("fileMenu"));nf(Vh,0,64);of(Vh,true);Vh.j(false);F(G("file"),rc,bi);F(G("file"),sc,ci);F(G("file"),tc,di);F(Vh,"action",ei);Wh=new mf;Wh.o(G("editMenu"));nf(Wh,35,64);of(Wh,true);Wh.j(false);F(G("edit"),rc,bi);F(G("edit"),sc,ci);F(G("edit"),tc,di);F(Wh,"action",ei);Xh=new mf;Xh.o(G("viewMenu"));nf(Xh,72,64);of(Xh,true);Xh.j(false);F(G("view"),rc,bi);F(G("view"),sc,ci);F(G("view"),tc,di);F(Xh,"action",ei);Yh=new mf;Yh.o(G("shareMenu"));nf(Yh,113,64);of(Yh,true);Yh.j(false);
F(G("share"),rc,bi);F(G("share"),sc,ci);F(G("share"),tc,di);F(Yh,"action",ei);var e=[["save","S"],["export","E"],["undo","U"],["redo","R"],["find","F"]],f=Va==true?"\u2318":"Ctrl+";for(i in e){var g=G(e[i][0]+"-shortcut");Zc(g,f+e[i][1])}(new ng).o(G("gtb"));G("gtb").style.visibility="visible";X=window.location.href.split("=")[1];ag("scriptcontent",fi,"POST","resource_id="+X)}
function Zh(a){var d=Sc(window);sd(G("container"),d);document.getElementById("canvas").height=d.height-60-38;document.getElementById("canvas").width=d.width-320;Z=d.width-323;document.getElementById("sidebar").style.height=d.height-70+"px";if(a=="r"){gi(0);rh(false,false,false)}}var hi=new zd;F(hi,"resize",function(){Zh("r")});var ii=new Gd(document);F(ii,"key",ji);
function ji(a){if(!a.metaKey){if(a.target.id=="ccp"){Ph=(new Date).getMilliseconds();if(a.keyCode==13){if(H&&document.getElementById("suggestBox")==null){ki();Uh&&li(R);$[R][0]=$[R][0].replace(/\s+$/,"");for(x in notes){if(R<notes[x][0])notes[x][0]+=1;if(R==notes[x][0]&&O<notes[x][1]){notes[x][1]-=O;notes[x][0]+=1}}I.push(["enter",R,O]);Dh=[];$[R][1]==2&&mi($[R][0]);var d=$[R][0].slice(0,O),e=$[R][0].slice(O);$[R][0]=d;if($[R][1]==0)var f=1;else if($[R][1]==1)f=2;else if($[R][1]==2)f=3;else if($[R][1]==
4)f=3;else if($[R][1]==3)f=2;else if($[R][1]==5)f=0;$.splice(R+1,0,[e,f]);R++;O=0;T=R;S=O;document.getElementById("find_div").style.display=="block"&&ai({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r");rh(true,"enter",false);rh(false,"enter",false)}else if(document.getElementById("suggestBox")!=null){ki();d=$[R][0].length;e=Ye(ni).wa();$[R][0]=e;I.push(["paste",R,O,$[R][0].substr(d)]);document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));
O=S=$[R][0].length}oi();document.getElementById("find_div").style.display=="block"&&ai({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r")}else if(a.keyCode==38)a:if(H&&document.getElementById("suggestBox")==null){if(!(R==0&&O==0)){var g=$[R][1];if(g==0)d=Y[0];else if(g==1)d=Y[1];else if(g==2)d=Y[2];else if(g==3)d=Y[3];else if(g==4)d=Y[4];else if(g==5)d=Y[5];if($[R][0].length>d[0]){var h=$[R][0].split(" "),n=0;for(g=[];n<h.length;){if(h[n].length>=
d[0]){g.push(h[n].length);n++}if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}}f=0;for(h=g[0];h<O;){f++;h+=g[f]+1}if(R==0&&f==0){O=S=0;break a}if(f==0){Uh&&li(R);g=$[R-1][1];if(g==0)e=Y[0];else if(g==1)e=Y[1];else if(g==2)e=Y[2];else if(g==3)e=Y[3];else if(g==4)e=Y[4];else if(g==5)e=Y[5];if($[R-1][0].length<e[0])R--;else{h=$[R-1][0].split(" ");n=0;for(g=[];n<h.length;)if(h[n].length>=
d[0]){g.push(h[n].length);n++}else if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}R--;O+=$[R][0].length-g[g.length-1]}if(O>$[R][0].length)O=$[R][0].length}else{O-=g[f-1]+1;if(O>h-g[f]-1)O=h-g[f]-1}}else if(R==0)O=0;else{Uh&&li(R);g=$[R-1][1];if(g==0)e=Y[0];else if(g==1)e=Y[1];else if(g==2)e=Y[2];else if(g==3)e=Y[3];else if(g==4)e=Y[4];else if(g==5)e=Y[5];if($[R-1][0].length<
e[0])R--;else{h=$[R-1][0].split(" ");n=0;for(g=[];n<h.length;)if(h[n].length>=d[0]){g.push(h[n].length);n++}else if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}R--;O+=$[R][0].length-g[g.length-1]}if(O>$[R][0].length)O=$[R][0].length}if(!a.shiftKey){S=O;T=R}xh<0&&rh(false,false,false)}}else document.getElementById("suggestBox")!=null&&af(ni);else if(a.keyCode==40)if(H&&
document.getElementById("suggestBox")==null){if(!(R==$.length-1&&O==$[R][0].length)){d=$[R][1];if(d==0)g=Y[0];else if(d==1)g=Y[1];else if(d==2)g=Y[2];else if(d==3)g=Y[3];else if(d==4)g=Y[4];else if(d==5)g=Y[5];if($[R][0].length>g[0]){f=$[R][0].split(" ");h=0;for(d=[];h<f.length;)if(f[h].length>=g[0]){d.push(f[h].length);h++}else if(f.slice(h).join().length<=g[0]){d.push(f.slice(h).join().length);h=f.length}else{for(e=0;f.slice(h,h+e).join().length<g[0];)e++;d.push(f.slice(h,h+e-1).join().length);
h+=e-1}e=0;for(g=d[0];g<O;){e++;g+=d[e]+1}if(e+1==d.length){Uh&&li(R);for(e=0;e<d.length-1;e++)O-=d[e];O--;R++;if(R>$.length-1){R--;O=$[R][0].length}if(O>$[R][0].length)O=$[R][0].length}else{O+=d[e]+1;if(O>g+d[e+1]+1)O=g+d[e+1]+1}}else if(R==$.length-1)O=$[R][0].length;else{R++;if(R>$.length-1)R=$.length-1;if(O>$[R][0].length)O=$[R][0].length}if(!a.shiftKey){S=O;T=R}xh>document.getElementById("canvas").height-50&&rh(false,false,false)}}else document.getElementById("suggestBox")!=null&&bf(ni);else if(a.keyCode==
39){if(H){d=false;if(!(O==$[R][0].length&&R==$.length-1)){if(O==$[R][0].length){Uh&&li(R);R++;O=0;d=true}else O+=1;if(!a.shiftKey){S=O;T=R}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==37){if(H){d=false;if(!(R==0&&O==0)){if(O==0){Uh&&li(R);R--;O=$[R][0].length;d=true}else O-=1;if(!a.shiftKey){S=O;T=R}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==8)pi(a);else if(a.keyCode==46)qi();else if(a.keyCode==
16)return;else if(a.keyCode==9){a.preventDefault();if(H){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));ki();I.push(["format",R,O,$[R][1],"tab"]);Dh=[];d=false;if($[R][1]==0)d=true;e=$[R][1];if(e==1){$[R][1]=0;d=true}else if(e==0)$[R][1]=2;else if(e==2)$[R][1]=1;else if(e==3)$[R][1]=4;else if(e==4)$[R][1]=3;else if(e==5){$[R][1]=0;d=true}d&&oi();if($[R][1]==4){if($[R][0].charAt(0)!="("){$[R][0]="("+$[R][0];
O++;S++}if($[R][0].charAt($[R][0].length-1)!=")")$[R][0]+=")"}if($[R][1]==3){if($[R][0].charAt(0)=="("){$[R][0]=$[R][0].substr(1);O--;S--}if($[R][0].charAt($[R][0].length-1)==")")$[R][0]=$[R][0].slice(0,-1)}}}else if(!Ah)if(a.keyCode>=48&&a.keyCode<=90||a.keyCode>=96&&a.keyCode<=111||a.keyCode>=187&&a.keyCode<=222||a.keyCode==32)if(H&&!Hh){a.preventDefault();Dh=[];Ph=(new Date).getMilliseconds();if(a.which!=13&&a.which!=37&&a.which!=0&&a.which!=8){if(R!=T||O!=S)qi();I.push([String.fromCharCode(a.charCode),
R,O]);$[R][0]=$[R][0].slice(0,O)+String.fromCharCode(a.charCode)+$[R][0].slice(O);O++;$[R][1]==0&&ri(R);$[R][1]==2&&si("c");$[R][1]==0&&si("s");for(x in notes)if(R==notes[x][0])if(O-1<=notes[x][1])notes[x][1]+=1;ki();S=O;T=R}document.getElementById("find_div").style.display=="block"&&ai({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r");document.getElementById("ccp").focus();document.getElementById("ccp").select()}xh<0&&H&&a.keyCode!=13&&a.keyCode!=
46&&a.keyCode!=8&&gi(xh-400);xh>document.getElementById("canvas").height-80&&H&&a.keyCode!=13&&a.keyCode!=46&&a.keyCode!=8&&gi(xh-400)}if(H){if(T==R&&O==S)document.getElementById("ccp").value="";document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}F(document,"mousemove",ti);F(document,"mousedown",ui);F(document,"mouseup",vi);var wi=new Sd(document);wi.lb("save","meta+s");wi.lb("undo","meta+z");wi.lb("redo","meta+shift+z");wi.lb("export","meta+e");wi.lb("find","meta+f");
wi.wc=true;F(wi,"shortcut",xi);function xi(a){if(a.identifier=="save")ph(0);else if(a.identifier=="undo")yi();else if(a.identifier=="redo")zi();else if(a.identifier=="export")Ai();else a.identifier=="find"&&Bi()}window.oncontextmenu=Ci;
function si(a){document.getElementById("suggestBox")!=null&&Wc(document.getElementById("suggestBox"));if(a=="c")var d=Ih,e=Y[2][1]+Math.round((Z-U*87-24)/2)+"px";else{d=[];for(i in Jh)d.push([Jh[i][0].split(") ").splice(1).join(") ")]);e=Y[0][1]+Math.round((Z-U*87-24)/2)+"px"}var f=$[R][0].length,g=$[R][0].toUpperCase();for(x in d){var h=d[x][0].substr(0,f).toUpperCase();if(g==h&&g!=d[x][0]){if(document.getElementById("suggestBox")==null){var n=document.body.appendChild(document.createElement("div"));
n.id="suggestBox";n.style.position="fixed";n.style.top=xh+Rh+9+V+"px";n.style.left=e;n.className="goog-menu"}h=false;if(a=="s"){var p=n.childNodes;for(i in p)if(d[x][0]==p[i].value)h=true;p=null}if(!h){h=n.appendChild(document.createElement("div"));h.className="goog-menuitem";h.appendChild(document.createTextNode(d[x][0]));h.value=d[x][0];h=null}h=null}}if(document.getElementById("suggestBox")!=null){a=G("suggestBox");ni=new mf;ni.o(a);of(ni,true);Xe(ni,0);F(ni,"action",function(q){q=q.target.wa();
var s=$[R][0].length;$[R][0]=q;I.push(["paste",R,O,$[R][0].substr(s)]);O=S=$[R][0].length;Wc(document.getElementById("suggestBox"))});n=h=a=null}a=d=g=f=e=x=null}var ni;function ki(){document.getElementById("saveButton").disabled=false;document.getElementById("saveButton").value="Save";clearTimeout(zh);Uh=true;zh=setTimeout("save(1)",7E3)}
function ai(a,d){if(a.which==13&&a.which!=1E3){a.preventDefault();kh()}else{var e=d=="f"?document.getElementById("find_input").value:document.getElementById("fr_find_input").value,f=RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi");Kh=[];Lh=[];if(e.length==0)document.getElementById("find_number_found").innerHTML="0 found";else{for(i in $)for(;f.test($[i][0])==true;)d=="f"?Kh.push([i*1,f.lastIndex-e.length]):Lh.push([i*1,f.lastIndex-e.length]);if(d=="f")document.getElementById("find_number_found").innerHTML=
Kh.length+" found"}}}function kh(){var a=Kh.length!=0?Kh:Lh;if(a.length!=0){var d=Kh.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length;for(i in a){if(a[i][0]==R&&a[i][1]>O){T=R=a[i][0];S=a[i][1]*1;O=a[i][1]*1+d*1;Di("find"+R);return}if(a[i][0]*1>R*1){T=R=a[i][0]*1;S=a[i][1]*1;O=a[i][1]*1+d*1;Di("find"+R);return}}R=T=O=S=0;kh()}}
function jh(){var a=Kh.length!=0?Kh:Lh;if(a.length!=0){var d=Kh.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length,e=a.length-1;for(e=a.length-1;e>=0;e--){if(a[e][0]==R&&a[e][1]<O-d-1){T=R=a[e][0];S=a[e][1]*1;O=a[e][1]*1+d*1;Di("find"+R);return}if(a[e][0]*1<R*1){T=R=a[e][0]*1;S=a[e][1]*1;O=a[e][1]*1+d*1;Di("find"+R);return}}R=T=a[a.length-1][0];S=a[a.length-1][1];O=S+d;Di("find"+R)}}
function li(a){Uh=false;var d=$[a][0];if($[a][1]==0||$[a][1]==2||$[a][1]==5)d=d.toUpperCase();a=d.split(" ");for(i=0;i<a.length;i++){d=false;for(e in Sh)if(a[i].toUpperCase()==Sh[e][0].toUpperCase())d=true;for(e in Th)if(a[i].toUpperCase()==Sh[e][0].toUpperCase())d=true;if(d){a.splice(i,1);i--}}i=null;var e=JSON.stringify(a);ag("/spellcheck",function(f){if(jg(f.target)!="correct"){f=kg(f.target);for(i in f)Sh.push(f[i]);i=null}},"POST","data="+escape(e)+"&resource_id="+X)}
function uh(){if(R!=T||O!=S)pi();ki()}
function th(){if(!Ch){ki();Dh=[];if(R!=T||O!=S)pi();var a=false,d=document.getElementById("ccp").value,e=RegExp("\\n","g");if(d.split(e).length>1){d=d.split(e);e=[];for(x in d)d[x]!=""&&d[x]!=null&&e.push([d[x],1]);d=JSON.stringify(e);x=null}I.push(["paste",R,O,d]);if(d[0]=="["&&d[1]=="[")a=true;if(a){forceCalse=true;a=JSON.parse(d);if($[R][0]=="")$[R][1]=a[0][1];if($[R][1]==a[0][1]){I[I.length-1].push(1);d=[$[R][0].slice(O),$[R][1]];$[R][0]=$[R][0].slice(0,O)+a[0][0];e=1;var f=R+1}else{I[I.length-
1].push(0);d=[$[R][0].slice(O),$[R][1]];$[R][0]=$[R][0].slice(0,O);R++;$.splice(R,0,a[0]);e=1;f=R+1}for(;e<a.length;){$.splice(f,0,a[e]);f++;e++}$.splice(f,0,d);if($[f][0]==""||$[f][0]==" "){$.splice(f,1);I[I.length-1].push(0)}else I[I.length-1].push(1);R=T=f;O=S=0;if(R>=$.length){R=T=$.length-1;O=S=$[R][0].length}}else{$[R][0]=$[R][0].slice(0,O)+d+$[R][0].slice(O);O+=document.getElementById("ccp").value.length;S=O}Bh=false;Ch=true;setTimeout("setJustPasted()",50)}}function qh(){Ch=false}
function fi(a){if(jg(a.target)=="not found"){$=[["Sorry, the script wasn't found.",1]];rh(true,false,false)}else{var d=kg(a.target);a=d[0];document.getElementById("title").innerHTML=a;document.title=a;var e=d[1];for(a=0;a<e.length;a++)$.push([e[a][0],e[a][1]]);if($.length==2){R=T=1;O=S=$[1][0].length}if(d[2].length!=0){e=d[2][0];var f=d[2][1];for(w in e)Sh.push(e[w]);for(a in f)Th.push(f[a])}for(a in d[3])notes.push(d[3][a]);d=d[4];e=document.getElementById("hasAccess");for(a in d){f=e.appendChild(document.createElement("tr"));
f.id=d[a];f.appendChild(document.createElement("td")).appendChild(document.createTextNode(d[a]));f=f.appendChild(document.createElement("td")).appendChild(document.createElement("a"));f.appendChild(document.createTextNode("Remove Access"));f.href="javascript:removeAccess('"+d[a]+"')"}document.getElementById("canvas").getContext("2d");Ei(0);for(a=0;a<$.length;a++)$[a][1]==2&&mi($[a][0]);oi();Fi();document.getElementById("ccp").focus();document.getElementById("ccp").select();document.getElementById("saveButton").value=
"Saved";document.getElementById("saveButton").disabled=true;rh(true,false,false);setInterval("paint(false,false,false)",25);data=w=null}}
function Ei(a){var d=["sceneTab","noteTab"];for(i in d){var e=document.getElementById(d[i]);if(i==a){e.style.backgroundColor="#3F5EA6";e.style.color="white";document.getElementById(d[i].replace("Tab","s")).style.display="block"}else{e.style.backgroundColor="#6C8CD5";e.style.color="black";document.getElementById(d[i].replace("Tab","s")).style.display="none"}}i=null}
function Gi(a){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));ki();I.push(["format",R,O,$[R][1],a]);Dh=[];$[R][1]=a;S=O;T=R;if($[R][1]==4){if($[R][0].charAt(0)!="("){$[R][0]="("+$[R][0];O++;S++}if($[R][0].charAt($[R][0].length-1)!=")")$[R][0]+=")"}if($[R][1]==3){if($[R][0].charAt(0)=="("){$[R][0]=$[R][0].substr(1);O--;S--}if($[R][0].charAt($[R][0].length-1)==")")$[R][0]=$[R][0].slice(0,-1)}oi()}
function Ci(a){if(a.clientX>Rh&&a.clientX<Z-100&&a.clientY-Rh>40&&a.target.id=="canvas"){a.preventDefault();var d=document.body.appendChild(document.createElement("div"));d.style.position="fixed";d.style.top=a.clientY-3+"px";d.style.left=a.clientX+5+"px";d.id="context_menu";for(i in Qh){a=d.appendChild(document.createElement("div"));a.innerHTML=Qh[i];a.id="cm"+i;a.className="contextUnit"}i=null}}
function vi(a){if(H){Gh=Fh=false;document.getElementById("canvas");var d=document.getElementById("canvas").height;if(a.clientY-Rh>d-39&&a.clientY-Rh<d&&a.clientX>Z-22&&a.clientX<Z-2)a.clientY-Rh>d-20?gi(30):gi(-30);document.getElementById("ccp").focus();document.getElementById("ccp").select()}Vh.j(false);Wh.j(false);Xh.j(false);Yh.j(false);a=["file","edit","view","share"];for(i in a){d=G(a[i]);d.style.backgroundColor="#A2BAE9";d.style.color="black"}}
function ui(a){if(H){Uh&&li(R);if(document.getElementById("suggestBox")==null){if(document.getElementById("context_menu")!=null){a.target.className=="contextUnit"&&Gi(a.target.id.replace("cm",""));document.getElementById("context_menu").parentNode.removeChild(document.getElementById("context_menu"))}else{var d=document.getElementById("canvas").height,e=(K.length+1)*72*V,f=d/e*(d-39);if(f<20)f=20;if(f>=d-39)f=d-39;d=N/(e-d)*(d-39-f)+Rh;if(a.clientX>Rh&&a.clientX<Z-100&&a.clientY-Rh>40&&a.target.id==
"canvas"){Fh=true;Hi(a,"anch")}else if(a.clientX<Z&&a.clientX>Z-20&&a.clientY>d&&a.clientY<d+f)Gh=true}document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}
function Hi(a,d){Ph=(new Date).getMilliseconds();var e=0,f=a.clientY+N-31,g=15*V+3,h=0;for(i in $){h=g;if(K.length!=0&&K[e]!=undefined&&K[e][0]==i){if(K[e][2]==0)g=72*V*(e+1)+10*V+Rh+3-31;else{g=72*V*(e+1)+10*V+Rh+3;g+=(M[i].length-K[e][2])*V-31;if($[i][1]==3)g+=V;g-=V*M[i].length}e++}g+=V*M[i].length;if(g>f){g=K.length!=0&&K[e-1]!=undefined&&K[e-1][0]==i&&K[e-1][2]!=0?(f-h)/V<K[e-1][2]?Math.round((f-h)/V+0.5):f<72*V*e+10*V+Rh?K[e-1][2]:Math.round((V*M[i].length-g+f)/V+0.5):Math.round((V*M[i].length-
g+f)/V+0.5);for(f=e=0;e+1<g;){f+=M[i][e]+1;e++}g=$[i][1]!=5?Math.round((a.clientX-Math.round((Z-U*87-24)/2)-Y[$[i][1]][1])/U):Math.round((a.clientX-Math.round((Z-U*87-24)/2)-Y[$[i][1]][1]+$[i][0].length*U)/U);if(g<0)g=0;if(g>M[i][e])g=M[i][e];f+=g;if(f<0)f=0;if(f>$[i][0].length)f=$[i][0].length;if(d=="anch"){R=T=i*1;O=S=f*1}else{R=i;O=f}return}}}
function ti(a){if(Gh){var d=Eh-a.clientY,e=document.getElementById("canvas").height-50,f=(K.length+1)*72*V;N-=f/e*d;if(N<0)N=0;f=(K.length+1)*72*V-document.getElementById("canvas").height+20;if(N>f)N=f+20}Eh=a.clientY;Fh&&Hi(a,"pos");e=document.getElementById("canvas").height;f=(K.length+1)*72*V;d=e/f*(e-39);if(d<20)d=20;if(d>=e-39)d=e-39;e=N/(f-e)*(e-39-d)+Rh;document.getElementById("canvas").style.cursor=a.clientX<Z&&a.clientX>Z-20&&a.clientY>e&&a.clientY<e+d?"default":"text"}
function $h(a){gi(a.td*10)}function gi(a){N+=a;if(N<0)N=0;a=(K.length+1)*72*V-document.getElementById("canvas").height+20;if(N>a)N=a+20;Ph=(new Date).getMilliseconds();if(document.getElementById("suggestBox")!=null){rh(false,false,false);si($[R][1]==0?"s":"c")}}
function Di(a){if(a.target!=undefined){a=a.target.id;T=R=a=parseInt(a.replace("row",""));S=O=$[R][0].length;this.style.backgroundColor="#999ccc"}else a=a[0]=="f"?parseInt(a.replace("find","")):R;for(var d=0,e=0;e<a;e++){for(var f=0;f<K.length;f++)if(K[f][0]==e){d=V*72*(f*1+1);if(K[f][2]!=0)d-=V*(M[e].length-K[f][2])}d+=M[e].length*V}N=d;a=(K.length+1)*72*V-document.getElementById("canvas").height;if(N>a)N=a}
function pi(a){if(H){ki();Dh=[];a&&a.preventDefault();var d=a=false;if($[R][1]==0)d=true;if(R==T&&O==S){if(O==0&&R==0)return;else if($[R][1]==4&&O==1){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}d=$[R][0];if(d.charAt(0)=="(")d=d.substr(1);if(d.charAt(d.length-1)==")")d=d.slice(0,-1);var e=$[R-1][0].length;$.splice(R,1);R--;O=e;$[R][0]+=d;I.push(["back",R,O,"line",4]);d=true;document.getElementById("suggestBox")!=
null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else if(O==0){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}var f=$[R][1];d=$[R][0];$.splice(R,1);e=$[R-1][0].length;$[R-1][0]+=d;O=e;R--;I.push(["back",R,O,"line",f]);d=a=true;document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else{I.push(["back",
R,O,$[R][0][O-1]]);$[R][0]=$[R][0].slice(0,O-1)+$[R][0].slice(O);O--;for(x in notes)if(R==notes[x][0])if(O<notes[x][1])notes[x][1]-=1}S=O;T=R}else{document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));a=true;var g=false;if(T>R)g=true;if(T==R&&S>O)g=true;if(g){g=T;T=R;R=g;g=S;S=O;O=g}for(g=0;O!=S||R!=T;){g++;if($[R][1]==0)d=true;if(O==0){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=
$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}f=$[R][1];d=$[R][0];$.splice(R,1);e=$[R-1][0].length;$[R-1][0]+=d;O=e;R--;I.push(["back",R,O,"line",f]);d=true}else{I.push(["back",R,O,$[R][0][O-1]]);$[R][0]=$[R][0].slice(0,O-1)+$[R][0].slice(O);O--;for(x in notes)if(R==notes[x][0])if(O<notes[x][1])notes[x][1]-=1}}I.push(["br",g])}if(a==true){oi();rh(a,false,false);gi(0)}d&&ri(R);document.getElementById("find_div").style.display=="block"&&ai({which:1E3},"f");document.getElementById("find_replace_div").style.display==
"block"&&ai({which:1E3},"r")}}
function qi(){if(H){ki();Dh=[];document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));var a=false,d=false;if(R==T&&O==S){if($[R][1]==0)a=true;if(O==$[R][0].length&&R==$.length-1)return;if($[R][1]==4&&$[R][0]=="()"){I.push(["delete",R,O,"line",4]);$.splice(R,1);S=O=0}else if(O==$[R][0].length){for(x in notes){if(R+1==notes[x][0]){notes[x][1]+=$[R][0].length;notes[x][0]-=1}else if(R<notes[x][0])notes[x][0]-=1;
if(notes[x][1]<0)notes[x][1]=0}I.push(["delete",R,O,"line",$[R+1][1]]);if($[R+1][1]==0)a=true;var e=$[R+1][0];$.splice(R+1,1);$[R][0]+=e;d=true}else{I.push(["delete",R,O,$[R][0][O]]);$[R][0]=$[R][0].slice(0,O)+$[R][0].slice(O+1);for(x in notes)if(R==notes[x][0])if(O<notes[x][1])notes[x][1]-=1}}else{d=true;e=false;if(T>R)e=true;if(T==R&&S>O)e=true;if(e){e=T;T=R;R=e;e=S;S=O;O=e}for(var f=0;O!=S||R!=T;){f++;if($[R][1]==0)a=true;if(O==0){for(x in notes){if(R+1==notes[x][0]){notes[x][1]+=$[R][0].length;
notes[x][0]-=1}else if(R<notes[x][0])notes[x][0]-=1;if(notes[x][1]<0)notes[x][1]=0}I.push(["delete",R-1,$[R-1][0].length,"line",$[R][1]]);e=$[R][0];$.splice(R,1);a=$[R-1][0].length;$[R-1][0]+=e;O=a;R--;a=true}else{I.push(["delete",R,O,$[R][0][O-1]]);$[R][0]=$[R][0].slice(0,O-1)+$[R][0].slice(O);O--;for(x in notes)if(R==notes[x][0])if(O<notes[x][1])notes[x][1]-=1}}I.push(["dr",f])}if(d==true){oi();rh(d,false,false);gi(0)}a&&ri(R);document.getElementById("find_div").style.display=="block"&&ai({which:1E3},
"f");document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r")}}
function yi(){ki();if(I.length!=0){var a=false,d=I.pop(),e=[];for(x in d)e.push(d[x]);Dh.push(e);if(d[0]=="enter"){a=$[d[1]+1][0];$.splice(d[1]+1,1);if($[d[1]][1]==4&&$[d[1]][0].charAt($[d[1]][0].length-1)==")")$[d[1]][0]=$[d[1]][0].slice(0,-1);$[d[1]][0]+=a;a=true}else if(d[0]=="back")if(d[3]=="line"){for(x in notes)if(d[1]==notes[x][0]){if(d[2]<=notes[x][1]){notes[x][0]+=1;notes[x][1]-=d[2]}}else if(d[1]<notes[x][0])notes[x][0]+=1;a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&
e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=a;a=[e,d[4]];$.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+d[3]+$[d[1]][0].slice(d[2]-1);$[d[1]][1]==0&&ri(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<=notes[x][1])notes[x][1]+=1}else if(d[0]=="delete")if(d[3]=="line"){a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=a;a=[e,d[4]];$.splice(d[1]+1,0,a);a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,
d[2])+d[3]+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&ri(d[1])}else if(d[0]=="format"){$[d[1]][1]=d[3];if($[d[1]][0].charAt(0)=="(")$[d[1]][0]=$[d[1]][0].substr(1);if($[d[1]][0].charAt($[d[1]][0].length-1)==")")$[d[1]][0]=$[d[1]][0].slice(0,-1);a=true}else if(d[0]=="br"||d[0]=="dr")for(var f=d[1],g=0;g<f;g++){d=I.pop();e=[];for(x in d)e.push(d[x]);Dh.splice(Dh.length-1,0,e);if(d[3]=="line"){a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=
a;a=[e,d[4]];$.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+d[3]+$[d[1]][0].slice(d[2]-1);$[d[1]][1]==0&&ri(d[1])}}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+d[3].length);$[d[1]][1]==0&&ri(d[1])}else{a=true;f=JSON.parse(d[3]);if(d[4]==0)$.splice(d[1]+1,f.length);else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]);$.splice(d[1]+1,f.length-1)}if(d[5]==1){$[d[1]][0]+=$[d[1]+1][0];$.splice(d[1]+1,1)}}else{$[d[1]][0]=
$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);if($[d[1]][1]==4&&$[d[1]][0][d[2]-1]==")"){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);d[2]-=1}$[d[1]][1]==0&&ri(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<notes[x][1])notes[x][1]-=1}R=d[1];O=d[2];T=R;S=O;if(a==true){oi();rh(true,false,false)}}}
function zi(){ki();if(Dh.length!=0){var a=false,d=Dh.pop(),e=[];for(x in d)e.push(d[x]);I.push(e);a=false;if(d[0]=="enter"){e=$[d[1]][0].slice(0,d[2]);a=$[d[1]][0].slice(d[2]);$[d[1]][0]=e;if($[d[1]][1]==0)var f=1;else if($[d[1]][1]==1)f=2;else if($[d[1]][1]==2)f=3;else if($[d[1]][1]==4)f=3;else if($[d[1]][1]==3)f=2;else if($[d[1]][1]==5)f=0;$.splice(d[1]+1,0,[a,f]);d[1]+=1;d[2]=0;a=true}else if(d[0]=="back")if(d[3]!="line"){$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);d[2]-=1;$[d[1]][1]==
0&&ri(d[1])}else{e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else if(d[0]=="delete")if(d[3]!="line"){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);$[d[1]][1]==0&&ri(d[1])}else{e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e}else if(d[0]=="format"){if(d[4]!="tab")$[d[1]][1]=d[4];else{e=d[3];if(e==0)$[d[1]][1]=2;else if(e==1)$[d[1]][1]=0;else if(e==2)$[d[1]][1]=1;else if(e==3)$[d[1]][1]=4;else if(e==4)$[d[1]][1]=3;else if(e==5)$[d[1]][1]=0}a=true}else if(d[0]=="br"){var g=
d[1];for(f=0;f<g;f++){d=Dh.pop();e=[];for(x in d)e.push(d[x]);I.splice(I.length-1,0,e);if(d[3]=="line"){e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&ri(d[1])}}d[2]-=1}else if(d[0]=="dr"){g=d[1];for(f=0;f<g;f++){d=Dh.pop();e=[];for(x in d)e.push(d[x]);I.splice(I.length-1,0,e);if(d[3]=="line"){e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);
$[d[1]][1]==0&&ri(d[1])}}d[2]-=1}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+d[3]+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&ri(d[1])}else{a=true;g=JSON.parse(d[3]);if($[d[1]][0]=="")$[d[1]][1]=g[0][1];if($[d[1]][1]==g[0][1]){e=[$[d[1]][0].slice(d[2]),$[d[1]][1]];$[d[1]][0]=$[d[1]][0].slice(0,d[2])+g[0][0];f=1;d=d[1]+1}else{e=[$[d[1]][0].slice(d[2]),$[d[1]][1]];$[d[1]][0]=$[d[1]][0].slice(0,d[2]);d[1]++;$.splice(d[1],0,g[0]);f=1;d=d[1]+1}for(;f<g.length;){$.splice(d,
0,g[f]);d++;f++}$.splice(d,0,e);if($[d][0]==""||$[d][0]==" ")$.splice(d,1)}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2])+d[0]+$[d[1]][0].slice(d[2]);d[2]+=1;$[d[1]][1]==0&&ri(d[1])}if(a==true){oi();rh(true,false,false)}}}function mi(a){a=a.toUpperCase().replace(/\s+$/,"");for(var d=false,e=0;e<Ih.length;e++)if(Ih[e][0]==a){Ih[e][1]+=1;d=true}d||Ih.push([a,1])}
function oi(){Jh=[];for(var a=0,d=0;d<$.length;d++)if($[d][1]==0){a++;var e="";if(d!=$.length-1){e=$[d+1][0];if(($[d+1][1]==2||$[d+1][1]==5)&&d!=$.length-2)e+=" "+$[d+2][0]}Jh.push([String(a)+") "+$[d][0].toUpperCase(),d,e]);e=null}Vc(G("sceneBox"));for(d=0;d<Jh.length;d++){a=document.getElementById("sceneBox").appendChild(document.createElement("p"));a.appendChild(document.createTextNode(Jh[d][0]));a.className="sceneItem";a.id="row"+Jh[d][1];a.title=Jh[d][2];F(a,rc,Di);F(a,sc,function(){this.style.backgroundColor=
"#ccccff"});F(a,tc,function(){this.style.backgroundColor="white"});a=null}c=d=a=null}function ri(a){try{var d=document.getElementById("row"+a),e=d.innerHTML.split(")")[0];d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e+") "+$[a][0].toUpperCase()))}catch(f){}}function Ii(a,d){if(a[0]<d[0])return-1;if(a[0]>d[0])return 1;if(a[1]<d[1])return-1;if(a[1]>d[1])return 1;return 0}
function Fi(){notes.sort(Ii);for(var a=document.getElementById("noteBox"),d=0;d<a.childNodes.length;d++){a.removeChild(a.firstChild);d--}for(x in notes){var e=a.appendChild(document.createElement("div"));e.className="thread";var f=e.appendChild(document.createElement("table"));f.width="100%";f=f.appendChild(document.createElement("tr"));f.appendChild(document.createElement("td"));f=f.appendChild(document.createElement("td"));f.align="right";f=f.appendChild(document.createElement("a"));f.style.backgroundColor=
"orange";f.appendChild(document.createTextNode("Delete"));f.href="javascript:deleteThread('"+notes[x][3]+"')";f.style.textDecoration="none";f.style.color="black";for(y in notes[x][2]){f=e.appendChild(document.createElement("div"));var g=f.appendChild(document.createElement("div"));g.innerHTML=notes[x][2][y][0];g=f.appendChild(document.createElement("div"));g.appendChild(document.createTextNode(notes[x][2][y][1].split("@")[0]));g.align="right";g.className="msgInfo";f.className="msg";f.id=notes[x][3]+
"msg";F(f,rc,function(h){for(h=h.target;h.className!="msg";)h=h.parentNode;for(d in notes)if(String(notes[d][3])==String(h.id.replace("msg",""))){R=T=notes[d][0];O=S=notes[d][1]}rh(false,false,false);Di("find"+R)});f=g=g=null}e=e.appendChild(document.createElement("div"));e.className="respond";e.appendChild(document.createTextNode("Respond"));e.id=notes[x][3];F(e,rc,Ji);e=f=f=f=e=null}H=true;x=d=null}
function Ki(a){a=a.target.id;var d=document.getElementById("nmi").innerHTML,e=document.getElementById("user_email").innerHTML,f=new Date;if(d!=""){notes.push([R,O,[[d,e,f]],a]);X!="Demo"&&ag("/notesnewthread",function(g){jg(g.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","fromPage=editor&resource_id="+X+"&row="+R+"&col="+O+"&content="+escape(d)+"&thread_id="+a)}Fi()}
function Ji(a){var d=a.target.id;Fi();H=false;a=document.getElementById(d);var e=a.parentNode.insertBefore(document.createElement("div"),a);e.className="respondControls";var f=e.appendChild(document.createElement("div"));f.contentEditable=true;f.id="nmi";var g=e.appendChild(document.createElement("input"));g.type="button";g.value="Save";g.id="noteSave"+d;d=e.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";a.parentNode.removeChild(a);F(g,rc,Li);F(d,rc,
Fi);f.focus()}
function Li(a){a=parseInt(a.target.id.replace("noteSave",""));for(x in notes)if(notes[x][3]==a)var d=x;var e=new Date,f=document.getElementById("nmi").innerHTML,g=document.getElementById("user_email").innerHTML;if(f!=""){e=[f,g,e];notes[d][2].push(e);X!="Demo"&&ag("/notessubmitmessage",function(h){jg(h.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","resource_id="+X+"&content="+escape(f)+"&thread_id="+a+"&fromPage=editor");e=null}Fi();x=e=
f=g=d=null}function bi(a){a=a.target.id;var d=[["file",Vh],["edit",Wh],["view",Xh],["share",Yh]];document.getElementById(a).style.backgroundColor="#6484df";document.getElementById(a).style.color="white";var e="notfound",f=0;for(i in d){if(d[i][1].l==true){e=i;d[e][1].j(false)}if(a==d[i][0])f=d[i][1]}if(e=="notfound")f.j(true);else if(d[e][1]==f)f.j(false);else{d[e][1].j(false);f.j(true)}i=null}
function ci(a){a=a.target.id;var d=[["file",Vh],["edit",Wh],["view",Xh],["share",Yh]],e="not open";for(i in d){var f=G(d[i][0]);f.style.backgroundColor="#A2BAE9";f.style.color="black";if(d[i][1].l)e=i;if(a==d[i][0]){var g=d[i][1];f=G(g.za.replace("Menu",""));f.style.backgroundColor="#6484df";f.style.color="white"}}if(e!="not open"){d[e][1].j(false);g.j(true)}i=null}
function di(a){a=a.target.id;if(document.getElementById(a+"Menu").style.display=="none"){document.getElementById(a).style.backgroundColor="#A2BAE9";document.getElementById(a).style.color="black"}}
function ei(a){a=he(a.target);if(a=="save")ph(0);else if(a=="new")if(X=="Demo")alert("Sorry, you'll have to login to start saving.");else if(X=="Demo")alert("Sorry, you'll have to login to open new scripts.");else{H=false;document.getElementById("newscriptpopup").style.visibility="visible"}else if(a=="open")X=="Demo"?alert("Sorry, you'll have to login to open new scripts."):window.open("/scriptlist");else if(a=="rename")Zg();else if(a=="exportas")Ai();else if(a=="duplicate")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");
return}else Mi();else if(a=="close")Ni();else if(a=="undo")yi();else if(a=="redo")zi();else if(a=="insertNote"){yh=true;Ei(1);yh=true;rh(false,false,false);Fi();H=false;a=document.getElementById("noteBox").appendChild(document.createElement("div"));a.className="thread";id=Math.round(Math.random()*1E9);for(var d=true;d==true;){d=false;for(e in notes)if(String(notes[e][3])==String(id)){id=Math.round(Math.random()*1E9);d=true}}d=a.appendChild(document.createElement("div"));d.className="respondControls";
var e=d.appendChild(document.createElement("div"));e.contentEditable=true;e.id="nmi";a=d.appendChild(document.createElement("input"));a.type="button";a.value="Save";a.id=id;d=d.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";F(a,rc,Ki);F(d,rc,Fi);e.focus()}else if(a=="editTitlePage")window.open("/titlepage?resource_id="+X);else if(a=="tag")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else Oi();else if(a=="spellCheck"){H=
false;li(R);e=R==0?true:false;document.getElementById("spellcheckpopup").style.visibility="visible";Pi(e,0,0)}else if(a=="find")Bi();else if(a=="findReplace"){ih();document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r");H=false;Ah=true;document.getElementById("find_replace_div").style.display="block";document.getElementById("fr_find_input").select();document.getElementById("fr_find_input").focus()}else if(a=="revision")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");
return}else window.open("/revisionhistory?resource_id="+X);else if(a=="notes")yh=yh?false:true;else if(a.substr(0,6)=="format")Gi(parseInt(a.replace("format","")));else if(a=="collaborators")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else{H=false;document.getElementById("sharepopup").style.visibility="visible"}else if(a=="email")if(X=="Demo"){alert("Sorry, you'll have to login to email scripts.");return}else if(X=="Demo")alert("Sorry, you'll have to login to email scripts.");
else{document.getElementById("saveButton").value=="Save"&&ph(0);H=false;document.getElementById("emailpopup").style.visibility="visible"}Vh.j(false);Wh.j(false);Xh.j(false);Yh.j(false);e=["file","edit","view","share"];for(i in e){a=G(e[i]);a.style.backgroundColor="#A2BAE9";a.style.color="black"}}
function Ni(){clearTimeout(zh);X=="Demo"&&self.close();var a=JSON.stringify($);document.getElementById("saveButton").value="Saving...";ag("/save",function(){self.close()},"POST","data="+escape(a)+"&resource_id="+X+"&autosave=0");a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&ag("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+X);a=a=i=null}
function $g(){H=true;document.getElementById("newScript").value="";document.getElementById("newscriptpopup").style.visibility="hidden";document.getElementById("createScriptButton").disabled=false;document.getElementById("createScriptButton").value="Create";document.getElementById("createScriptIcon").style.visibility="hidden"}
function ah(){var a=document.getElementById("newScript").value;if(a!=""){document.getElementById("createScriptButton").disabled=true;document.getElementById("createScriptButton").value="Creating Script...";document.getElementById("createScriptIcon").style.visibility="visible";ag("/newscript",function(d){window.open("editor?resource_id="+jg(d.target));$g()},"POST","filename="+escape(a)+"&fromPage=editor")}}
function Mi(){ag("/duplicate",function(a){jg(a.target)!="fail"&&window.open(jg(a.target))},"POST","fromPage=editor&resource_id="+X)}
function ph(a){clearTimeout(zh);if(X=="Demo")a==0&&alert("Sorry, but you'll have to login to start saving scripts!");else{var d=JSON.stringify($);document.getElementById("saveButton").value="Saving...";ag("/save",function(){document.getElementById("saveButton").value="Saved";document.getElementById("saveButton").disabled=true},"POST","data="+escape(d)+"&resource_id="+X+"&autosave="+a);a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&ag("/notesposition",aa(),"POST","positions="+
escape(JSON.stringify(a))+"&resource_id="+X);d=a=i=null}}function Zg(){H=false;document.getElementById("renameTitle").innerHTML="Rename: "+document.getElementById("title").innerHTML;document.getElementById("renameField").value=document.getElementById("title").innerHTML;document.getElementById("renamepopup").style.visibility="visible"}function Yg(){document.getElementById("renameField").value="";document.getElementById("renamepopup").style.visibility="hidden";H=true}
function Xg(){if(X=="Demo")alert("Sorry, you'll have to login to do that.");else{var a=document.getElementById("renameField").value;if(a!=""){document.getElementById("title").innerHTML=a;document.title=a;ag("/rename",aa(),"POST","fromPage=scriptlist&resource_id="+X+"&rename="+a);Yg()}}}function Ai(){X!="Demo"&&document.getElementById("saveButton").value=="Save"&&ph(0);H=false;document.getElementById("exportpopup").style.visibility="visible"}
function Wg(){H=true;document.getElementById("exportpopup").style.visibility="hidden"}function Vg(){if(X=="Demo")alert("Sorry, you'll have to login to export scripts.");else for(var a,d="&title_page="+document.getElementById("et").selectedIndex,e=document.getElementsByTagName("input"),f=0;f<e.length;f++)if(e[f].checked==true)if(e[f].className=="exportList"){a=e[f].name;b="/export?resource_id="+X+"&export_format="+a+"&fromPage=editor"+d;window.open(b)}}
function nh(){document.getElementById("emailpopup").style.visibility="hidden";document.getElementById("recipient").value="";document.getElementById("recipients").innerHTML="";document.getElementById("message").innerHTML="";H=true}function Qi(a){console.log();document.getElementById("emailS").disabled=false;document.getElementById("emailS").value="Send";if(jg(a.target)=="sent"){alert("Email Sent");nh()}else alert("There was a problem sending your email. Please try again later.")}
function oh(){tokenize("recipient");for(var a=[],d=document.getElementsByTagName("span"),e=0;e<d.length;e++)d[e].className=="mailto"&&a.push(d[e].innerHTML);a=a.join(",");d=document.getElementById("subject").value;if(d=="")d="Script";e=document.getElementById("message").innerHTML;ag("/emailscript",Qi,"POST","resource_id="+X+"&recipients="+a+"&subject="+d+"&body_message="+escape(e)+"&fromPage=editor");document.getElementById("emailS").disabled=true;document.getElementById("emailS").value="Sending..."}
function mh(){H=true;document.getElementById("sharepopup").style.visibility="hidden";document.getElementById("collaborator").value=""}
function lh(){tokenize("collaborator");for(var a=[],d=document.getElementsByTagName("span"),e=0;e<d.length;e++)d[e].className=="mailto"&&a.push(d[e].innerHTML);ag("/share",function(f){f=jg(f.target).split(",");var g=document.getElementById("hasAccess");for(e in f)if(f[e]!=""&&f[e]!=="not sent"){var h=g.appendChild(document.createElement("tr"));h.id=f[e];h.appendChild(document.createElement("td")).appendChild(document.createTextNode(f[e]));h=h.appendChild(document.createElement("td")).appendChild(document.createElement("a"));
h.appendChild(document.createTextNode("Remove Access"));h.href="javascript:removeAccess('"+f[e]+"')"}document.getElementById("shareS").disabled=false;document.getElementById("shareS").value="Send Invitations"},"POST","resource_id="+X+"&collaborators="+escape(a.join(","))+"&fromPage=scriptlist");document.getElementById("shareS").disabled=true;document.getElementById("shareS").value="Sending Invites...";document.getElementById("collaborators").innerHTML=""}
function Oi(){ph(0);var a=prompt("Leave a tag for this version:");a!=null&&a!=""&&ag("/revisiontag",function(d){jg(d.target)!="tagged"&&alert("There was a problem tagging this script. Please try again later.")},"POST","resource_id="+X+"&version=latest&tag="+escape(a))}
function Bi(){hh();document.getElementById("find_div").style.display=="block"&&ai({which:1E3},"f");H=false;Ah=true;document.getElementById("find_div").style.display="block";document.getElementById("find_input").select();document.getElementById("find_input").focus()}function ih(){H=true;Ah=false;Kh=[];document.getElementById("find_div").style.display="none";Hh=false}function hh(){H=true;Ah=false;Lh=[];document.getElementById("find_replace_div").style.display="none";Hh=false}
function gh(){var a=document.getElementById("fr_replace_input").value;if(a.length!=0)if(!(R==T&&O==S))if(R==T)if(Lh.length!=0){document.getElementById("ccp").value=a;th();S=O-a.length;document.getElementById("find_replace_div").style.display=="block"&&ai({which:1E3},"r")}}function fh(){gh();kh()}
function Pi(a,d,e){if(d=="finished"){alert("Spell Check Complete");bh()}else{a=$[d][0].split(" ");for(var f=false;f==false;){var g=a[e].replace("?","").replace(".","").replace(",","").replace("(","").replace(")","");for(i in Sh)if(Sh[i][0].toUpperCase()==g.toUpperCase()){f=[d,e,i];for(v in Th)if(Th[v].toUpperCase()==g.toUpperCase())f=false}if(!f){e++;if(e==a.length){e=0;d++;if(d==$.length)f="finished";else a=$[d][0].split(" ")}}}if(f=="finished"){document.getElementById("sSuggest").innerHTML="";document.getElementById("sSentance").innerHTML=
"";alert("Spell Check Complete");bh()}else{var h=$[d][0],n="<span id='sFocus' title='"+g+"' style='color:red'>"+g+"</span>";h=h.replace(RegExp(g,"i"),n);if($[d][1]==0||$[d][1]==2||$[d][1]==5){document.getElementById("sSentance").innerHTML=h.toUpperCase();document.getElementById("sSentance").innerHTML=document.getElementById("sSentance").innerHTML.replace("SFOCUS","sFocus")}else document.getElementById("sSentance").innerHTML=h;document.getElementById("sSentance").title=d;g=Sh[f[2]][1];h=document.getElementById("sSuggest");
h.innerHTML="";for(i in g){n=h.appendChild(document.createElement("div"));n.className="spellcheckitem";F(n,rc,function(p){var q=document.getElementById("spellcheckfocus");q!=undefined&&q.removeAttribute("id");p.target.id="spellcheckfocus";document.getElementById("sFocus").innerHTML=p.target.title});$[d][1]==0||$[d][1]==2||$[d][1]==5?n.appendChild(document.createTextNode(g[i].toUpperCase())):n.appendChild(document.createTextNode(g[i]));n.title=g[i]}e++;if(e==a.length){e=0;d++;if(d==$.length)f="finished";
else a=$[d][0].split(" ")}d=f=="finished"?f:[d,e].join(",");document.getElementById("sHidden").value=d}}}function bh(){document.getElementById("spellcheckpopup").style.visibility="hidden";H=true;ki()}function dh(){var a=document.getElementById("sHidden").value;Pi(false,a.split(",")[0],a.split(",")[1])}function eh(){Th.push(document.getElementById("sFocus").title);var a=document.getElementById("sHidden").value;Pi(false,a.split(",")[0],a.split(",")[1])}
function ch(){var a=document.getElementById("sSentance"),d=a.title;$[d][0]="";for(i in a.childNodes)if(a.childNodes[i].nodeName=="#text")$[d][0]+=a.childNodes[i].nodeValue;else{var e=a.childNodes[i].childNodes;for(j in e)if(e[j].nodeName=="#text")$[d][0]+=e[j].nodeValue}a=document.getElementById("sHidden").value;Pi(false,a.split(",")[0],a.split(",")[1]);rh(true,false,false)}
function Ri(a,d,e,f,g,h){if($[g][1]==5){f.fillStyle="gold";f.beginPath();f.moveTo(a-U*($[g][0].length-e+1)+h,d-N-V+3);f.lineTo(a-U*($[g][0].length-e+1)+h,d-N-V+3+V);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+V);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+4);f.lineTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(var n=1;n<6;n++){f.moveTo(a-U*($[g][0].length-e+1)+1+h,d-N-V+3+2*n+0.5);f.lineTo(a-U*($[g][0].length-e+1)+U-1+h,d-
N-V+3+2*n+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3);f.lineTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3+4);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+4)}else{f.fillStyle="gold";f.beginPath();f.moveTo(a+U*e+h,d-N-V+3);f.lineTo(a+U*e+h,d-N-V+3+V);f.lineTo(a+U*e+U+h,d-N-V+3+V);f.lineTo(a+U*e+U+h,d-N-V+3+4);f.lineTo(a+U*e+U-4+h,d-N-V+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(g=1;g<6;g++){f.moveTo(a+U*e+1+h,d-
N-V+3+2*g+0.5);f.lineTo(a+U*e+U-1+h,d-N-V+3+2*g+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a+U*e+U-4+h,d-N-V+3);f.lineTo(a+U*e+U-4+h,d-N-V+3+4);f.lineTo(a+U*e+U+h,d-N-V+3+4)}f.stroke();f.fillStyle=Oh}function Si(a,d){return a-d}
function rh(a,d){if(H||Ah){var e=document.getElementById("canvas").getContext("2d");e.clearRect(0,0,2E3,2500);e.fillStyle="#ccc";e.fillRect(0,0,Z,document.getElementById("canvas").height);e.fillStyle=Oh;var f=Math.round((Z-U*87-24)/2),g=V;e.font=Nh;e.lineWidth=1;for(var h=0;h<=K.length;h++){if(g-N>1200)break;if(g-N>-V*72){e.fillStyle=Mh;e.fillRect(f,g-N,U*87,V*70);e.strokeStyle="#000";e.strokeRect(f,g-N,Math.round(U*87),V*70);e.strokeStyle="#999";e.strokeRect(f-2,g-N-2,Math.round(U*87)+4,V*70+4);
e.fillStyle=Oh;h>0&&e.fillText(String(h+1)+".",550+f,g-N+85)}g+=V*72}if(!a){g=V*9+2;var n=Y[0];e.fillStyle="#ddd";var p=0;for(h=0;h<$.length;h++){if(R==h)vh=p*1+1;if(K.length!=0&&K[p]!=undefined&&K[p][0]==h){if(R==h)vh+=1;g=72*V*(p+1)+9*V+2;if(K[p][2]!=0){g-=K[p][2]*V;if($[h][1]==3)g+=V}p++}if(h<M.length)for(var q=0;q<M[h].length;q++){g+=V;if($[h][1]==0){M[h][q]!=0&&e.fillRect(n[1]-3+f,g-N,61*U+6,14);$[h][0]==""&&q==0&&e.fillRect(n[1]-3+f,g-N,61*U+6,14)}}if(g-N>1200)break}n=null}if(Kh.length!=0||
Lh.length!=0){e.fillStyle="yellow";g=Kh.length==0?document.getElementById("fr_find_input").value.length:document.getElementById("find_input").value.length;q=p=h=0;var s=Kh.length==0?Lh:Kh,A=V*9+3;for(i in M){if(A-N>1200)break;h=0;for(j in M[i]){if(K[q]!=undefined&&K[q][0]==i&&K[q][2]==j){q++;A=72*V*q+9*V+4;if($[i]!=undefined&&$[i][1]==3)A+=V}for(A+=V;s[p]!=undefined&&s[p][0]==i&&s[p][1]>=h&&s[p][1]<h+M[i][j]+1;){if(A-N>-100){var z=f+Y[$[i][1]][1]+(s[p][1]-h)*U;if(s[p][1]+g>h+M[i][j]+1){e.fillRect(z,
A-N,(h+M[i][j]-s[p][1])*U,V-2);e.fillRect(f+Y[$[i][1]][1],A+V-N,(g-(h+M[i][j]-s[p][1]+1))*U,V-2)}else e.fillRect(z,A-N,g*U,V-2)}p++}h+=M[i][j]+1}}}if(R!=T||S!=O){if(R>T){g={b:T,s:S};h={b:R,s:O}}else if(R==T&&O>S){g={b:T,s:S};h={b:R,s:O}}else{g={b:R,s:O};h={b:T,s:S}}p=V*9+3;var t=0;for(A=0;A<g.b;A++)if(K.length!=0&&K[t][2]==0&&K[t][0]-1==A){p=72*V*(t+1)+9*V+4;t++;t==K.length&&t--}else if(K.length!=0&&K[t][2]!=0&&K[t][0]==A){p=72*V*(t+1)+9*V+4;p+=(M[A].length-K[t][2])*V;if($[A][1]==3)p+=V;t++;t==K.length&&
t--}else p+=V*M[A].length;A=0;for(z=M[g.b][A]+1;g.s>z;){p+=V;if(K.length!=0&&K[t][0]==g.b&&K[t][2]==A+1){p=72*V*(t+1)+9*V+4;if($[g.b][1]==3)p+=V}A++;z+=M[g.b][A]+1}z-=M[g.b][A]+1;var E=Y[$[g.b][1]][1];E+=(g.s-z)*U;p+=V;for(note in notes)if(notes[note][0]==g.b)if(z<notes[note][1]&&z+M[g.b][A]+1>notes[note][1])if(notes[note][1]<g.s)E+=U;q=V*9+3;for(var P=t=0;P<h.b;P++)if(K.length!=0&&K[t][2]==0&&K[t][0]-1==P){q=72*V*(t+1)+9*V+4;t++;t==K.length&&t--}else if(K.length!=0&&K[t][2]!=0&&K[t][0]==P){q=72*
V*(t+1)+9*V+4;q+=(M[P].length-K[t][2])*V;if($[P][1]==3)q+=V;t++;t==K.length&&t--}else q+=V*M[P].length;P=0;for(s=M[h.b][P]+1;h.s>s;){q+=V;if(K.length!=0&&K[t][0]==h.b&&K[t][2]==P+1){q=72*V*(t+1)+9*V+4;if($[h.b][1]==3)q+=V}P++;s+=M[h.b][P]+1}s-=M[h.b][P]+1;t=Y[$[h.b][1]][1];t+=(h.s-s)*U;q+=V;for(note in notes)if(notes[note][0]==h.b)if(s<notes[note][1]&&s+M[h.b][P]+1>notes[note][1])if(notes[note][1]<h.s)t+=U;e.fillStyle="lightBlue";if(q==p){h=E;if($[g.b][1]==5)h-=$[g.b][0].length*U;e.fillRect(h+f,p-
N,t-E,12)}else{E=E;if($[g.b][1]==5)E-=$[g.b][0].length*U;for(e.fillRect(E+f,p-N,(z+M[g.b][A]-g.s)*U,12);p+V<q;){for(z=0;z<K.length;z++)if(K.length!=0&&K[z][0]-1==g.b&&K[z][2]==0&&A==M[g.b].length-1)p=72*V*(z+1)+9*V+4;else if(K.length!=0&&K[z][0]==g.b&&A==K[z][2]-1){p=72*V*(z+1)+9*V+4;if($[g.b][1]==3)p+=V}A++;p+=V;if(M[g.b].length<=A){g.b++;A=0}if(p!=q){z=Y[$[g.b][1]][1];if($[g.b][1]==5)z-=$[g.b][0].length*U;e.fillRect(z+f,p-N,M[g.b][A]*U,12)}}g=Y[$[h.b][1]][1];if($[h.b][1]==5)g-=$[h.b][0].length*
U;e.fillRect(g+f,q-N,(h.s-s)*U,12)}if(!Bh){if(R>T){g={b:T,s:S};h={b:R,s:O}}else if(R==T&&O>S){g={b:T,s:S};h={b:R,s:O}}else{g={b:R,s:O};h={b:T,s:S}}if(g.b==h.b)g=$[g.b][0].slice(g.s,h.s);else{arr=[];arr.push([$[g.b][0].slice(g.s),$[g.b][1]]);for(g.b=g.b*1+1;g.b<h.b;){arr.push([$[g.b][0],$[g.b][1]]);g.b+=1}arr.push([$[h.b][0].slice(0,h.s),$[h.b][1]]);g=JSON.stringify(arr)}h=document.getElementById("ccp");h.value=g;if(!Ah){h.focus();h.select()}}}e.fillStyle=Oh;e.font=Nh;q=V*11;g=[];s="";for(h=A=p=0;h<
$.length;h++){$[h][1]==0&&A++;if($[h][1]==4){if($[h][0].charAt(0)!="(")$[h][0]="("+$[h][0];if($[h][0].charAt($[h][0].length-1)!=")")$[h][0]+=")"}z=false;if(!a)if(K.length!=0&&K[p]!=undefined&&K[p][0]==h)if(K[p][2]==0){q=72*V*(p+1)+11*V;p++;if(p>=K.length)p=K.length-2}else z=true;if(!a&&!z&&q-N<-200){q+=V*M[h].length;if(h==R){var Wa=q;L=[]}}else if(!a&&!z&&q-N>1200)break;else{var J=[];if(yh)for(note in notes)notes[note][0]==h&&J.push(notes[note][1]);J=J.sort(Si);E=$[h][1];if(h==R){Wa=q-V;if(E==1)var Q=
Y[1][1];else if(E==0)Q=Y[0][1];else if(E==3)Q=Y[3][1];else if(E==2)Q=Y[2][1];else if(E==4)Q=Y[4][1];else if(E==5)Q=Y[5][1];var wa=true,L=[]}if(h==T)var Kb=true,gf=[];P=$[h][0];if(E==0)n=Y[0];else if(E==1)n=Y[1];else if(E==2)n=Y[2];else if(E==3)n=Y[3];else if(E==4)n=Y[4];else if(E==5)n=Y[5];E=P.split(" ");P=0;M[h]=[];for(t=0;P<E.length;){var W=0;if(E[P].length>=n[0]){W=E[P];if(n[3]==1)W=W.toUpperCase();var oa=W,pa=[];if(yh)for(note in J)if(J[note]>=$[h][0].length-W.length){oa=oa.substr(0,J[note]-t+
pa.length)+" "+oa.substr(J[note]-t+pa.length);Ri(n[1],q,J[note]-t+pa.length,e,h,f);pa.push(J[note])}e.fillText(oa,n[1]+f,q-N);M[h].push(W.length);q+=V;if(n[4]==2){M[h].push(0);q+=V}P++;wa&&L.push(W.length);Kb&&gf.push(W.length)}else if(E.slice(P).join().length<n[0]){W=E.slice(P).join(" ");if($[h][1]==2&&s!=""&&$[h][0].toUpperCase()==s.toUpperCase())W+=" (Cont'd)";if($[h][1]==0)s="";if(n[3]==1)W=W.toUpperCase();if(n[2]==1)e.textAlign="right";oa=W;pa=[];if(yh)for(note in J)if(J[note]>=$[h][0].length-
W.length){oa=oa.substr(0,J[note]-t+pa.length)+" "+oa.substr(J[note]-t+pa.length);Ri(n[1],q,J[note]-t+pa.length,e,h,f);pa.push(J[note])}W!=""&&e.fillText(oa,n[1]+f,q-N);e.textAlign="left";P=E.length;M[h].push(W.length);q+=V;if(n[4]==2){M[h].push(0);q+=V}wa&&L.push(W.length);Kb&&gf.push(W.length)}else{for(W=0;E.slice(P,P+W).join(" ").length<n[0];){newLineToPrint=E.slice(P,P+W).join(" ");W++}if(n[3]==1)newLineToPrint=newLineToPrint.toUpperCase();oa=newLineToPrint;pa=[];if(yh)for(note in J)if(J[note]>=
t&&J[note]<=t+newLineToPrint.length){oa=oa.substr(0,J[note]-t+pa.length)+" "+oa.substr(J[note]-t+pa.length);Ri(n[1],q,J[note]-t+pa.length,e,h,f);pa.push(J[note])}t+=newLineToPrint.length+1;e.fillText(oa,n[1]+f,q-N);M[h].push(newLineToPrint.length);q+=V;P+=W-1;wa&&L.push(newLineToPrint.length);Kb&&gf.push(newLineToPrint.length)}if($[h][1]==3&&h+1!=$.length&&$[h+1][1]==4&&M[h][M[h].length-1]==0){M[h].pop();q-=V}if(z&&M[h].length==K[p][2]){$[h][1]==3&&e.fillText("(MORE)",Y[2][1]+f,q-N);q=72*V*(p+1)+
11*V;if($[h][1]==3){e.fillText(s.toUpperCase()+" (CONT'D)",Y[2][1]+f,q-N);q+=V}p++;z=false;R==h&&g.push(p)}}Kb=wa=false}if($[h][1]==2)s=$[h][0];if(h==R){wh=A;var cc=J}if(p>=K.length)p=K.length-2}for(;$.length<M.length;)M.pop();J=(new Date).getMilliseconds()-Ph;n=false;if(J>0&&J<500)n=true;if(J<0&&J<-500)n=true;if(L){var Na=0;for(J=L[Na];O>J;){Na++;J+=1+L[Na]}J-=L[Na];wa=0;for(note in cc){Kb=cc[note];Kb<O&&Kb>J&&Kb<J+L[Na]&&wa++}note=null;if(g.length>0&&Na>=K[g[0]-1][2]){Wa=72*g[0]*V+9*V;if($[R][1]==
3){Wa+=V*2;Na-=K[g[0]-1][2]}else if($[R][1]==1){Na-=K[g[0]-1][2];Wa+=V}}if(n){f=Q+(O-J+wa)*U+f;if($[R][1]==5)f-=$[R][0].length*U;xh=2+Wa+Na*V-N;try{e.fillRect(f,xh,2,17)}catch(Ti){}}Na=null}e.lineWidth=4;e.strokeStyle="#ddd";e.beginPath();e.moveTo(2,2);e.lineTo(2,document.getElementById("canvas").height-1);e.lineTo(Z,document.getElementById("canvas").height-1);e.lineTo(Z,2);e.stroke();e.fillStyle="#ccc";e.fillRect(2,document.getElementById("canvas").height-24,Z-25,24);e.strokeStyle="#aaa";e.lineWidth=
1;e.beginPath();e.moveTo(1.5,document.getElementById("canvas").height-25.5);e.lineTo(1.5,document.getElementById("canvas").height-1.5);e.lineTo(Z-23.5,document.getElementById("canvas").height-1.5);e.lineTo(Z-23.5,document.getElementById("canvas").height-25.5);e.closePath();e.strokeStyle="#999";e.stroke();e.beginPath();e.moveTo(0.5,document.getElementById("canvas").height-24.5);e.lineTo(0.5,document.getElementById("canvas").height-0.5);e.lineTo(Z-22.5,document.getElementById("canvas").height-0.5);
e.lineTo(Z-22.5,document.getElementById("canvas").height-24.5);e.closePath();e.strokeStyle="#333";e.stroke();f="Page "+vh+" of "+(K.length+1);e.font="10pt sans-serif";e.fillStyle="#000";e.fillText(f,Z-150,document.getElementById("canvas").height-8);e.fillText(["Enter : Action  --  Tab : Character","Enter : Character  --  Tab : Slugline","Enter : Dialog  --  Tab : Action","Enter : Character  --  Tab : Parenthetical","Enter : Dialog  --  Tab : Dialog","Enter : Slugline  --  Tab : Slugline"][$[R][1]],
15,document.getElementById("canvas").height-8);e.fillText("Scene "+wh+" of "+Jh.length,Z/2-30,document.getElementById("canvas").height-8);e.font=Nh;f=document.getElementById("canvas").height;e.fillStyle="#333";e.fillRect(Z-21,f-39,21,20);e.fillStyle="#ddd";e.fillRect(Z-19,f-37,16,16);e.beginPath();e.moveTo(Z-16,f-24);e.lineTo(Z-10.5,f-35);e.lineTo(Z-5,f-24);e.closePath();e.fillStyle="#333";e.fill();e.fillStyle="#333";e.fillRect(Z-21,f-19,20,20);e.fillStyle="#ddd";e.fillRect(Z-19,f-18,16,16);e.beginPath();
e.moveTo(Z-16,f-15);e.lineTo(Z-10.5,f-4);e.lineTo(Z-5,f-15);e.closePath();e.fillStyle="#333";e.fill();f=e.createLinearGradient(Z-15,0,Z,0);f.addColorStop(0,"#5587c4");f.addColorStop(0.8,"#95a7d4");e.strokeStyle="#333";e.fillStyle=f;Q=document.getElementById("canvas").height;L=(K.length+1)*72*V+40;f=Q/L*(Q-39);if(f<20)f=20;if(f>=Q-39)f=Q-39;Q=N/(L-Q)*(Q-39-f);e.fillRect(Z-18.5,Q+8,16,f-17);e.strokeRect(Z-18.5,Q+8,16,f-17);e.beginPath();e.arc(Z-10.5,Q+9,8,0,Math.PI,true);e.fill();e.stroke();e.beginPath();
e.arc(Z-10.5,Q+f-11,8,0,Math.PI,false);e.fill();e.stroke();for(L=Q;L<Q+f;){cc=e.createRadialGradient(Z,L+10,4,Z+200,L,10);cc.addColorStop(0,"rgba(100,140,210,0.4)");cc.addColorStop(0.4,"rgba(180,160,240,0.4)");cc.addColorStop(1,"rgba(1,159,98,0)");e.fillStyle=cc;e.fillRect(Z-18.5,Q+8,16,f-17);L+=20}e.beginPath();e.moveTo(Z-7,Q+9);e.lineTo(Z-7,Q+f-10);e.lineCap="round";e.strokeStyle="rgba(200,220,255,0.3)";e.lineWidth=4;e.stroke();e.beginPath();e.moveTo(Z-9,Q+10);e.lineTo(Z-9,Q+f-10);e.strokeStyle=
"rgba(200,220,255,0.1)";e.lineWidth=2;e.stroke();if(a)a:{K=[];for(e=i=0;i<$.length;){for(lineCount=e;lineCount+M[i].length<56;){lineCount+=M[i].length;i++;if(i==$.length)break a}e=f=0;if($[i][1]==3&&lineCount<54&&lineCount+M[i].length>57){f=55-lineCount;e=1-f;lineCount=56}else if($[i][1]==3&&lineCount<54&&M[i].length>4){f=M[i].length-3;e=1-f;lineCount=55}else if($[i][1]==1&&lineCount<55&&lineCount+M[i].length>57){f=55-lineCount;e=1-f;lineCount=56}else if($[i][1]==1&&lineCount<55&&M[i].length>4){f=
M[i].length-3;e=1-f;lineCount=55}else for(;$[i-1][1]==0||$[i-1][1]==2||$[i-1][1]==4;){i--;lineCount-=M[i].length}K.push([i,lineCount,f])}}Fh&&R<T&&Eh<40&&gi(-20);Fh&&R>T&&Eh>document.getElementById("canvas").height-50&&gi(20);if(d=="enter")xh>document.getElementById("canvas").height&&gi(600);else if(d)if(2+Wa+Na*V-N>document.getElementById("canvas").height-60)gi(45);else xh<45&&gi(-45)}for(h=0;h<=5;h++)He(le(Wh,"format"+h),$[R][1]==h?true:false)};
