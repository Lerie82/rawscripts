function aa(){return function(){}}function ba(a){return function(d){this[a]=d}}function ca(a){return function(){return this[a]}}function k(a){return function(){return a}}var l,da=da||{},m=this;function ea(a,d){for(var e=a.split("."),f=d||m,g;g=e.shift();)if(f[g])f=f[g];else return null;return f}function fa(){}function ga(a){a.A=function(){return a.We||(a.We=new a)}}
function ha(a){var d=typeof a;if(d=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(d=="function"&&typeof a.call=="undefined")return"object";return d}function p(a){return ha(a)=="array"}function ia(a){var d=ha(a);return d=="array"||d=="object"&&typeof a.length=="number"}function r(a){return typeof a=="string"}function ja(a){return typeof a=="number"}function ka(a){return ha(a)=="function"}function la(a){a=ha(a);return a=="object"||a=="array"||a=="function"}function ma(a){return a[na]||(a[na]=++oa)}
var na="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),oa=0;function pa(a,d){var e=d||m;if(arguments.length>2){var f=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(g,f);return a.apply(e,g)}}else return function(){return a.apply(e,arguments)}}
function qa(a){var d=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);e.unshift.apply(e,d);return a.apply(this,e)}}var ra=Date.now||function(){return+new Date};function z(a,d){function e(){}e.prototype=d.prototype;a.a=d.prototype;a.prototype=new e;a.prototype.constructor=a};function ua(a){for(var d=1;d<arguments.length;d++){var e=String(arguments[d]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a}function va(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function wa(a){return/^[\s\xa0]*$/.test(a)}function xa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function ya(a,d){if(d)return a.replace(za,"&amp;").replace(Aa,"&lt;").replace(Ba,"&gt;").replace(Da,"&quot;");else{if(!Ea.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(za,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Aa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ba,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Da,"&quot;");return a}}var za=/&/g,Aa=/</g,Ba=/>/g,Da=/\"/g,Ea=/[&<>\"]/;
function Fa(a,d){for(var e=d.length,f=0;f<e;f++){var g=e==1?d:d.charAt(f);if(a.charAt(0)==g&&a.charAt(a.length-1)==g)return a.substring(1,a.length-1)}return a}function Ga(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ha(a,d){for(var e=0,f=xa(String(a)).split("."),g=xa(String(d)).split("."),h=Math.max(f.length,g.length),n=0;e==0&&n<h;n++){var o=f[n]||"",q=g[n]||"",s=RegExp("(\\d*)(\\D*)","g"),A=RegExp("(\\d*)(\\D*)","g");do{var u=s.exec(o)||["","",""],t=A.exec(q)||["","",""];if(u[0].length==0&&t[0].length==0)break;e=Ia(u[1].length==0?0:parseInt(u[1],10),t[1].length==0?0:parseInt(t[1],10))||Ia(u[2].length==0,t[2].length==0)||Ia(u[2],t[2])}while(e==0)}return e}
function Ia(a,d){if(a<d)return-1;else if(a>d)return 1;return 0};var Ja,Ka,La,Ma,Na,Oa,Pa;function Qa(){return m.navigator?m.navigator.userAgent:null}function Ra(){return m.navigator}Na=Ma=La=Ka=Ja=false;var Sa;if(Sa=Qa()){var Ta=Ra();Ja=Sa.indexOf("Opera")==0;Ka=!Ja&&Sa.indexOf("MSIE")!=-1;Ma=(La=!Ja&&Sa.indexOf("WebKit")!=-1)&&Sa.indexOf("Mobile")!=-1;Na=!Ja&&!La&&Ta.product=="Gecko"}var Ua=Ja,B=Ka,C=Na,D=La,Va=Ma,Wa,Xa=Ra();Wa=Xa&&Xa.platform||"";Oa=Wa.indexOf("Mac")!=-1;Pa=Wa.indexOf("Win")!=-1;
var Za=Oa,$a=!!Ra()&&(Ra().appVersion||"").indexOf("X11")!=-1,ab;a:{var bb="",cb;if(Ua&&m.opera){var db=m.opera.version;bb=typeof db=="function"?db():db}else{if(C)cb=/rv\:([^\);]+)(\)|;)/;else if(B)cb=/MSIE\s+([^\);]+)(\)|;)/;else if(D)cb=/WebKit\/(\S+)/;if(cb){var eb=cb.exec(Qa());bb=eb?eb[1]:""}}if(B){var fb,hb=m.document;fb=hb?hb.documentMode:undefined;if(fb>parseFloat(bb)){ab=String(fb);break a}}ab=bb}var ib={};function jb(a){return ib[a]||(ib[a]=Ha(ab,a)>=0)};function kb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}z(kb,Error);kb.prototype.name="CustomError";function lb(a,d){d.unshift(a);kb.call(this,ua.apply(null,d));d.shift();this.Bf=a}z(lb,kb);lb.prototype.name="AssertionError";function mb(a,d){if(!a){var e=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(d){f+=": "+d;var g=e}throw new lb(""+f,g||[]);}return a}function nb(a){throw new lb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var ob=Array.prototype,pb=ob.indexOf?function(a,d,e){mb(a.length!=null);return ob.indexOf.call(a,d,e)}:function(a,d,e){e=e==null?0:e<0?Math.max(0,a.length+e):e;if(r(a)){if(!r(d)||d.length!=1)return-1;return a.indexOf(d,e)}for(e=e;e<a.length;e++)if(e in a&&a[e]===d)return e;return-1},qb=ob.forEach?function(a,d,e){mb(a.length!=null);ob.forEach.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=r(a)?a.split(""):a,h=0;h<f;h++)h in g&&d.call(e,g[h],h,a)},rb=ob.filter?function(a,d,e){mb(a.length!=null);
return ob.filter.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=[],h=0,n=r(a)?a.split(""):a,o=0;o<f;o++)if(o in n){var q=n[o];if(d.call(e,q,o,a))g[h++]=q}return g},sb=ob.map?function(a,d,e){mb(a.length!=null);return ob.map.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=Array(f),h=r(a)?a.split(""):a,n=0;n<f;n++)if(n in h)g[n]=d.call(e,h[n],n,a);return g},tb=ob.every?function(a,d,e){mb(a.length!=null);return ob.every.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=r(a)?a.split(""):a,h=0;h<f;h++)if(h in
g&&!d.call(e,g[h],h,a))return false;return true};function ub(a,d){return pb(a,d)>=0}function vb(a,d){var e=pb(a,d),f;if(f=e>=0){mb(a.length!=null);ob.splice.call(a,e,1)}return f}function wb(){return ob.concat.apply(ob,arguments)}function xb(a){if(p(a))return wb(a);else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e];return d}}
function yb(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(p(e)||(f=ia(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var g=a.length,h=e.length,n=0;n<h;n++)a[g+n]=e[n];else a.push(e)}}function zb(a){mb(a.length!=null);return ob.splice.apply(a,Ab(arguments,1))}function Ab(a,d,e){mb(a.length!=null);return arguments.length<=2?ob.slice.call(a,d):ob.slice.call(a,d,e)};var Bb=[];var Cb,Db=!B||jb("9"),Eb=B&&!jb("8");function Fb(){}Fb.prototype.yc=false;Fb.prototype.L=function(){if(!this.yc){this.yc=true;this.f()}};Fb.prototype.f=aa();function Gb(a,d){this.type=a;this.currentTarget=this.target=d}z(Gb,Fb);l=Gb.prototype;l.f=function(){delete this.type;delete this.target;delete this.currentTarget};l.Ua=false;l.Ib=true;l.stopPropagation=function(){this.Ua=true};l.preventDefault=function(){this.Ib=false};function Hb(a,d){a&&this.jb(a,d)}z(Hb,Gb);var Ib=[1,4,2];l=Hb.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=false;l.altKey=false;l.shiftKey=false;l.metaKey=false;l.he=false;l.ha=null;
l.jb=function(a,d){var e=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=d;var f=a.relatedTarget;if(f){if(C)try{f=f.nodeName&&f}catch(g){f=null}}else if(e=="mouseover")f=a.fromElement;else if(e=="mouseout")f=a.toElement;this.relatedTarget=f;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(e=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.he=Za?a.metaKey:a.ctrlKey;this.ha=a;delete this.Ib;delete this.Ua};function Jb(a,d){return Db?a.ha.button==d:a.type=="click"?d==0:!!(a.ha.button&Ib[d])}
l.stopPropagation=function(){Hb.a.stopPropagation.call(this);if(this.ha.stopPropagation)this.ha.stopPropagation();else this.ha.cancelBubble=true};l.preventDefault=function(){Hb.a.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Eb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(d){}}};l.f=function(){Hb.a.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.ha=null};function Kb(){}var Lb=0;l=Kb.prototype;l.key=0;l.ob=false;l.rd=false;l.jb=function(a,d,e,f,g,h){if(ka(a))this.Nd=true;else if(a&&a.handleEvent&&ka(a.handleEvent))this.Nd=false;else throw Error("Invalid listener argument");this.lb=a;this.ie=d;this.src=e;this.type=f;this.capture=!!g;this.ac=h;this.rd=false;this.key=++Lb;this.ob=false};l.handleEvent=function(a){if(this.Nd)return this.lb.call(this.ac||this.src,a);return this.lb.handleEvent.call(this.lb,a)};function Mb(a,d){this.Xd=d;this.Ka=[];if(a>this.Xd)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var e=0;e<a;e++)this.Ka.push(this.na?this.na():{})}z(Mb,Fb);Mb.prototype.na=null;Mb.prototype.wd=null;function Nb(a){if(a.Ka.length)return a.Ka.pop();return a.na?a.na():{}}function Ob(a,d){a.Ka.length<a.Xd?a.Ka.push(d):Pb(a,d)}function Pb(a,d){if(a.wd)a.wd(d);else if(la(d))if(ka(d.L))d.L();else for(var e in d)delete d[e]}
Mb.prototype.f=function(){Mb.a.f.call(this);for(var a=this.Ka;a.length;)Pb(this,a.pop());delete this.Ka};var Qb;var Rb=(Qb="ScriptEngine"in m&&m.ScriptEngine()=="JScript")?m.ScriptEngineMajorVersion()+"."+m.ScriptEngineMinorVersion()+"."+m.ScriptEngineBuildVersion():"0";var Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc;
(function(){function a(){return{S:0,ga:0}}function d(){return[]}function e(){function t(E){return n.call(t.src,t.key,E)}return t}function f(){return new Kb}function g(){return new Hb}var h=Qb&&!(Ha(Rb,"5.7")>=0),n;Xb=function(t){n=t};if(h){Sb=function(){return Nb(o)};Tb=function(t){Ob(o,t)};Ub=function(){return Nb(q)};Vb=function(t){Ob(q,t)};Wb=function(){return Nb(s)};Yb=function(){Ob(s,e())};Zb=function(){return Nb(A)};$b=function(t){Ob(A,t)};ac=function(){return Nb(u)};bc=function(t){Ob(u,t)};
var o=new Mb(0,600);o.na=a;var q=new Mb(0,600);q.na=d;var s=new Mb(0,600);s.na=e;var A=new Mb(0,600);A.na=f;var u=new Mb(0,600);u.na=g}else{Sb=a;Tb=fa;Ub=d;Vb=fa;Wb=e;Yb=fa;Zb=f;$b=fa;ac=g;bc=fa}})();function cc(a,d,e){for(var f in a)d.call(e,a[f],f,a)}function ec(a){var d=[],e=0;for(var f in a)d[e++]=a[f];return d}function fc(a){var d=[],e=0;for(var f in a)d[e++]=f;return d}function gc(a){for(var d in a)return false;return true}function hc(a,d){var e;if(e=d in a)delete a[d];return e}function ic(a,d,e){if(d in a)throw Error('The object already contains the key "'+d+'"');a[d]=e}var jc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function kc(a){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<jc.length;g++){d=jc[g];if(Object.prototype.hasOwnProperty.call(e,d))a[d]=e[d]}}}function lc(){var a=arguments.length;if(a==1&&p(arguments[0]))return lc.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<a;e+=2)d[arguments[e]]=arguments[e+1];return d}
function mc(){var a=arguments.length;if(a==1&&p(arguments[0]))return mc.apply(null,arguments[0]);for(var d={},e=0;e<a;e++)d[arguments[e]]=true;return d};var nc={},oc={},qc={},rc={};
function F(a,d,e,f,g){if(d)if(p(d)){for(var h=0;h<d.length;h++)F(a,d[h],e,f,g);return null}else{f=!!f;var n=oc;d in n||(n[d]=Sb());n=n[d];if(!(f in n)){n[f]=Sb();n.S++}n=n[f];var o=ma(a),q;n.ga++;if(n[o]){q=n[o];for(h=0;h<q.length;h++){n=q[h];if(n.lb==e&&n.ac==g){if(n.ob)break;return q[h].key}}}else{q=n[o]=Ub();n.S++}h=Wb();h.src=a;n=Zb();n.jb(e,h,a,d,f,g);e=n.key;h.key=e;q.push(n);nc[e]=n;qc[o]||(qc[o]=Ub());qc[o].push(n);if(a.addEventListener){if(a==m||!a.vd)a.addEventListener(d,h,f)}else a.attachEvent(sc(d),
h);return e}else throw Error("Invalid event type");}function tc(a,d,e,f,g){if(p(d)){for(var h=0;h<d.length;h++)tc(a,d[h],e,f,g);return null}f=!!f;a=uc(a,d,f);if(!a)return false;for(h=0;h<a.length;h++)if(a[h].lb==e&&a[h].capture==f&&a[h].ac==g)return vc(a[h].key);return false}
function vc(a){if(!nc[a])return false;var d=nc[a];if(d.ob)return false;var e=d.src,f=d.type,g=d.ie,h=d.capture;if(e.removeEventListener){if(e==m||!e.vd)e.removeEventListener(f,g,h)}else e.detachEvent&&e.detachEvent(sc(f),g);e=ma(e);g=oc[f][h][e];if(qc[e]){var n=qc[e];vb(n,d);n.length==0&&delete qc[e]}d.ob=true;g.be=true;wc(f,h,e,g);delete nc[a];return true}
function wc(a,d,e,f){if(!f.gc)if(f.be){for(var g=0,h=0;g<f.length;g++)if(f[g].ob){var n=f[g].ie;n.src=null;Yb(n);$b(f[g])}else{if(g!=h)f[h]=f[g];h++}f.length=h;f.be=false;if(h==0){Vb(f);delete oc[a][d][e];oc[a][d].S--;if(oc[a][d].S==0){Tb(oc[a][d]);delete oc[a][d];oc[a].S--}if(oc[a].S==0){Tb(oc[a]);delete oc[a]}}}}
function xc(a,d,e){var f=0,g=a==null,h=d==null,n=e==null;e=!!e;if(g)cc(qc,function(q){for(var s=q.length-1;s>=0;s--){var A=q[s];if((h||d==A.type)&&(n||e==A.capture)){vc(A.key);f++}}});else{a=ma(a);if(qc[a]){a=qc[a];for(g=a.length-1;g>=0;g--){var o=a[g];if((h||d==o.type)&&(n||e==o.capture)){vc(o.key);f++}}}}return f}function uc(a,d,e){var f=oc;if(d in f){f=f[d];if(e in f){f=f[e];a=ma(a);if(f[a])return f[a]}}return null}
var yc="click",zc="mouseover",Ac="mouseout",Bc="keydown",Cc="keyup",Dc="blur",Ec="focus";function sc(a){if(a in rc)return rc[a];return rc[a]="on"+a}function Fc(a,d,e,f,g){var h=1;d=ma(d);if(a[d]){a.ga--;a=a[d];if(a.gc)a.gc++;else a.gc=1;try{for(var n=a.length,o=0;o<n;o++){var q=a[o];if(q&&!q.ob)h&=Gc(q,g)!==false}}finally{a.gc--;wc(e,f,d,a)}}return Boolean(h)}function Gc(a,d){var e=a.handleEvent(d);a.rd&&vc(a.key);return e}
function Hc(a,d){if(!nc[a])return true;var e=nc[a],f=e.type,g=oc;if(!(f in g))return true;g=g[f];var h,n;if(Cb===undefined)Cb=B&&!m.addEventListener;if(Cb){h=d||ea("window.event");var o=true in g,q=false in g;if(o){if(h.keyCode<0||h.returnValue!=undefined)return true;a:{var s=false;if(h.keyCode==0)try{h.keyCode=-1;break a}catch(A){s=true}if(s||h.returnValue==undefined)h.returnValue=true}}s=ac();s.jb(h,this);h=true;try{if(o){for(var u=Ub(),t=s.currentTarget;t;t=t.parentNode)u.push(t);n=g[true];n.ga=
n.S;for(var E=u.length-1;!s.Ua&&E>=0&&n.ga;E--){s.currentTarget=u[E];h&=Fc(n,u[E],f,true,s)}if(q){n=g[false];n.ga=n.S;for(E=0;!s.Ua&&E<u.length&&n.ga;E++){s.currentTarget=u[E];h&=Fc(n,u[E],f,false,s)}}}else h=Gc(e,s)}finally{if(u){u.length=0;Vb(u)}s.L();bc(s)}return h}f=new Hb(d,this);try{h=Gc(e,f)}finally{f.L()}return h}Xb(Hc);Bb[Bb.length]=function(a){Hc=a(Hc);Xb(Hc)};var Ic,Jc=!B||jb("9"),Kc=B&&!jb("9");function Lc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Mc(a){var d=Lc(a),e;e=Ab(arguments,1);for(var f=0,g=0;g<e.length;g++)if(!ub(d,e[g])){d.push(e[g]);f++}e=f==e.length;a.className=d.join(" ");return e}function Nc(a){var d=Lc(a),e;e=Ab(arguments,1);for(var f=0,g=0;g<d.length;g++)if(ub(e,d[g])){zb(d,g--,1);f++}e=f==e.length;a.className=d.join(" ");return e};function Oc(a,d){this.x=a!==undefined?a:0;this.y=d!==undefined?d:0}Oc.prototype.Fa=function(){return new Oc(this.x,this.y)};Oc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Pc(a,d){return new Oc(a.x-d.x,a.y-d.y)};function Qc(a,d){this.width=a;this.height=d}function Rc(a,d){if(a==d)return true;if(!a||!d)return false;return a.width==d.width&&a.height==d.height}Qc.prototype.Fa=function(){return new Qc(this.width,this.height)};Qc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};Qc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Qc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Sc(a){return a?new Tc(Uc(a)):Ic||(Ic=new Tc)}function G(a){return r(a)?document.getElementById(a):a}
function Vc(a,d,e,f){a=f||a;d=d&&d!="*"?d.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!D||Wc(document)||jb("528"))&&(d||e))return a.querySelectorAll(d+(e?"."+e:""));if(e&&a.getElementsByClassName){a=a.getElementsByClassName(e);if(d){f={};for(var g=0,h=0,n;n=a[h];h++)if(d==n.nodeName)f[g++]=n;f.length=g;return f}else return a}a=a.getElementsByTagName(d||"*");if(e){f={};for(h=g=0;n=a[h];h++){d=n.className;if(typeof d.split=="function"&&ub(d.split(/\s+/),e))f[g++]=n}f.length=g;return f}else return a}
function Xc(a,d){cc(d,function(e,f){if(f=="style")a.style.cssText=e;else if(f=="class")a.className=e;else if(f=="for")a.htmlFor=e;else if(f in Yc)a.setAttribute(Yc[f],e);else a[f]=e})}var Yc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Zc(a){var d=a.document;if(D&&!jb("500")&&!Va){if(typeof a.innerHeight=="undefined")a=window;d=a.innerHeight;var e=a.document.documentElement.scrollHeight;if(a==a.top)if(e<d)d-=15;return new Qc(a.innerWidth,d)}a=Wc(d);if(Ua&&!jb("9.50"))a=false;a=a?d.documentElement:d.body;return new Qc(a.clientWidth,a.clientHeight)}function $c(a,d,e,f){function g(n){if(n)d.appendChild(r(n)?a.createTextNode(n):n)}for(f=f;f<e.length;f++){var h=e[f];ia(h)&&!(la(h)&&h.nodeType>0)?qb(ad(h)?xb(h):h,g):g(h)}}
function Wc(a){return a.compatMode=="CSS1Compat"}function bd(a){for(var d;d=a.firstChild;)a.removeChild(d)}function cd(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function dd(a){for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function ed(a,d){if(a.contains&&d.nodeType==1)return a==d||a.contains(d);if(typeof a.compareDocumentPosition!="undefined")return a==d||Boolean(a.compareDocumentPosition(d)&16);for(;d&&a!=d;)d=d.parentNode;return d==a}
function Uc(a){return a.nodeType==9?a:a.ownerDocument||a.document}function fd(a,d){if("textContent"in a)a.textContent=d;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=d}else{bd(a);a.appendChild(Uc(a).createTextNode(d))}}var gd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},hd={IMG:" ",BR:"\n"};function jd(a){var d=a.getAttributeNode("tabindex");if(d&&d.specified){a=a.tabIndex;return ja(a)&&a>=0}return false}
function kd(a){if(Kc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var d=[];ld(a,d,true);a=d.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");B||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function ld(a,d,e){if(!(a.nodeName in gd))if(a.nodeType==3)e?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else if(a.nodeName in hd)d.push(hd[a.nodeName]);else for(a=a.firstChild;a;){ld(a,d,e);a=a.nextSibling}}
function ad(a){if(a&&typeof a.length=="number")if(la(a))return typeof a.item=="function"||typeof a.item=="string";else if(ka(a))return typeof a.item=="function";return false}function Tc(a){this.p=a||m.document||document}l=Tc.prototype;l.M=Sc;function md(a){return a.p}l.d=function(a){return r(a)?this.p.getElementById(a):a};
l.k=function(){var a=this.p,d=arguments,e=d[0],f=d[1];if(!Jc&&f&&(f.name||f.type)){e=["<",e];f.name&&e.push(' name="',ya(f.name),'"');if(f.type){e.push(' type="',ya(f.type),'"');var g={};kc(g,f);f=g;delete f.type}e.push(">");e=e.join("")}e=a.createElement(e);if(f)if(r(f))e.className=f;else p(f)?Mc.apply(null,[e].concat(f)):Xc(e,f);d.length>2&&$c(a,e,d,2);return e};l.createElement=function(a){return this.p.createElement(a)};l.createTextNode=function(a){return this.p.createTextNode(a)};
function nd(a){a=!D&&Wc(a.p)?a.p.documentElement:a.p.body;return new Oc(a.scrollLeft,a.scrollTop)}l.appendChild=function(a,d){a.appendChild(d)};l.je=bd;l.removeNode=cd;l.Cd=dd;l.contains=ed;function od(a,d,e,f){this.top=a;this.right=d;this.bottom=e;this.left=f}od.prototype.Fa=function(){return new od(this.top,this.right,this.bottom,this.left)};od.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};od.prototype.contains=function(a){return!this||!a?false:a instanceof od?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function pd(a,d,e,f){this.left=a;this.top=d;this.width=e;this.height=f}pd.prototype.Fa=function(){return new pd(this.left,this.top,this.width,this.height)};pd.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
pd.prototype.contains=function(a){return a instanceof pd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function qd(a,d){var e=Uc(a);if(e.defaultView&&e.defaultView.getComputedStyle)if(e=e.defaultView.getComputedStyle(a,""))return e[d];return null}function rd(a,d){return qd(a,d)||(a.currentStyle?a.currentStyle[d]:null)||a.style[d]}function sd(a,d,e){var f,g=C&&(Za||$a)&&jb("1.9");if(d instanceof Oc){f=d.x;d=d.y}else{f=d;d=e}a.style.left=td(f,g);a.style.top=td(d,g)}function ud(a){a=a?a.nodeType==9?a:Uc(a):document;var d;if(d=B){d=Sc(a);d=!Wc(d.p)}if(d)return a.body;return a.documentElement}
function vd(a){var d=a.getBoundingClientRect();if(B){a=a.ownerDocument;d.left-=a.documentElement.clientLeft+a.body.clientLeft;d.top-=a.documentElement.clientTop+a.body.clientTop}return d}
function wd(a){if(B)return a.offsetParent;var d=Uc(a),e=rd(a,"position"),f=e=="fixed"||e=="absolute";for(a=a.parentNode;a&&a!=d;a=a.parentNode){e=rd(a,"position");f=f&&e=="static"&&a!=d.documentElement&&a!=d.body;if(!f&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||e=="fixed"||e=="absolute"))return a}return null}
function xd(a){var d=new od(0,Infinity,Infinity,0),e=Sc(a),f=e.p.body,g=!D&&Wc(e.p)?e.p.documentElement:e.p.body,h;for(a=a;a=wd(a);)if((!B||a.clientWidth!=0)&&(!D||a.clientHeight!=0||a!=f)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&rd(a,"overflow")!="visible"){var n=yd(a),o;o=a;if(C&&!jb("1.9")){var q=parseFloat(qd(o,"borderLeftWidth"));if(zd(o)){var s=o.offsetWidth-o.clientWidth-q-parseFloat(qd(o,"borderRightWidth"));q+=s}o=new Oc(q,parseFloat(qd(o,"borderTopWidth")))}else o=
new Oc(o.clientLeft,o.clientTop);n.x+=o.x;n.y+=o.y;d.top=Math.max(d.top,n.y);d.right=Math.min(d.right,n.x+a.clientWidth);d.bottom=Math.min(d.bottom,n.y+a.clientHeight);d.left=Math.max(d.left,n.x);h=h||a!=g}f=g.scrollLeft;g=g.scrollTop;if(D){d.left+=f;d.top+=g}else{d.left=Math.max(d.left,f);d.top=Math.max(d.top,g)}if(!h||D){d.right+=f;d.bottom+=g}e=Zc(e.p.parentWindow||e.p.defaultView||window);d.right=Math.min(d.right,f+e.width);d.bottom=Math.min(d.bottom,g+e.height);return d.top>=0&&d.left>=0&&d.bottom>
d.top&&d.right>d.left?d:null}
function yd(a){var d,e=Uc(a),f=rd(a,"position"),g=C&&e.getBoxObjectFor&&!a.getBoundingClientRect&&f=="absolute"&&(d=e.getBoxObjectFor(a))&&(d.screenX<0||d.screenY<0),h=new Oc(0,0),n=ud(e);if(a==n)return h;if(a.getBoundingClientRect){d=vd(a);a=nd(Sc(e));h.x=d.left+a.x;h.y=d.top+a.y}else if(e.getBoxObjectFor&&!g){d=e.getBoxObjectFor(a);a=e.getBoxObjectFor(n);h.x=d.screenX-a.screenX;h.y=d.screenY-a.screenY}else{d=a;do{h.x+=d.offsetLeft;h.y+=d.offsetTop;if(d!=a){h.x+=d.clientLeft||0;h.y+=d.clientTop||
0}if(D&&rd(d,"position")=="fixed"){h.x+=e.body.scrollLeft;h.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=a);if(Ua||D&&f=="absolute")h.y-=e.body.offsetTop;for(d=a;(d=wd(d))&&d!=e.body&&d!=n;){h.x-=d.scrollLeft;if(!Ua||d.tagName!="TR")h.y-=d.scrollTop}}return h}function Ad(a,d,e){var f=yd(a);if(d instanceof Oc){e=d.y;d=d.x}sd(a,a.offsetLeft+(d-f.x),a.offsetTop+(e-f.y))}
function Bd(a,d,e){if(d instanceof Qc){e=d.height;d=d.width}else{if(e==undefined)throw Error("missing height argument");e=e}a.style.width=td(d,true);a.style.height=td(e,true)}function td(a,d){if(typeof a=="number")a=(d?Math.round(a):a)+"px";return a}
function Cd(a){var d=Ua&&!jb("10");if(rd(a,"display")!="none")return d?new Qc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new Qc(a.offsetWidth,a.offsetHeight);var e=a.style,f=e.display,g=e.visibility,h=e.position;e.visibility="hidden";e.position="absolute";e.display="inline";if(d){d=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{d=a.offsetWidth;a=a.offsetHeight}e.display=f;e.position=h;e.visibility=g;return new Qc(d,a)}
function Dd(a){var d=yd(a);a=Cd(a);return new pd(d.x,d.y,a.width,a.height)}function Ed(a,d){a.style.display=d?"":"none"}function zd(a){return"rtl"==rd(a,"direction")}var Fd=C?"MozUserSelect":D?"WebkitUserSelect":null;function Gd(a,d,e){e=!e?a.getElementsByTagName("*"):null;if(Fd){d=d?"none":"";a.style[Fd]=d;if(e){a=0;for(var f;f=e[a];a++)f.style[Fd]=d}}else if(B||Ua){d=d?"on":"";a.setAttribute("unselectable",d);if(e)for(a=0;f=e[a];a++)f.setAttribute("unselectable",d)}}var Hd={thin:2,medium:4,thick:6};
function Id(a,d){if((a.currentStyle?a.currentStyle[d+"Style"]:null)=="none")return 0;var e=a.currentStyle?a.currentStyle[d+"Width"]:null;if(e in Hd)return Hd[e];var f;if(/^\d+px?$/.test(e))f=parseInt(e,10);else{f=a.style.left;var g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=e;e=a.style.pixelLeft;a.style.left=f;a.runtimeStyle.left=g;f=e}return f};function Jd(){}z(Jd,Fb);l=Jd.prototype;l.vd=true;l.kc=null;l.cd=ba("kc");l.addEventListener=function(a,d,e,f){F(this,a,d,e,f)};l.removeEventListener=function(a,d,e,f){tc(this,a,d,e,f)};
l.dispatchEvent=function(a){a=a;if(r(a))a=new Gb(a,this);else if(a instanceof Gb)a.target=a.target||this;else{var d=a;a=new Gb(a.type,this);kc(a,d)}d=1;var e,f=a.type,g=oc;if(f in g){g=g[f];f=true in g;var h;if(f){e=[];for(h=this;h;h=h.kc)e.push(h);h=g[true];h.ga=h.S;for(var n=e.length-1;!a.Ua&&n>=0&&h.ga;n--){a.currentTarget=e[n];d&=Fc(h,e[n],a.type,true,a)&&a.Ib!=false}}if(false in g){h=g[false];h.ga=h.S;if(f)for(n=0;!a.Ua&&n<e.length&&h.ga;n++){a.currentTarget=e[n];d&=Fc(h,e[n],a.type,false,a)&&
a.Ib!=false}else for(e=this;!a.Ua&&e&&h.ga;e=e.kc){a.currentTarget=e;d&=Fc(h,e,a.type,false,a)&&a.Ib!=false}}a=Boolean(d)}else a=true;return a};l.f=function(){Jd.a.f.call(this);xc(this);this.kc=null};function Kd(a){this.ab=a||window;this.fc=F(this.ab,"resize",this.Se,false,this);this.mc=Zc(this.ab||window);if(D&&Pa||Ua&&this.ab.self!=this.ab.top)this.rc=window.setInterval(pa(this.td,this),Ld)}z(Kd,Jd);var Ld=500;l=Kd.prototype;l.fc=null;l.ab=null;l.mc=null;l.rc=null;l.f=function(){Kd.a.f.call(this);if(this.fc){vc(this.fc);this.fc=null}if(this.rc){window.clearInterval(this.rc);this.rc=null}this.mc=this.ab=null};l.Se=function(){this.td()};
l.td=function(){var a=Zc(this.ab||window);if(!Rc(a,this.mc)){this.mc=a;this.dispatchEvent("resize")}};function Md(a){this.c=a;this.Ud=F(this.c,C?"DOMMouseScroll":"mousewheel",this)}z(Md,Jd);var Nd="mousewheel";
Md.prototype.handleEvent=function(a){var d=0,e=0,f=0;a=a.ha;if(a.type=="mousewheel"){e=1;if(B||D&&(Pa||jb("532.0")))e=40;f=-a.wheelDelta/e;if(a.wheelDeltaX!==undefined){d=-a.wheelDeltaX/e;e=-a.wheelDeltaY/e}else e=f}else{f=a.detail;if(f>100)f=3;else if(f<-100)f=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)d=f;else e=f}if(ja(this.Yd))d=Math.min(Math.max(d,-this.Yd),this.Yd);if(ja(this.Zd))e=Math.min(Math.max(e,-this.Zd),this.Zd);d=new Od(f,a,d,e);try{this.dispatchEvent(d)}finally{d.L()}};
Md.prototype.f=function(){Md.a.f.call(this);vc(this.Ud);delete this.Ud};function Od(a,d,e,f){d&&this.jb(d,void 0);this.type=Nd;this.detail=a;this.xf=e;this.Fe=f}z(Od,Hb);function Pd(a,d,e,f,g){if(!B&&!(D&&jb("525")))return true;if(Za&&g)return Qd(a);if(g&&!f)return false;if(!e&&(d==17||d==18))return false;if(B&&f&&d==a)return false;switch(a){case 13:return true;case 27:return!D}return Qd(a)}
function Qd(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(D&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};function Rd(a,d){a&&Sd(this,a,d)}z(Rd,Jd);l=Rd.prototype;l.c=null;l.dc=null;l.Rc=null;l.ec=null;l.ya=-1;l.wa=-1;
var Td={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Ud={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Vd={61:187,
59:186},Wd=B||D&&jb("525");l=Rd.prototype;l.hb=function(a){if(D&&(this.ya==17&&!a.ctrlKey||this.ya==18&&!a.altKey))this.wa=this.ya=-1;if(Wd&&!Pd(a.keyCode,this.ya,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.wa=C&&a.keyCode in Vd?Vd[a.keyCode]:a.keyCode};l.Pe=function(){this.wa=this.ya=-1};
l.handleEvent=function(a){var d=a.ha,e,f;if(B&&a.type=="keypress"){e=this.wa;f=e!=13&&e!=27?d.keyCode:0}else if(D&&a.type=="keypress"){e=this.wa;f=d.charCode>=0&&d.charCode<63232&&Qd(e)?d.charCode:0}else if(Ua){e=this.wa;f=Qd(e)?d.keyCode:0}else{e=d.keyCode||this.wa;f=d.charCode||0;if(Za&&f==63&&!e)e=191}var g=e,h=d.keyIdentifier;if(e)if(e>=63232&&e in Td)g=Td[e];else{if(e==25&&a.shiftKey)g=9}else if(h&&h in Ud)g=Ud[h];a=g==this.ya;this.ya=g;d=new Xd(g,f,a,d);try{this.dispatchEvent(d)}finally{d.L()}};
l.d=ca("c");function Sd(a,d,e){a.ec&&a.detach();a.c=d;a.dc=F(a.c,"keypress",a,e);a.Rc=F(a.c,Bc,a.hb,e,a);a.ec=F(a.c,Cc,a.Pe,e,a)}l.detach=function(){if(this.dc){vc(this.dc);vc(this.Rc);vc(this.ec);this.ec=this.Rc=this.dc=null}this.c=null;this.wa=this.ya=-1};l.f=function(){Rd.a.f.call(this);this.detach()};function Xd(a,d,e,f){f&&this.jb(f,void 0);this.type="key";this.keyCode=a;this.charCode=d;this.repeat=e}z(Xd,Hb);function Yd(a,d){this.Bb=a||1;this.Rb=d||Zd;this.xc=pa(this.pf,this);this.Uc=ra()}z(Yd,Jd);Yd.prototype.enabled=false;var Zd=m.window;l=Yd.prototype;l.u=null;l.setInterval=function(a){this.Bb=a;if(this.u&&this.enabled){this.stop();this.start()}else this.u&&this.stop()};l.pf=function(){if(this.enabled){var a=ra()-this.Uc;if(a>0&&a<this.Bb*0.8)this.u=this.Rb.setTimeout(this.xc,this.Bb-a);else{this.dispatchEvent($d);if(this.enabled){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ra()}}}};
l.start=function(){this.enabled=true;if(!this.u){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ra()}};l.stop=function(){this.enabled=false;if(this.u){this.Rb.clearTimeout(this.u);this.u=null}};l.f=function(){Yd.a.f.call(this);this.stop();delete this.Rb};var $d="tick";function ae(a,d,e){if(ka(a)){if(e)a=pa(a,e)}else if(a&&typeof a.handleEvent=="function")a=pa(a.handleEvent,a);else throw Error("Invalid listener argument");return d>2147483647?-1:Zd.setTimeout(a,d||0)};var be={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function ce(a){this.Ob={};this.ra={Za:[],pe:0};this.Je=mc(de);this.od=true;this.ze=this.Ce=false;this.Ze=true;this.qa=a;F(this.qa,Bc,this.hb,false,this);Za&&C&&jb("1.8")&&F(this.qa,Cc,this.Gd,false,this);if(Pa&&!C){F(this.qa,"keypress",this.Jd,false,this);F(this.qa,Cc,this.Kd,false,this)}}var ee;z(ce,Jd);var de=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],fe={xe:"shortcut",we:"shortcut_"};l=ce.prototype;
l.Hb=function(a){var d=ge,e=this.Ob,f=arguments;if(r(f[1])){f=f[1];f=f.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();f=f.split(" ");for(var g=[],h,n=0;h=f[n];n++){var o=h.split("+"),q;h=0;for(var s,A=0;s=o[A];A++){switch(s){case "shift":h|=1;continue;case "ctrl":h|=2;continue;case "alt":h|=4;continue;case "meta":h|=8;continue}q=s;if(!ee){o={};for(var u in be)o[be[u]]=u;ee=o}q=ee[q];break}g.push({keyCode:q,ae:h})}f=g}else{u=f;g=1;if(p(f[1])){u=f[1];g=0}for(f=[];g<u.length;g+=2)f.push({keyCode:u[g],
ae:u[g+1]})}d(e,f,a)};l.f=function(){ce.a.f.call(this);this.Ob={};tc(this.qa,Bc,this.hb,false,this);Za&&C&&jb("1.8")&&tc(this.qa,Cc,this.Gd,false,this);if(Pa&&!C){tc(this.qa,"keypress",this.Jd,false,this);tc(this.qa,Cc,this.Kd,false,this)}this.qa=null};l.Gd=function(a){if(a.keyCode==224){this.$d=true;ae(function(){this.$d=false},400,this)}else{var d=a.metaKey||this.$d;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&d){a.metaKey=d;this.hb(a)}}};
function he(a,d){return Pa&&!C&&d.ctrlKey&&d.altKey&&!d.shiftKey}l.Jd=function(a){if(a.keyCode>32&&he(this,a))this.Od=true};l.Kd=function(a){!this.Od&&he(this,a)&&this.hb(a)};function ge(a,d,e){var f=d.shift();f=f.keyCode&255|f.ae<<8;var g=a[f];if(g&&e&&(d.length==0||r(g)))throw Error("Keyboard shortcut conflicts with existing shortcut");if(d.length){g||(g=a[f]={});ge(g,d,e)}else a[f]=e}function ie(a,d,e,f){e=e||0;if((f=(f||a.Ob)[d[e]])&&!r(f)&&d.length-e>1)return ie(a,d,e+1,f);return f}
l.hb=function(a){if(je(this,a))if(a.type=="keydown"&&he(this,a))this.Od=false;else{var d=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,e,f,g=ra();if(this.ra.Za.length&&g-this.ra.pe<=1500)e=ie(this,this.ra.Za);else this.ra.Za.length=0;e=e?e[d]:this.Ob[d];if(!e){e=this.Ob[d];this.ra.Za=[]}if(e&&r(e))f=e;else if(e){this.ra.Za.push(d);this.ra.pe=g;C&&a.preventDefault()}else this.ra.Za.length=0;if(f){this.od&&a.preventDefault();this.Ce&&a.stopPropagation();d=this.dispatchEvent(new ke(fe.xe,
f,a.target));d&=this.dispatchEvent(new ke(fe.we+f,f,a.target));d||a.preventDefault();this.ra.Za.length=0}}};
function je(a,d){var e=d.keyCode;if(e==16||e==17||e==18)return false;var f=d.target,g=f.tagName=="TEXTAREA"||f.tagName=="INPUT"||f.tagName=="BUTTON"||f.tagName=="SELECT",h=!g&&(f.isContentEditable||f.ownerDocument&&f.ownerDocument.designMode=="on");if(!g&&!h)return true;if(a.Je[e]||a.ze)return true;if(h)return false;if(a.Ze&&(d.altKey||d.ctrlKey||d.metaKey))return true;if(f.tagName=="INPUT"&&(f.type=="text"||f.type=="password"))return e==13;if(f.tagName=="INPUT"||f.tagName=="BUTTON")return e!=32;
return false}function ke(a,d,e){Gb.call(this,a,e);this.identifier=d}z(ke,Gb);function le(a){this.Ld=a}z(le,Fb);var me=new Mb(0,100);le.prototype.j=function(a,d,e,f,g){if(p(d))for(var h=0;h<d.length;h++)this.j(a,d[h],e,f,g);else{a=F(a,d,e||this,f||false,g||this.Ld||this);if(this.m)this.m[a]=true;else if(this.xa){this.m=Nb(me);this.m[this.xa]=true;this.xa=null;this.m[a]=true}else this.xa=a}return this};
le.prototype.Q=function(a,d,e,f,g){if(this.xa||this.m)if(p(d))for(var h=0;h<d.length;h++)this.Q(a,d[h],e,f,g);else{a:{e=e||this;g=g||this.Ld||this;f=!!(f||false);if(a=uc(a,d,f))for(d=0;d<a.length;d++)if(a[d].lb==e&&a[d].capture==f&&a[d].ac==g){a=a[d];break a}a=null}if(a){a=a.key;vc(a);if(this.m)hc(this.m,a);else if(this.xa==a)this.xa=null}}return this};function ne(a){if(a.m){for(var d in a.m){vc(d);delete a.m[d]}Ob(me,a.m);a.m=null}else a.xa&&vc(a.xa)}le.prototype.f=function(){le.a.f.call(this);ne(this)};
le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function oe(){}ga(oe);oe.prototype.$e=0;function pe(a){return":"+(a.$e++).toString(36)}oe.A();function qe(a){this.D=a||Sc();this.Jb=re}z(qe,Jd);qe.prototype.Ve=oe.A();var re=null,se="action";function te(a,d){switch(a){case 1:return d?"disable":"enable";case 2:return d?"highlight":"unhighlight";case 4:return d?"activate":"deactivate";case 8:return d?"select":"unselect";case 16:return d?"check":"uncheck";case 32:return d?"focus":"blur";case 64:return d?"open":"close";default:}throw Error("Invalid component state");}l=qe.prototype;l.Oa=null;l.q=false;l.c=null;l.Jb=null;l.Vc=null;l.r=null;
l.C=null;l.ba=null;l.te=false;function ue(a){return a.Oa||(a.Oa=pe(a.Ve))}function ve(a,d){if(a.r&&a.r.ba){hc(a.r.ba,a.Oa);ic(a.r.ba,d,a)}a.Oa=d}l.d=ca("c");function we(a){return a.gb||(a.gb=new le(a))}function xe(a,d){if(a==d)throw Error("Unable to set parent component");if(d&&a.r&&a.Oa&&ye(a.r,a.Oa)&&a.r!=d)throw Error("Unable to set parent component");a.r=d;qe.a.cd.call(a,d)}l.cd=function(a){if(this.r&&this.r!=a)throw Error("Method not supported");qe.a.cd.call(this,a)};l.M=ca("D");
l.k=function(){this.c=this.D.createElement("div")};l.Yc=function(a){ze(this,a)};function ze(a,d,e){if(a.q)throw Error("Component already rendered");a.c||a.k();d?d.insertBefore(a.c,e||null):a.D.p.body.appendChild(a.c);if(!a.r||a.r.q)a.R()}l.s=function(a){if(this.q)throw Error("Component already rendered");else if(a&&this.aa(a)){this.te=true;if(!this.D||this.D.p!=Uc(a))this.D=Sc(a);this.Ia(a);this.R()}else throw Error("Invalid element to decorate");};l.aa=k(true);l.Ia=ba("c");
l.R=function(){this.q=true;Ae(this,function(a){!a.q&&a.d()&&a.R()})};l.ia=function(){Ae(this,function(a){a.q&&a.ia()});this.gb&&ne(this.gb);this.q=false};l.f=function(){qe.a.f.call(this);this.q&&this.ia();if(this.gb){this.gb.L();delete this.gb}Ae(this,function(a){a.L()});!this.te&&this.c&&cd(this.c);this.r=this.Vc=this.c=this.ba=this.C=null};l.tb=function(a,d){this.ub(a,Be(this),d)};
l.ub=function(a,d,e){if(a.q&&(e||!this.q))throw Error("Component already rendered");if(d<0||d>Be(this))throw Error("Child component index out of bounds");if(!this.ba||!this.C){this.ba={};this.C=[]}if(a.r==this){this.ba[ue(a)]=a;vb(this.C,a)}else ic(this.ba,ue(a),a);xe(a,this);zb(this.C,d,0,a);if(a.q&&this.q&&a.r==this){e=this.H();e.insertBefore(a.d(),e.childNodes[d]||null)}else if(e){this.c||this.k();d=Ce(this,d+1);ze(a,this.H(),d?d.c:null)}else this.q&&!a.q&&a.c&&a.R()};l.H=ca("c");
function De(a){if(a.Jb==null)a.Jb=zd(a.q?a.c:a.D.p.body);return a.Jb}l.qb=function(a){if(this.q)throw Error("Component already rendered");this.Jb=a};function Be(a){return a.C?a.C.length:0}function ye(a,d){var e;if(a.ba&&d){e=a.ba;e=d in e?e[d]:void 0;e=e||null}else e=null;return e}function Ce(a,d){return a.C?a.C[d]||null:null}function Ae(a,d,e){a.C&&qb(a.C,d,e)}function Ee(a,d){return a.C&&d?pb(a.C,d):-1}
l.removeChild=function(a,d){if(a){var e=r(a)?a:ue(a);a=ye(this,e);if(e&&a){hc(this.ba,e);vb(this.C,a);if(d){a.ia();a.c&&cd(a.c)}xe(a,null)}}if(!a)throw Error("Child is not in parent component");return a};l.je=function(a){for(;this.C&&this.C.length!=0;)this.removeChild(Ce(this,0),a)};function Fe(a,d){if(C){a.setAttribute("role",d);a.Df=d}}function Ge(a,d,e){C&&a.setAttribute("aria-"+d,e)};function He(){}var Ie;ga(He);l=He.prototype;l.da=aa();l.k=function(a){return a.M().k("div",this.fb(a).join(" "),a.ma)};l.H=function(a){return a};l.vb=function(a,d,e){if(a=a.d?a.d():a)if(B&&!jb("7")){var f=Je(this,Lc(a),d);f.push(d);qa(e?Mc:Nc,a).apply(null,f)}else e?Mc(a,d):Nc(a,d)};l.aa=k(true);
l.s=function(a,d){d.id&&ve(a,d.id);var e=this.H(d);if(e&&e.firstChild)Ke(a,e.firstChild.nextSibling?xb(e.childNodes):e.firstChild);else a.ma=null;var f=0,g=this.h(),h=this.h(),n=false,o=false;e=false;var q=Lc(d);qb(q,function(u){if(!n&&u==g){n=true;if(h==g)o=true}else if(!o&&u==h)o=true;else f|=this.Ec(u)},this);a.n=f;if(!n){q.push(g);if(h==g)o=true}o||q.push(h);var s=a.ca;s&&q.push.apply(q,s);if(B&&!jb("7")){var A=Je(this,q);if(A.length>0){q.push.apply(q,A);e=true}}if(!n||!o||s||e)d.className=q.join(" ");
return d};l.kb=function(a){De(a)&&this.qb(a.d(),true);a.F()&&this.Ba(a,a.i)};l.Mb=function(a,d){Gd(a,!d,!B&&!Ua)};l.qb=function(a,d){this.vb(a,this.h()+"-rtl",d)};l.va=function(a){var d;if(a.N&32&&(d=a.I()))return jd(d);return false};l.Ba=function(a,d){var e;if(a.N&32&&(e=a.I())){if(!d&&a.n&32){try{e.blur()}catch(f){}a.n&32&&a.oa(null)}if(jd(e)!=d){e=e;if(d)e.tabIndex=0;else e.removeAttribute("tabIndex")}}};l.l=function(a,d){Ed(a,d)};
l.Z=function(a,d,e){var f=a.d();if(f){var g=this.wb(d);g&&this.vb(a,g,e);this.rb(f,d,e)}};l.rb=function(a,d,e){if(C){Ie||(Ie=lc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(d=Ie[d])&&Ge(a,d,e)}};l.Xa=function(a,d){var e=this.H(a);if(e){bd(e);if(d)if(r(d))fd(e,d);else{var f=function(g){if(g){var h=Uc(e);e.appendChild(r(g)?h.createTextNode(g):g)}};if(p(d))qb(d,f);else ia(d)&&!("nodeType"in d)?qb(xb(d),f):f(d)}}};l.I=function(a){return a.d()};l.h=k("goog-control");
l.fb=function(a){var d=this.h(),e=[d],f=this.h();f!=d&&e.push(f);d=a.n;for(f=[];d;){var g=d&-d;f.push(this.wb(g));d&=~g}e.push.apply(e,f);(a=a.ca)&&e.push.apply(e,a);B&&!jb("7")&&e.push.apply(e,Je(this,e));return e};function Je(a,d,e){var f=[];if(e)d=d.concat([e]);qb([],function(g){if(tb(g,qa(ub,d))&&(!e||ub(g,e)))f.push(g.join("_"))});return f}l.wb=function(a){this.Vb||Le(this);return this.Vb[a]};
l.Ec=function(a){if(!this.oe){this.Vb||Le(this);var d=this.Vb,e={};for(var f in d)e[d[f]]=f;this.oe=e}a=parseInt(this.oe[a],10);return isNaN(a)?0:a};function Le(a){var d=a.h();a.Vb=lc(1,d+"-disabled",2,d+"-hover",4,d+"-active",8,d+"-selected",16,d+"-checked",32,d+"-focused",64,d+"-open")};function Me(a,d){if(!a)throw Error("Invalid class name "+a);if(!ka(d))throw Error("Invalid decorator function "+d);Ne[a]=d}var Oe={},Ne={};function Pe(a,d,e){qe.call(this,e);if(!(d=d)){d=this.constructor;for(var f;d;){f=ma(d);if(f=Oe[f])break;d=d.a?d.a.constructor:null}d=f?ka(f.A)?f.A():new f:null}this.e=d;this.ma=a}z(Pe,qe);l=Pe.prototype;l.ma=null;l.n=0;l.N=39;l.pd=255;l.gd=0;l.i=true;l.ca=null;l.Ic=true;l.Tb=false;function Qe(a,d){a.q&&d!=a.Ic&&Re(a,d);a.Ic=d}l.I=function(){return this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Rd)};
l.vb=function(a,d){if(d){if(a){if(this.ca)ub(this.ca,a)||this.ca.push(a);else this.ca=[a];this.e.vb(this,a,true)}}else if(a&&this.ca){vb(this.ca,a);if(this.ca.length==0)this.ca=null;this.e.vb(this,a,false)}};l.k=function(){var a=this.e.k(this);this.c=a;if(C){var d=this.e.da();d&&Fe(a,d)}this.Tb||this.e.Mb(a,false);this.i||this.e.l(a,false)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=a=this.e.s(this,a);if(C){var d=this.e.da();d&&Fe(a,d)}this.Tb||this.e.Mb(a,false);this.i=a.style.display!="none"};l.R=function(){Pe.a.R.call(this);this.e.kb(this);if(this.N&-2){this.Ic&&Re(this,true);if(this.N&32){var a=this.I();if(a){var d=this.Yb();Sd(d,a);we(this).j(d,"key",this.ea).j(a,Ec,this.Ma).j(a,Dc,this.oa)}}}};
function Re(a,d){var e=we(a),f=a.d();if(d){e.j(f,zc,a.Kc).j(f,"mousedown",a.Na).j(f,"mouseup",a.Ab).j(f,Ac,a.Jc);B&&e.j(f,"dblclick",a.Ed)}else{e.Q(f,zc,a.Kc).Q(f,"mousedown",a.Na).Q(f,"mouseup",a.Ab).Q(f,Ac,a.Jc);B&&e.Q(f,"dblclick",a.Ed)}}l.ia=function(){Pe.a.ia.call(this);this.P&&this.P.detach();this.i&&this.F()&&this.e.Ba(this,false)};l.f=function(){Pe.a.f.call(this);if(this.P){this.P.L();delete this.P}delete this.e;this.ca=this.ma=null};l.Xa=function(a){this.e.Xa(this.d(),a);this.ma=a};
function Ke(a,d){a.ma=d}function Se(a,d){var e=a.ma;if(!e||r(e))return e;return(e=p(e)?sb(e,d).join(""):kd(e))&&xa(e)}l.La=function(){return Se(this,kd)};l.qb=function(a){Pe.a.qb.call(this,a);var d=this.d();d&&this.e.qb(d,a)};l.Mb=function(a){this.Tb=a;var d=this.d();d&&this.e.Mb(d,a)};l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){var e=this.d();e&&this.e.l(e,a);this.F()&&this.e.Ba(this,a);this.i=a;return true}return false};l.F=function(){return!!!(this.n&1)};
l.Aa=function(a){var d=this.r;if(!(d&&typeof d.F=="function"&&!d.F())&&Te(this,1,!a)){if(!a){this.setActive(false);this.ja(false)}this.i&&this.e.Ba(this,a);this.Z(1,!a)}};l.ja=function(a){Te(this,2,a)&&this.Z(2,a)};l.Cb=function(){return!!(this.n&4)};l.setActive=function(a){Te(this,4,a)&&this.Z(4,a)};l.ed=function(a){Te(this,8,a)&&this.Z(8,a)};function Ue(a,d){Te(a,16,d)&&a.Z(16,d)}l.pa=function(){return!!(this.n&64)};l.B=function(a){Te(this,64,a)&&this.Z(64,a)};
l.Z=function(a,d){if(this.N&a&&d!=!!(this.n&a)){this.e.Z(this,a,d);this.n=d?this.n|a:this.n&~a}};function Ve(a,d,e){if(a.q&&a.n&d&&!e)throw Error("Component already rendered");!e&&a.n&d&&a.Z(d,false);a.N=e?a.N|d:a.N&~d}function We(a,d){return!!(a.pd&d)&&!!(a.N&d)}function Te(a,d,e){return!!(a.N&d)&&!!(a.n&d)!=e&&(!(a.gd&d)||a.dispatchEvent(te(d,e)))&&!a.yc}l.Kc=function(a){!Xe(a,this.d())&&this.dispatchEvent("enter")&&this.F()&&We(this,2)&&this.ja(true)};
l.Jc=function(a){if(!Xe(a,this.d())&&this.dispatchEvent("leave")){We(this,4)&&this.setActive(false);We(this,2)&&this.ja(false)}};function Xe(a,d){return!!a.relatedTarget&&ed(d,a.relatedTarget)}l.Na=function(a){if(this.F()){We(this,2)&&this.ja(true);if(Jb(a,0)){We(this,4)&&this.setActive(true);this.e.va(this)&&this.I().focus()}}!this.Tb&&Jb(a,0)&&a.preventDefault()};l.Ab=function(a){if(this.F()){We(this,2)&&this.ja(true);this.Cb()&&this.Ta(a)&&We(this,4)&&this.setActive(false)}};
l.Ed=function(a){this.F()&&this.Ta(a)};l.Ta=function(a){We(this,16)&&Ue(this,!!!(this.n&16));We(this,8)&&this.ed(true);We(this,64)&&this.B(!this.pa());var d=new Gb(se,this);if(a)for(var e=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],f,g=0;f=e[g];g++)d[f]=a[f];return this.dispatchEvent(d)};l.Ma=function(){We(this,32)&&Te(this,32,true)&&this.Z(32,true)};l.oa=function(){We(this,4)&&this.setActive(false);We(this,32)&&Te(this,32,false)&&this.Z(32,false)};
l.ea=function(a){if(this.i&&this.F()&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};l.ib=function(a){return a.keyCode==13&&this.Ta(a)};if(!ka(Pe))throw Error("Invalid component class "+Pe);if(!ka(He))throw Error("Invalid renderer class "+He);var Ye=ma(Pe);Oe[Ye]=He;Me("goog-control",function(){return new Pe(null)});function Ze(){}z(Ze,He);ga(Ze);Ze.prototype.k=function(a){return a.M().k("div",this.h())};Ze.prototype.s=function(a,d){if(d.tagName=="HR"){var e=d;d=this.k(a);e.parentNode&&e.parentNode.insertBefore(d,e);cd(e)}else Mc(d,this.h());return d};Ze.prototype.Xa=aa();Ze.prototype.h=k("goog-menuseparator");function $e(a,d){Pe.call(this,null,a||Ze.A(),d);Ve(this,1,false);Ve(this,2,false);Ve(this,4,false);Ve(this,32,false);this.n=1}z($e,Pe);$e.prototype.R=function(){$e.a.R.call(this);Fe(this.d(),"separator")};Me("goog-menuseparator",function(){return new $e});function af(){}ga(af);l=af.prototype;l.da=aa();function bf(a,d,e){if(d)d.tabIndex=e?0:-1}l.k=function(a){return a.M().k("div",this.fb(a).join(" "))};l.H=function(a){return a};l.aa=function(a){return a.tagName=="DIV"};l.s=function(a,d){d.id&&ve(a,d.id);var e=this.h(),f=false,g=Lc(d);g&&qb(g,function(h){if(h==e)f=true;else if(h)if(h==e+"-disabled")a.Aa(false);else if(h==e+"-horizontal")cf(a,df);else h==e+"-vertical"&&cf(a,ef)},this);f||Mc(d,e);ff(this,a,this.H(d));return d};
function ff(a,d,e,f){if(e){f=f||e.firstChild;for(var g;f&&f.parentNode==e;){g=f.nextSibling;if(f.nodeType==1){var h=a.xb(f);if(h){h.c=f;d.F()||h.Aa(false);d.tb(h);h.s(f)}}else if(!f.nodeValue||xa(f.nodeValue)=="")e.removeChild(f);f=g}}}l.xb=function(a){a:{for(var d=Lc(a),e=0,f=d.length;e<f;e++)if(a=d[e]in Ne?Ne[d[e]]():null){a=a;break a}a=null}return a};l.kb=function(a){a=a.d();Gd(a,true,C);if(B)a.hideFocus=true;var d=this.da();d&&Fe(a,d)};l.I=function(a){return a.d()};l.h=k("goog-container");
l.fb=function(a){var d=this.h(),e=[d,a.Sa==df?d+"-horizontal":d+"-vertical"];a.F()||e.push(d+"-disabled");return e};l.Bd=function(){return ef};function gf(a,d,e){qe.call(this,e);this.e=d||af.A();this.Sa=a||this.e.Bd()}z(gf,qe);var df="horizontal",ef="vertical";l=gf.prototype;l.Pd=null;l.P=null;l.e=null;l.Sa=null;l.i=true;l.X=true;l.Ac=true;l.$=-1;l.K=null;l.sa=false;l.Ae=false;l.bf=true;l.ta=null;l.I=function(){return this.Pd||this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Rd(this.I()))};l.k=function(){this.c=this.e.k(this)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=this.e.s(this,a);if(a.style.display=="none")this.i=false};l.R=function(){gf.a.R.call(this);Ae(this,function(d){d.q&&hf(this,d)},this);var a=this.d();this.e.kb(this);this.l(this.i,true);we(this).j(this,"enter",this.Fc).j(this,"highlight",this.Gc).j(this,"unhighlight",this.Lc).j(this,"open",this.Re).j(this,"close",this.Le).j(a,"mousedown",this.Na).j(Uc(a),"mouseup",this.Ne).j(a,["mousedown","mouseup",zc,Ac],this.Ke);this.va()&&jf(this,true)};
function jf(a,d){var e=we(a),f=a.I();d?e.j(f,Ec,a.Ma).j(f,Dc,a.oa).j(a.Yb(),"key",a.ea):e.Q(f,Ec,a.Ma).Q(f,Dc,a.oa).Q(a.Yb(),"key",a.ea)}l.ia=function(){kf(this,-1);this.K&&this.K.B(false);this.sa=false;gf.a.ia.call(this)};l.f=function(){gf.a.f.call(this);if(this.P){this.P.L();this.P=null}this.e=this.K=this.ta=null};l.Fc=k(true);
l.Gc=function(a){var d=Ee(this,a.target);if(d>-1&&d!=this.$){var e=lf(this);e&&e.ja(false);this.$=d;e=lf(this);this.sa&&e.setActive(true);if(this.bf&&this.K&&e!=this.K)e.N&64?e.B(true):this.K.B(false)}Ge(this.d(),"activedescendant",a.target.d().id)};l.Lc=function(a){if(a.target==lf(this))this.$=-1;Ge(this.d(),"activedescendant","")};l.Re=function(a){if((a=a.target)&&a!=this.K&&a.r==this){this.K&&this.K.B(false);this.K=a}};l.Le=function(a){if(a.target==this.K)this.K=null};
l.Na=function(a){if(this.X)this.sa=true;var d=this.I();d&&jd(d)?d.focus():a.preventDefault()};l.Ne=function(){this.sa=false};l.Ke=function(a){var d;a:{d=a.target;if(this.ta)for(var e=this.d();d&&d!==e;){var f=d.id;if(f in this.ta){d=this.ta[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case "mousedown":d.Na(a);break;case "mouseup":d.Ab(a);break;case zc:d.Kc(a);break;case Ac:d.Jc(a);break}};l.Ma=aa();l.oa=function(){kf(this,-1);this.sa=false;this.K&&this.K.B(false)};
l.ea=function(a){if(this.F()&&this.i&&(Be(this)!=0||this.Pd)&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};
l.ib=function(a){var d=lf(this);if(d&&typeof d.ea=="function"&&d.ea(a))return true;if(this.K&&this.K!=d&&typeof this.K.ea=="function"&&this.K.ea(a))return true;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return false;switch(a.keyCode){case 27:if(this.va())this.I().blur();else return false;break;case 36:mf(this);break;case 35:nf(this);break;case 38:if(this.Sa==ef)of(this);else return false;break;case 37:if(this.Sa==df)De(this)?pf(this):of(this);else return false;break;case 40:if(this.Sa==ef)pf(this);
else return false;break;case 39:if(this.Sa==df)De(this)?of(this):pf(this);else return false;break;default:return false}return true};function hf(a,d){var e=d.d();e=e.id||(e.id=ue(d));if(!a.ta)a.ta={};a.ta[e]=d}l.tb=function(a,d){gf.a.tb.call(this,a,d)};l.ub=function(a,d,e){a.gd|=2;a.gd|=64;if(this.va()||!this.Ae)Ve(a,32,false);Qe(a,false);gf.a.ub.call(this,a,d,e);e&&this.q&&hf(this,a);d<=this.$&&this.$++};
l.removeChild=function(a,d){if(a=r(a)?ye(this,a):a){var e=Ee(this,a);if(e!=-1)if(e==this.$)a.ja(false);else e<this.$&&this.$--;(e=a.d())&&e.id&&hc(this.ta,e.id)}a=gf.a.removeChild.call(this,a,d);Qe(a,true);return a};function cf(a,d){if(a.d())throw Error("Component already rendered");a.Sa=d}l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){this.i=a;var e=this.d();if(e){Ed(e,a);this.va()&&bf(this.e,this.I(),this.X&&this.i);d||this.dispatchEvent(this.i?"aftershow":"afterhide")}return true}return false};
l.F=ca("X");l.Aa=function(a){if(this.X!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.X=true;Ae(this,function(d){if(d.ue)delete d.ue;else d.Aa(true)})}else{Ae(this,function(d){if(d.F())d.Aa(false);else d.ue=true});this.sa=this.X=false}this.va()&&bf(this.e,this.I(),a&&this.i)}};l.va=ca("Ac");l.Ba=function(a){a!=this.Ac&&this.q&&jf(this,a);this.Ac=a;this.X&&this.i&&bf(this.e,this.I(),a)};function kf(a,d){var e=Ce(a,d);if(e)e.ja(true);else a.$>-1&&lf(a).ja(false)}
l.ja=function(a){kf(this,Ee(this,a))};function lf(a){return Ce(a,a.$)}function mf(a){qf(a,function(d,e){return(d+1)%e},Be(a)-1)}function nf(a){qf(a,function(d,e){d--;return d<0?e-1:d},0)}function pf(a){qf(a,function(d,e){return(d+1)%e},a.$)}function of(a){qf(a,function(d,e){d--;return d<0?e-1:d},a.$)}function qf(a,d,e){e=e<0?Ee(a,a.K):e;var f=Be(a);e=d.call(a,e,f);for(var g=0;g<=f;){var h=Ce(a,e);if(h&&a.sd(h)){kf(a,e);return true}g++;e=d.call(a,e,f)}return false}
l.sd=function(a){return a.i&&a.F()&&!!(a.N&2)};function rf(){this.ud=[]}z(rf,He);ga(rf);function sf(a,d){var e=a.ud[d];if(!e){switch(d){case 0:e=a.h()+"-highlight";break;case 1:e=a.h()+"-checkbox";break;case 2:e=a.h()+"-content";break}a.ud[d]=e}return e}l=rf.prototype;l.da=k("menuitem");l.k=function(a){var d=a.M().k("div",this.fb(a).join(" "),tf(this,a.ma,a.M()));uf(this,a,d,!!(a.N&8)||!!(a.N&16));return d};l.H=function(a){return a&&a.firstChild};
l.s=function(a,d){var e=dd(d),f=sf(this,2);e&&e.className.indexOf(f)!=-1||d.appendChild(tf(this,d.childNodes,a.M()));if(ub(Lc(d),"goog-option")){a.lc(true);this.lc(a,d,true)}return rf.a.s.call(this,a,d)};l.Xa=function(a,d){var e=this.H(a),f=vf(this,a)?e.firstChild:null;rf.a.Xa.call(this,a,d);if(f&&!vf(this,a))e.insertBefore(f,e.firstChild||null)};function tf(a,d,e){a=sf(a,2);return e.k("div",a,d)}l.dd=function(a,d,e){if(d){Fe(d,e?"menuitemradio":this.da());uf(this,a,d,e)}};
l.lc=function(a,d,e){if(d){Fe(d,e?"menuitemcheckbox":this.da());uf(this,a,d,e)}};function vf(a,d){var e=a.H(d);if(e){e=e.firstChild;var f=sf(a,1);return!!e&&!!e.className&&e.className.indexOf(f)!=-1}return false}function uf(a,d,e,f){if(f!=vf(a,e)){f?Mc(e,"goog-option"):Nc(e,"goog-option");e=a.H(e);if(f){a=sf(a,1);e.insertBefore(d.M().k("div",a),e.firstChild||null)}else e.removeChild(e.firstChild)}}
l.wb=function(a){switch(a){case 2:return sf(this,0);case 16:case 8:return"goog-option-selected";default:return rf.a.wb.call(this,a)}};l.Ec=function(a){var d=sf(this,0);switch(a){case "goog-option-selected":return 16;case d:return 2;default:return rf.a.Ec.call(this,a)}};l.h=k("goog-menuitem");function wf(a,d,e,f){Pe.call(this,a,f||rf.A(),e);this.ka(d)}z(wf,Pe);l=wf.prototype;l.O=function(){var a=this.Vc;return a!=null?a:this.La()};l.ka=ba("Vc");l.dd=function(a){Ve(this,8,a);this.n&16&&!a&&Ue(this,false);var d=this.d();d&&this.e.dd(this,d,a)};l.lc=function(a){Ve(this,16,a);var d=this.d();d&&this.e.lc(this,d,a)};l.La=function(){return Se(this,function(a){return ub(Lc(a),"goog-menuitem-accel")?"":kd(a)})};Me("goog-menuitem",function(){return new wf(null)});function xf(){}z(xf,af);ga(xf);l=xf.prototype;l.da=k("menu");l.aa=function(a){return a.tagName=="UL"||xf.a.aa.call(this,a)};l.xb=function(a){return a.tagName=="HR"?new $e:xf.a.xb.call(this,a)};l.Ga=function(a,d){return ed(a.d(),d)};l.h=k("goog-menu");l.kb=function(a){xf.a.kb.call(this,a);a=a.d();Ge(a,"haspopup","true")};Me("goog-menuseparator",function(){return new $e});function yf(a,d){gf.call(this,ef,d||xf.A(),a);this.Ba(false)}z(yf,gf);l=yf.prototype;l.vc=true;l.Be=false;l.h=function(){return this.e.h()};l.Ga=function(a){if(this.e.Ga(this,a))return true;for(var d=0,e=Be(this);d<e;d++){var f=Ce(this,d);if(typeof f.Ga=="function"&&f.Ga(a))return true}return false};l.Ea=function(a){this.tb(a,true)};l.bb=function(a,d){this.ub(a,d,true)};l.yb=function(a){return Ce(this,a)};l.Bc=function(){return Be(this)};
function zf(a,d,e){var f=a.i;f||Ed(a.d(),true);Ad(a.d(),d,e);f||Ed(a.d(),false)}function Af(a,d){(a.vc=d)&&a.Ba(true)}l.l=function(a,d){var e=yf.a.l.call(this,a,d);e&&a&&this.q&&this.vc&&this.I().focus();return e};l.Fc=function(a){this.vc&&this.I().focus();return yf.a.Fc.call(this,a)};l.sd=function(a){return(this.Be||a.F())&&a.i&&!!(a.N&2)};l.Ia=function(a){var d=this.e,e;e=this.M();e=Vc(e.p,"div",d.h()+"-content",a);for(var f,g=0;f=e[g];g++)ff(d,this,f);yf.a.Ia.call(this,a)};function Bf(a){if(typeof a.$b=="function")return a.$b();if(r(a))return a.split("");if(ia(a)){for(var d=[],e=a.length,f=0;f<e;f++)d.push(a[f]);return d}return ec(a)}function Cf(a,d,e){if(typeof a.forEach=="function")a.forEach(d,e);else if(ia(a)||r(a))qb(a,d,e);else{var f;if(typeof a.Cc=="function")f=a.Cc();else if(typeof a.$b!="function")if(ia(a)||r(a)){f=[];for(var g=a.length,h=0;h<g;h++)f.push(h);f=f}else f=fc(a);else f=void 0;g=Bf(a);h=g.length;for(var n=0;n<h;n++)d.call(e,g[n],f&&f[n],a)}};var Df="StopIteration"in m?m.StopIteration:Error("StopIteration");function Ef(){}Ef.prototype.next=function(){throw Df;};Ef.prototype.uc=function(){return this};function Ff(a){if(a instanceof Ef)return a;if(typeof a.uc=="function")return a.uc(false);if(ia(a)){var d=0,e=new Ef;e.next=function(){for(;;){if(d>=a.length)throw Df;if(d in a)return a[d++];else d++}};return e}throw Error("Not implemented");}
function Gf(a,d,e){if(ia(a))try{qb(a,d,e)}catch(f){if(f!==Df)throw f;}else{a=Ff(a);try{for(;;)d.call(e,a.next(),undefined,a)}catch(g){if(g!==Df)throw g;}}}function Hf(a,d,e){a=Ff(a);try{for(;;)if(d.call(e,a.next(),undefined,a))return true}catch(f){if(f!==Df)throw f;}return false};function If(a){this.Ra={};this.m=[];var d=arguments.length;if(d>1){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.pb(arguments[e],arguments[e+1])}else if(a){if(a instanceof If){d=a.Cc();e=a.$b()}else{d=fc(a);e=ec(a)}for(var f=0;f<d.length;f++)this.pb(d[f],e[f])}}l=If.prototype;l.S=0;l.qc=0;l.$b=function(){Jf(this);for(var a=[],d=0;d<this.m.length;d++)a.push(this.Ra[this.m[d]]);return a};l.Cc=function(){Jf(this);return this.m.concat()};
l.clear=function(){this.Ra={};this.qc=this.S=this.m.length=0};function Jf(a){if(a.S!=a.m.length){for(var d=0,e=0;d<a.m.length;){var f=a.m[d];if(Object.prototype.hasOwnProperty.call(a.Ra,f))a.m[e++]=f;d++}a.m.length=e}if(a.S!=a.m.length){var g={};for(e=d=0;d<a.m.length;){f=a.m[d];if(!Object.prototype.hasOwnProperty.call(g,f)){a.m[e++]=f;g[f]=1}d++}a.m.length=e}}l.pb=function(a,d){if(!Object.prototype.hasOwnProperty.call(this.Ra,a)){this.S++;this.m.push(a);this.qc++}this.Ra[a]=d};l.Fa=function(){return new If(this)};
l.uc=function(a){Jf(this);var d=0,e=this.m,f=this.Ra,g=this.qc,h=this,n=new Ef;n.next=function(){for(;;){if(g!=h.qc)throw Error("The map has changed since the iterator was created");if(d>=e.length)throw Df;var o=e[d++];return a?o:f[o]}};return n};function Kf(a){return Lf(a||arguments.callee.caller,[])}
function Lf(a,d){var e=[];if(ub(d,a))e.push("[...circular reference...]");else if(a&&d.length<50){e.push(Mf(a)+"(");for(var f=a.arguments,g=0;g<f.length;g++){g>0&&e.push(", ");var h;h=f[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":h=h;break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Mf(h))?h:"[fn]";break;case "undefined":default:h=typeof h;break}if(h.length>40)h=h.substr(0,40)+"...";e.push(h)}d.push(a);e.push(")\n");try{e.push(Lf(a.caller,
d))}catch(n){e.push("[exception trying to get caller]\n")}}else a?e.push("[...long stack...]"):e.push("[end]");return e.join("")}function Mf(a){a=String(a);if(!Nf[a]){var d=/function ([^\(]+)/.exec(a);Nf[a]=d?d[1]:"[Anonymous]"}return Nf[a]}var Nf={};function Of(a,d,e,f,g){this.reset(a,d,e,f,g)}Of.prototype.nf=0;Of.prototype.zd=null;Of.prototype.yd=null;var Pf=0;Of.prototype.reset=function(a,d,e,f,g){this.nf=typeof g=="number"?g:Pf++;this.Ff=f||ra();this.Fb=a;this.Cf=d;this.Af=e;delete this.zd;delete this.yd};Of.prototype.le=ba("Fb");function Qf(a){this.hc=a}Qf.prototype.r=null;Qf.prototype.Fb=null;Qf.prototype.C=null;Qf.prototype.Md=null;function Rf(a,d){this.name=a;this.value=d}Rf.prototype.toString=ca("name");var Sf=new Rf("SEVERE",1E3),Tf=new Rf("WARNING",900),Uf=new Rf("CONFIG",700),Vf=new Rf("FINE",500),Wf=new Rf("FINEST",300);Qf.prototype.getName=ca("hc");Qf.prototype.le=ba("Fb");function Xf(a){if(a.Fb)return a.Fb;if(a.r)return Xf(a.r);nb("Root logger has no level set.");return null}
Qf.prototype.log=function(a,d,e){if(a.value>=Xf(this).value){a=this.Ie(a,d,e);for(d=this;d;){e=d;var f=a;if(e.Md)for(var g=0,h=void 0;h=e.Md[g];g++)h(f);d=d.r}}};
Qf.prototype.Ie=function(a,d,e){var f=new Of(a,String(d),this.hc);if(e){f.zd=e;var g;var h=arguments.callee.caller;try{var n,o=ea("window.location.href");n=typeof e=="string"?{message:e,name:"Unknown error",lineNumber:"Not available",fileName:o,stack:"Not available"}:!e.lineNumber||!e.fileName||!e.stack?{message:e.message,name:e.name,lineNumber:e.lineNumber||e.zf||"Not available",fileName:e.fileName||e.filename||e.sourceURL||o,stack:e.stack||"Not available"}:e;g="Message: "+ya(n.message)+'\nUrl: <a href="view-source:'+
n.fileName+'" target="_new">'+n.fileName+"</a>\nLine: "+n.lineNumber+"\n\nBrowser stack:\n"+ya(n.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ya(Kf(h)+"-> ")}catch(q){g="Exception trying to expose exception! You win, we lose. "+q}f.yd=g}return f};function Yf(a,d,e){a.log(Vf,d,e)}var Zf={},$f=null;
function ag(a){if(!$f){$f=new Qf("");Zf[""]=$f;$f.le(Uf)}var d;if(!(d=Zf[a])){d=new Qf(a);var e=a.lastIndexOf("."),f=a.substr(0,e);e=a.substr(e+1);f=ag(f);if(!f.C)f.C={};f.C[e]=d;d.r=f;d=Zf[a]=d}return d};function bg(){}bg.prototype.Ub=null;function dg(){return eg(fg)}var fg;function gg(){}z(gg,bg);function eg(a){return(a=hg(a))?new ActiveXObject(a):new XMLHttpRequest}function ig(a){var d={};if(hg(a)){d[0]=true;d[1]=true}return d}gg.prototype.Nc=null;
function hg(a){if(!a.Nc&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<d.length;e++){var f=d[e];try{new ActiveXObject(f);return a.Nc=f}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Nc}fg=new gg;function jg(){if(C){this.Ha={};this.tc={};this.nc=[]}}jg.prototype.J=ag("goog.net.xhrMonitor");jg.prototype.X=C;jg.prototype.Aa=function(a){this.X=C&&a};function kg(a,d){if(a.X){var e=r(d)?d:la(d)?ma(d):"";a.J.log(Wf,"Pushing context: "+d+" ("+e+")",void 0);a.nc.push(e)}}function lg(a){if(a.X){var d=a.nc.pop();a.J.log(Wf,"Popping context: "+d,void 0);mg(a,d)}}
function ng(a,d){if(a.X){var e=ma(d);Yf(a.J,"Opening XHR : "+e);for(var f=0;f<a.nc.length;f++){var g=a.nc[f];og(a,a.Ha,g,e);og(a,a.tc,e,g)}}}function mg(a,d){var e=a.tc[d],f=a.Ha[d];if(e&&f){a.J.log(Wf,"Updating dependent contexts",void 0);qb(e,function(g){qb(f,function(h){og(this,this.Ha,g,h);og(this,this.tc,h,g)},this)},a)}}function og(a,d,e,f){d[e]||(d[e]=[]);ub(d[e],f)||d[e].push(f)}var pg=new jg;function qg(a){this.headers=new If;this.sb=a||null}z(qg,Jd);qg.prototype.J=ag("goog.net.XhrIo");var rg=[];function sg(a,d,e,f,g,h){var n=new qg;rg.push(n);d&&F(n,"complete",d);F(n,"ready",qa(tg,n));if(h)n.Qb=Math.max(0,h);n.send(a,e,f,g)}function tg(a){a.L();vb(rg,a)}l=qg.prototype;l.Da=false;l.o=null;l.sc=null;l.Sd="";l.Rd="";l.Db=0;l.Eb="";l.zc=false;l.cc=false;l.Oc=false;l.Pa=false;l.Qb=0;l.$a=null;
l.send=function(a,d,e,f){if(this.o)throw Error("[goog.net.XhrIo] Object is active with another request");d=d||"GET";this.Sd=a;this.Eb="";this.Db=0;this.Rd=d;this.zc=false;this.Da=true;this.o=this.sb?eg(this.sb):new dg;this.sc=this.sb?this.sb.Ub||(this.sb.Ub=ig(this.sb)):fg.Ub||(fg.Ub=ig(fg));ng(pg,this.o);this.o.onreadystatechange=pa(this.ge,this);try{Yf(this.J,ug(this,"Opening Xhr"));this.Oc=true;this.o.open(d,a,true);this.Oc=false}catch(g){Yf(this.J,ug(this,"Error opening Xhr: "+g.message));vg(this,
5,g);return}a=e||"";var h=this.headers.Fa();f&&Cf(f,function(o,q){h.pb(q,o)});d=="POST"&&!Object.prototype.hasOwnProperty.call(h.Ra,"Content-Type")&&h.pb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Cf(h,function(o,q){this.o.setRequestHeader(q,o)},this);try{if(this.$a){Zd.clearTimeout(this.$a);this.$a=null}if(this.Qb>0){Yf(this.J,ug(this,"Will abort after "+this.Qb+"ms if incomplete"));this.$a=Zd.setTimeout(pa(this.qf,this),this.Qb)}Yf(this.J,ug(this,"Sending request"));this.cc=
true;this.o.send(a);this.cc=false}catch(n){Yf(this.J,ug(this,"Send error: "+n.message));vg(this,5,n)}};l.dispatchEvent=function(a){if(this.o){kg(pg,this.o);try{return qg.a.dispatchEvent.call(this,a)}finally{lg(pg)}}else return qg.a.dispatchEvent.call(this,a)};l.qf=function(){if(typeof da!="undefined")if(this.o){this.Eb="Timed out after "+this.Qb+"ms, aborting";this.Db=8;Yf(this.J,ug(this,this.Eb));this.dispatchEvent("timeout");this.abort(8)}};
function vg(a,d,e){a.Da=false;if(a.o){a.Pa=true;a.o.abort();a.Pa=false}a.Eb=e;a.Db=d;wg(a);xg(a)}function wg(a){if(!a.zc){a.zc=true;a.dispatchEvent("complete");a.dispatchEvent("error")}}l.abort=function(a){if(this.o){Yf(this.J,ug(this,"Aborting"));this.Da=false;this.Pa=true;this.o.abort();this.Pa=false;this.Db=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");xg(this)}};l.f=function(){if(this.o){if(this.Da){this.Da=false;this.Pa=true;this.o.abort();this.Pa=false}xg(this,true)}qg.a.f.call(this)};
l.ge=function(){!this.Oc&&!this.cc&&!this.Pa?this.Xc():yg(this)};l.Xc=function(){yg(this)};
function yg(a){if(a.Da)if(typeof da!="undefined")if(a.sc[1]&&zg(a)==4&&Ag(a)==2)Yf(a.J,ug(a,"Local request error detected and ignored"));else if(a.cc&&zg(a)==4)Zd.setTimeout(pa(a.ge,a),0);else{a.dispatchEvent("readystatechange");if(zg(a)==4){Yf(a.J,ug(a,"Request complete"));a.Da=false;var d;a:switch(Ag(a)){case 0:case 200:case 204:case 304:d=true;break a;default:d=false;break a}if(d){a.dispatchEvent("complete");a.dispatchEvent("success")}else{a.Db=6;var e;try{e=zg(a)>2?a.o.statusText:""}catch(f){Yf(a.J,
"Can not get status: "+f.message);e=""}a.Eb=e+" ["+Ag(a)+"]";wg(a)}xg(a)}}}function xg(a,d){if(a.o){var e=a.o,f=a.sc[0]?fa:null;a.o=null;a.sc=null;if(a.$a){Zd.clearTimeout(a.$a);a.$a=null}if(!d){kg(pg,e);a.dispatchEvent("ready");lg(pg)}if(pg.X){var g=ma(e);Yf(pg.J,"Closing XHR : "+g);delete pg.tc[g];for(var h in pg.Ha){vb(pg.Ha[h],g);pg.Ha[h].length==0&&delete pg.Ha[h]}}try{e.onreadystatechange=f}catch(n){a.J.log(Sf,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}l.Cb=function(){return!!this.o};
function zg(a){return a.o?a.o.readyState:0}function Ag(a){try{return zg(a)>2?a.o.status:-1}catch(d){a.J.log(Tf,"Can not get status: "+d.message,void 0);return-1}}function Bg(a){try{return a.o?a.o.responseText:""}catch(d){Yf(a.J,"Can not get responseText: "+d.message);return""}}
function Cg(a,d){if(a.o){var e=a.o.responseText;if(d&&e.indexOf(d)==0)e=e.substring(d.length);var f;a:{e=String(e);if(/^\s*$/.test(e)?false:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{f=eval("("+e+")");break a}catch(g){}throw Error("Invalid JSON string: "+e);}return f}}
function ug(a,d){return d+" ["+a.Rd+" "+a.Sd+" "+Ag(a)+"]"}Bb[Bb.length]=function(a){qg.prototype.Xc=a(qg.prototype.Xc)};function Dg(){}z(Dg,Ze);ga(Dg);Dg.prototype.k=function(a){return a.M().k("div",this.h()+" goog-inline-block","\u00a0")};Dg.prototype.s=function(a,d){d=Dg.a.s.call(this,a,d);Mc(d,"goog-inline-block");return d};Dg.prototype.h=k("goog-toolbar-separator");function Eg(){}z(Eg,af);ga(Eg);Eg.prototype.da=k("toolbar");Eg.prototype.xb=function(a){return a.tagName=="HR"?new $e(Dg.A()):Eg.a.xb.call(this,a)};Eg.prototype.h=k("goog-toolbar");Eg.prototype.Bd=function(){return df};function Fg(a,d,e){gf.call(this,d,a||Eg.A(),e)}z(Fg,gf);function Gg(){}z(Gg,He);ga(Gg);l=Gg.prototype;l.da=k("button");l.rb=function(a,d,e){if(C)d==16?Ge(a,"pressed",e):Gg.a.rb.call(this,a,d,e)};l.k=function(a){var d=Gg.a.k.call(this,a),e=a.zb();e&&this.fd(d,e);(e=a.O())&&this.ka(d,e);a.N&16&&this.rb(d,16,false);return d};l.s=function(a,d){d=Gg.a.s.call(this,a,d);var e=this.O(d);a.jd=e;a.hd=this.zb(d);a.N&16&&this.rb(d,16,false);return d};l.O=fa;l.ka=fa;l.zb=function(a){return a.title};l.fd=function(a,d){if(a)a.title=d||""};l.h=k("goog-button");function Hg(){}z(Hg,Gg);ga(Hg);l=Hg.prototype;l.da=aa();l.k=function(a){Ig(this,a);return a.M().k("button",{"class":this.fb(a).join(" "),disabled:!a.F(),title:a.zb()||"",value:a.O()||""},a.La()||"")};l.aa=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};l.s=function(a,d){Ig(this,a);d.disabled&&Mc(d,this.wb(1));return Hg.a.s.call(this,a,d)};l.kb=function(a){we(a).j(a.d(),yc,a.Ta)};l.Mb=fa;l.qb=fa;l.va=function(a){return a.F()};
l.Ba=fa;l.Z=function(a,d,e){Hg.a.Z.call(this,a,d,e);if((a=a.d())&&d==1)a.disabled=e};l.O=function(a){return a.value};l.ka=function(a,d){if(a)a.value=d};l.rb=fa;function Ig(a,d){Qe(d,false);d.pd&=-256;Ve(d,32,false)};function Jg(a,d,e){Pe.call(this,a,d||Hg.A(),e)}z(Jg,Pe);l=Jg.prototype;l.O=ca("jd");l.ka=function(a){this.jd=a;this.e.ka(this.d(),a)};l.zb=ca("hd");l.fd=function(a){this.hd=a;this.e.fd(this.d(),a)};l.f=function(){Jg.a.f.call(this);delete this.jd;delete this.hd};l.R=function(){Jg.a.R.call(this);if(this.N&32){var a=this.I();a&&we(this).j(a,Cc,this.ib)}};l.ib=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type==Cc)return this.Ta(a);return a.keyCode==32};Me("goog-button",function(){return new Jg(null)});function Kg(){}z(Kg,Gg);ga(Kg);l=Kg.prototype;l.k=function(a){var d={"class":"goog-inline-block "+this.fb(a).join(" "),title:a.zb()||""};return a.M().k("div",d,this.Wb(a.ma,a.M()))};l.H=function(a){return a&&a.firstChild.firstChild};l.Wb=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-outer-box"),d.k("div","goog-inline-block "+(this.h()+"-inner-box"),a))};l.aa=function(a){return a.tagName=="DIV"};
l.s=function(a,d){Lg(d,true);Lg(d,false);var e;a:{if((e=a.M().Cd(d))&&e.className.indexOf(this.h()+"-outer-box")!=-1)if((e=a.M().Cd(e))&&e.className.indexOf(this.h()+"-inner-box")!=-1){e=true;break a}e=false}e||d.appendChild(this.Wb(d.childNodes,a.M()));Mc(d,"goog-inline-block",this.h());return Kg.a.s.call(this,a,d)};l.h=k("goog-custom-button");
function Lg(a,d){if(a)for(var e=d?a.firstChild:a.lastChild,f;e&&e.parentNode==a;){f=d?e.nextSibling:e.previousSibling;if(e.nodeType==3){var g=e.nodeValue;if(xa(g)=="")a.removeChild(e);else{e.nodeValue=d?g.replace(/^[\s\xa0]+/,""):g.replace(/[\s\xa0]+$/,"");break}}else break;e=f}};function Mg(){}z(Mg,Kg);ga(Mg);Mg.prototype.h=k("goog-toolbar-button");function Ng(a,d,e){Jg.call(this,a,d||Mg.A(),e)}z(Ng,Jg);Me("goog-toolbar-button",function(){return new Ng(null)});function Og(a,d,e,f,g,h,n,o){var q,s=e.offsetParent;if(s){var A=s.tagName=="HTML"||s.tagName=="BODY";if(!A||rd(s,"position")!="static"){q=yd(s);A||(q=Pc(q,new Oc(s.scrollLeft,s.scrollTop)))}}s=Dd(a);if(A=xd(a)){var u=new pd(A.left,A.top,A.right-A.left,A.bottom-A.top);A=Math.max(s.left,u.left);var t=Math.min(s.left+s.width,u.left+u.width);if(A<=t){var E=Math.max(s.top,u.top);u=Math.min(s.top+s.height,u.top+u.height);if(E<=u){s.left=A;s.top=E;s.width=t-A;s.height=u-E}}}A=Sc(a);E=Sc(e);if(A.p!=E.p){t=
A.p.body;E=E.p.parentWindow||E.p.defaultView;u=new Oc(0,0);var O=Uc(t)?Uc(t).parentWindow||Uc(t).defaultView:window,gb=t;do{var J;if(O==E)J=yd(gb);else{var Q=gb;J=new Oc;if(Q.nodeType==1)if(Q.getBoundingClientRect){var Ca=vd(Q);J.x=Ca.left;J.y=Ca.top}else{Ca=nd(Sc(Q));Q=yd(Q);J.x=Q.x-Ca.x;J.y=Q.y-Ca.y}else{J.x=Q.clientX;J.y=Q.clientY}J=J}J=J;u.x+=J.x;u.y+=J.y}while(O&&O!=E&&(gb=O.frameElement)&&(O=O.parent));E=u;E=Pc(E,yd(t));if(B&&!Wc(A.p))E=Pc(E,nd(A));s.left+=E.x;s.top+=E.y}a=(d&4&&zd(a)?d^2:d)&
-5;d=new Oc(a&2?s.left+s.width:s.left,a&1?s.top+s.height:s.top);if(q)d=Pc(d,q);if(g){d.x+=(a&2?-1:1)*g.x;d.y+=(a&1?-1:1)*g.y}var L;if(n)if((L=xd(e))&&q){L.top=Math.max(0,L.top-q.y);L.right-=q.x;L.bottom-=q.y;L.left=Math.max(0,L.left-q.x)}a:{g=d;L=L;g=g.Fa();q=0;a=(f&4&&zd(e)?f^2:f)&-5;f=Cd(e);o=o?o.Fa():f;if(h||a!=0){if(a&2)g.x-=o.width+(h?h.right:0);else if(h)g.x+=h.left;if(a&1)g.y-=o.height+(h?h.bottom:0);else if(h)g.y+=h.top}if(n){if(L){h=g;q=0;if(h.x<L.left&&n&1){h.x=L.left;q|=1}if(h.x<L.left&&
h.x+o.width>L.right&&n&16){o.width-=h.x+o.width-L.right;q|=4}if(h.x+o.width>L.right&&n&1){h.x=Math.max(L.right-o.width,L.left);q|=1}if(n&2)q|=(h.x<L.left?16:0)|(h.x+o.width>L.right?32:0);if(h.y<L.top&&n&4){h.y=L.top;q|=2}if(h.y>=L.top&&h.y+o.height>L.bottom&&n&32){o.height-=h.y+o.height-L.bottom;q|=8}if(h.y+o.height>L.bottom&&n&4){h.y=Math.max(L.bottom-o.height,L.top);q|=2}if(n&8)q|=(h.y<L.top?64:0)|(h.y+o.height>L.bottom?128:0);n=q}else n=256;q=n;if(q&496){e=q;break a}}sd(e,g);Rc(f,o)||Bd(e,o);e=
q}return e};function Pg(){}Pg.prototype.Va=aa();function Qg(a,d){this.element=a;this.db=d}z(Qg,Pg);Qg.prototype.Va=function(a,d,e){Og(this.element,this.db,a,d,undefined,e)};function Rg(a,d,e){Qg.call(this,a,d);this.ye=e}z(Rg,Qg);Rg.prototype.Va=function(a,d,e,f){var g=Og(this.element,this.db,a,d,null,e,10,f);if(g&496){var h=this.db,n=d;if(g&48){h^=2;n^=2}if(g&192){h^=1;n^=1}g=Og(this.element,h,a,n,null,e,10,f);if(g&496)this.ye?Og(this.element,this.db,a,d,null,e,5,f):Og(this.element,this.db,a,d,null,e,0,f)}};function Sg(a,d,e,f){Rg.call(this,a,d,e);this.hf=f}z(Sg,Rg);Sg.prototype.Va=function(a,d,e,f){this.hf?Og(this.element,this.db,a,d,null,e,33,f):Sg.a.Va.call(this,a,d,e,f)};function Tg(){}z(Tg,Kg);ga(Tg);if(C)Tg.prototype.Xa=function(a,d){var e=Tg.a.H.call(this,a&&a.firstChild);if(e){var f=this.createCaption(d,Sc(a)),g=e.parentNode;g&&g.replaceChild(f,e)}};l=Tg.prototype;l.H=function(a){a=Tg.a.H.call(this,a&&a.firstChild);if(C&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};l.s=function(a,d){var e=Vc(document,"*","goog-menu",d)[0];if(e){Ed(e,false);Uc(e).body.appendChild(e);var f=new yf;f.s(e);a.Nb(f)}return Tg.a.s.call(this,a,d)};
l.Wb=function(a,d){return Tg.a.Wb.call(this,[this.createCaption(a,d),d.k("div","goog-inline-block "+(this.h()+"-dropdown"),"\u00a0")],d)};l.createCaption=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-caption"),a)};l.h=k("goog-menu-button");function Ug(a,d,e,f){Jg.call(this,a,e||Tg.A(),f);Ve(this,64,true);d&&this.Nb(d);this.u=new Yd(500)}z(Ug,Jg);l=Ug.prototype;l.md=true;l.bd=false;l.Pc=false;l.R=function(){Ug.a.R.call(this);this.g&&Vg(this,this.g,true);Ge(this.d(),"haspopup","true")};l.ia=function(){Ug.a.ia.call(this);if(this.g){this.B(false);this.g.ia();Vg(this,this.g,false);var a=this.g.d();a&&cd(a)}};l.f=function(){Ug.a.f.call(this);if(this.g){this.g.L();delete this.g}delete this.cf;this.u.L()};
l.Na=function(a){Ug.a.Na.call(this,a);if(this.Cb()){this.B(!this.pa());if(this.g)this.g.sa=this.pa()}};l.Ab=function(a){Ug.a.Ab.call(this,a);if(this.g&&!this.Cb())this.g.sa=false};l.Ta=function(){this.setActive(false);return true};l.Me=function(a){this.g&&this.g.i&&!this.Ga(a.target)&&this.B(false)};l.Ga=function(a){return a&&ed(this.d(),a)||this.g&&this.g.Ga(a)||false};
l.ib=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!=Cc)return false}else if(a.type!="key")return false;if(this.g&&this.g.i){var d=this.g.ea(a);if(a.keyCode==27){this.B(false);return true}return d}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.B(true);return true}return false};l.Hc=function(){this.B(false)};l.Qe=function(){this.Cb()||this.B(false)};l.oa=function(a){this.Pc||this.B(false);Ug.a.oa.call(this,a)};function Wg(a){a.g||a.Nb(new yf(a.M()));return a.g||null}
l.Nb=function(a){var d=this.g;if(a!=d){if(d){this.B(false);this.q&&Vg(this,d,false);delete this.g}if(a){this.g=a;xe(a,this);a.l(false);Af(a,this.Pc);this.q&&Vg(this,a,true)}}return d};l.Ea=function(a){Wg(this).tb(a,true)};l.bb=function(a,d){Wg(this).ub(a,d,true)};l.yb=function(a){return this.g?Ce(this.g,a):null};l.Bc=function(){return this.g?Be(this.g):0};l.l=function(a,d){var e=Ug.a.l.call(this,a,d);e&&!this.i&&this.B(false);return e};l.Aa=function(a){Ug.a.Aa.call(this,a);this.F()||this.B(false)};
l.B=function(a){Ug.a.B.call(this,a);if(this.g&&!!(this.n&64)==a){if(a){this.g.q||this.g.Yc();this.se=xd(this.d());this.qd=Dd(this.d());Xg(this);kf(this.g,-1)}else{this.setActive(false);this.g.sa=false;if(this.jc!=null){this.jc=undefined;var d=this.g.d();d&&Bd(d,"","")}}this.g.l(a);d=we(this);var e=a?d.j:d.Q;e.call(d,md(this.M()),"mousedown",this.Me,true);this.Pc&&e.call(d,this.g,"blur",this.Qe);e.call(d,this.u,$d,this.ic);a?this.u.start():this.u.stop()}};
function Xg(a){if(a.g.q){var d=a.cf||a.d();d=new Sg(d,a.md?5:7,!a.bd,a.bd);var e=a.g.d();if(!a.g.i){e.style.visibility="hidden";Ed(e,true)}if(!a.jc&&a.bd)a.jc=Cd(e);d.Va(e,a.md?4:6,null,a.jc);if(!a.g.i){Ed(e,false);e.style.visibility="visible"}}}
l.ic=function(){var a=Dd(this.d()),d=xd(this.d()),e;e=this.qd;e=e==a?true:!e||!a?false:e.left==a.left&&e.width==a.width&&e.top==a.top&&e.height==a.height;if(!(e=!e)){e=this.se;e=e==d?true:!e||!d?false:e.top==d.top&&e.right==d.right&&e.bottom==d.bottom&&e.left==d.left;e=!e}if(e){this.qd=a;this.se=d;Xg(this)}};function Vg(a,d,e){var f=we(a);e=e?f.j:f.Q;e.call(f,d,se,a.Hc);e.call(f,d,"highlight",a.Gc);e.call(f,d,"unhighlight",a.Lc)}l.Gc=function(a){Ge(this.d(),"activedescendant",a.target.d().id)};
l.Lc=function(){lf(this.g)||Ge(this.d(),"activedescendant","")};Me("goog-menu-button",function(){return new Ug(null)});function Yg(){}z(Yg,Tg);ga(Yg);Yg.prototype.h=k("goog-toolbar-menu-button");function Zg(a,d,e,f){Ug.call(this,a,d,e||Yg.A(),f)}z(Zg,Ug);Me("goog-toolbar-menu-button",function(){return new Zg(null)});function $g(a){this.Qa=[];ah(this,a)}z($g,Jd);l=$g.prototype;l.za=null;l.Wa=null;l.Bc=function(){return this.Qa.length};l.yb=function(a){return this.Qa[a]||null};function ah(a,d){if(d){qb(d,function(e){bh(this,e,false)},a);yb(a.Qa,d)}}l.Ea=function(a){this.bb(a,this.Bc())};l.bb=function(a,d){if(a){bh(this,a,false);zb(this.Qa,d,0,a)}};l.Zb=ca("za");l.Ya=function(a){if(a!=this.za){bh(this,this.za,false);this.za=a;bh(this,a,true)}this.dispatchEvent("select")};
l.Dc=function(){return this.za?pb(this.Qa,this.za):-1};l.me=function(a){this.Ya(this.yb(a))};l.clear=function(){var a=this.Qa;if(!p(a))for(var d=a.length-1;d>=0;d--)delete a[d];a.length=0;this.za=null};l.f=function(){$g.a.f.call(this);delete this.Qa;this.za=null};function bh(a,d,e){if(d)if(typeof a.Wa=="function")a.Wa(d,e);else typeof d.ed=="function"&&d.ed(e)};function ch(a,d,e,f){Ug.call(this,a,d,e,f);this.Xb=a;dh(this)}z(ch,Ug);l=ch.prototype;l.t=null;l.Xb=null;l.R=function(){ch.a.R.call(this);dh(this)};l.Ia=function(a){ch.a.Ia.call(this,a);if(a=this.La()){this.Xb=a;dh(this)}else this.me(0)};l.f=function(){ch.a.f.call(this);if(this.t){this.t.L();this.t=null}this.Xb=null};l.Hc=function(a){this.Ya(a.target);ch.a.Hc.call(this,a);a.stopPropagation();this.dispatchEvent(se)};l.Te=function(){var a=this.Zb();ch.a.ka.call(this,a&&a.O());dh(this)};
l.Nb=function(a){var d=ch.a.Nb.call(this,a);if(a!=d){this.t&&this.t.clear();if(a)this.t?Ae(a,function(e){this.t.Ea(e)},this):eh(this,a)}return d};l.Ea=function(a){ch.a.Ea.call(this,a);this.t?this.t.Ea(a):eh(this,Wg(this))};l.bb=function(a,d){ch.a.bb.call(this,a,d);this.t?this.t.bb(a,d):eh(this,Wg(this))};l.Ya=function(a){this.t&&this.t.Ya(a)};l.me=function(a){this.t&&this.Ya(this.t.yb(a))};
l.ka=function(a){if(a!=null&&this.t)for(var d=0,e;e=this.t.yb(d);d++)if(e&&typeof e.O=="function"&&e.O()==a){this.Ya(e);return}this.Ya(null)};l.Zb=function(){return this.t?this.t.Zb():null};l.Dc=function(){return this.t?this.t.Dc():-1};function eh(a,d){a.t=new $g;d&&Ae(d,function(e){this.t.Ea(e)},a);we(a).j(a.t,"select",a.Te)}function dh(a){var d=a.Zb();a.Xa(d?d.La():a.Xb)}l.B=function(a){ch.a.B.call(this,a);this.pa()&&kf(Wg(this),this.Dc())};Me("goog-select",function(){return new ch(null)});function fh(a,d,e,f){ch.call(this,a,d,e||Yg.A(),f)}z(fh,ch);Me("goog-toolbar-select",function(){return new fh(null)});function gh(a,d){$e.call(this,a||Dg.A(),d)}z(gh,$e);Me("goog-toolbar-separator",function(){return new gh});function hh(a,d,e){Jg.call(this,a,d||Kg.A(),e);Ve(this,16,true)}z(hh,Jg);Me("goog-toggle-button",function(){return new hh(null)});function ih(a,d,e){hh.call(this,a,d||Mg.A(),e)}z(ih,hh);Me("goog-toolbar-toggle-button",function(){return new ih(null)});function jh(a,d,e){wf.call(this,a,d,e);this.dd(true)}z(jh,wf);jh.prototype.Ta=function(){return this.dispatchEvent(se)};Me("goog-option",function(){return new jh(null)});function kh(a,d,e){Jg.call(this,a,d||Kg.A(),e)}z(kh,Jg);Me("goog-custom-button",function(){return new kh(null)});function lh(){this.ef=ra()}new lh;lh.prototype.pb=ba("ef");lh.prototype.reset=function(){this.pb(ra())};function mh(a,d,e){this.Wd=a;this.Wa=e;this.e=d;F(d,[nh,oh,ph,qh],this);this.la=null;this.G=[];this.U=-1;this.W=0;this.Ja=this.V=null}z(mh,Jd);l=mh.prototype;l.Ye=10;l.De=true;l.nd=false;l.ve=false;l.rf=false;var nh="hilite",oh="select",qh="dismiss",ph="canceldismiss";l=mh.prototype;l.handleEvent=function(a){if(a.target==this.e)switch(a.type){case nh:this.fa(a.b);break;case oh:rh(this);break;case ph:sh(this);break;case qh:th(this);break}};l.pa=function(){return this.e.i};
function uh(a){var d=a.W+a.G.length-1;if(a.U>=a.W&&a.U<d){a.fa(a.U+1);return true}else if(a.U==-1){a.fa(a.W);return true}else if(a.U==d)if(a.nd){a.fa(-1);return false}else if(a.ve){a.fa(a.W);return true}return false}function vh(a){if(a.U>a.W){a.fa(a.U-1);return true}else if(a.nd&&a.U==a.W){a.fa(-1);return false}else if(a.ve&&(a.U==-1||a.U==a.W)){a.fa(a.W+a.G.length-1);return true}return false}l.fa=function(a){this.U=a;this.e.fa(a);return wh(this,a)!=-1};
function rh(a){var d=wh(a,a.U);if(d!=-1){d=a.G[d];var e=a.Wa,f=d.toString();if(e.mb){var g=xh(e,e.O(),yh(e.w)),h=zh(e,e.O());f=f;e.kf.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+e.Ee);if(e.vf){if(g!=0&&!wa(h[g-1]))f=" "+f;if(g==h.length-1)f+=" "}if(f!=h[g]){h[g]=f;f=e.w;C&&f.blur();f.value=h.join("");for(var n=0,o=0;o<=g;o++)n+=h[o].length;f.focus();g=n;h=e.w;f=g;if(Ah(h))h.selectionStart=f;else if(B){n=Bh(h);o=n[0];if(o.inRange(n[1])){f=Ch(h,f);o.collapse(true);o.move("character",f);o.select()}}h=e.w;
g=g;if(Ah(h))h.selectionEnd=g;else if(B){n=Bh(h);f=n[1];if(n[0].inRange(f)){g=Ch(h,g);h=Ch(h,yh(h));f.collapse(true);f.moveEnd("character",g-h);f.select()}}}}else e.ka(f);e.ad=true;a.ua();a.dispatchEvent({type:"update",b:d});a.rf&&a.Wa.update(true);return true}else{a.ua();a.dispatchEvent({type:"update",b:null});return false}}l.ua=function(){this.U=-1;this.la=null;this.W+=this.G.length;this.G=[];window.clearTimeout(this.Ja);this.Ja=null;this.e.ua()};
function th(a){if(!a.Ja)a.Ja=window.setTimeout(pa(a.ua,a),100)}function sh(a){window.setTimeout(pa(function(){if(this.Ja){window.clearTimeout(this.Ja);this.Ja=null}},a),10)}l.f=function(){mh.a.f.call(this);this.e.L();this.Wa.L();this.Wd=null};l.Xe=function(a,d,e){this.la==a&&this.Zc(d,e)};
l.Zc=function(a,d){var e=d?wh(this,this.U):null;this.W+=this.G.length;this.G=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.W+g,data:a[g]});this.e.Zc(f,this.la,this.V);if(this.De&&f.length!=0)this.fa(e!=null?this.W+e:this.W);else this.U=-1};function wh(a,d){var e=d-a.W;if(e<0||e>=a.G.length)return-1;return e}l.wc=function(){var a=this.Wa;a.wc.apply(a,arguments)};function Dh(a,d){this.G=a;this.tf=!d}function Eh(a,d,e){var f=[];if(d!=""){d=Ga(d);var g=RegExp("(^|\\W+)"+d,"i");Hf(a.G,function(h){String(h).match(g)&&f.push(h);return f.length>=e})}return f}
function Fh(a,d,e){var f=[];Gf(a.G,function(h,n){var o=d.toLowerCase(),q=String(h).toLowerCase(),s=0;if(q.indexOf(o)!=-1)s=parseInt((q.indexOf(o)/4).toString(),10);else for(var A=o.split(""),u=-1,t=10,E=0,O;O=A[E];E++){O=q.indexOf(O);if(O>u){u=O-u-1;if(u>t-5)u=t-5;s+=u;u=O}else{s+=t;t+=5}}s<o.length*6&&f.push({of:h,ke:s,index:n})});f.sort(function(h,n){var o=h.ke-n.ke;if(o!=0)return o;return h.index-n.index});a=[];for(var g=0;g<e&&g<f.length;g++)a.push(f[g].of);return a};function yh(a){var d;a:{var e=0,f=0;if(Ah(a)){e=a.selectionStart;f=-1}else if(B){var g=Bh(a);d=g[0];g=g[1];if(d.inRange(g)){d.setEndPoint("EndToStart",g);if(a.type=="textarea"){g.duplicate();e=a=d.text;for(f=false;!f;)if(d.compareEndPoints("StartToEnd",d)==0)f=true;else{d.moveEnd("character",-1);if(d.text==a)e+="\r\n";else f=true}d=[e.length,-1];break a}e=d.text.length;f=-1}}d=[e,f]}return d[0]}
function Bh(a){var d=a.ownerDocument||a.document,e=d.selection.createRange();if(a.type=="textarea"){d=d.body.createTextRange();d.moveToElementText(a)}else d=a.createTextRange();return[d,e]}function Ch(a,d){if(a.type=="textarea")d=a.value.substring(0,d).replace(/(\r\n|\r|\n)/g,"\n").length;return d}function Ah(a){try{return typeof a.selectionStart=="number"}catch(d){return false}};function Gh(a,d,e,f){f=f||150;this.Lb=a!=null?a:Hh;this.Ee=this.Lb.substring(0,1);a=this.mb?"[\\s"+this.Lb+"]+":"[\\s]+";this.qe=RegExp("^"+a+"|"+a+"$","g");this.kf=RegExp("\\s*["+this.Lb+"]$");this.Vd=d||"";this.df=this.mb=e!=null?e:true;this.u=f>0?new Yd(f):null;this.T=new le(this);this.Sb=new le(this);this.P=new Rd;this.Qd=-1}z(Gh,Fb);var Hh=",;";l=Gh.prototype;l.vf=true;l.He=true;l.re=false;l.mf=true;l.lf=true;l.w=null;l.Tc="";l.Ca=false;l.ad=false;l.sf=true;l.O=function(){return this.w.value};
l.ka=function(a){this.w.value=a};l.wc=function(){for(var a=0;a<arguments.length;a++){var d=arguments[a];Ge(d,"haspopup",true);this.T.j(d,Ec,this.Ma);this.T.j(d,Dc,this.oa);this.w||this.Sb.j(d,Bc,this.af)}};l.f=function(){Gh.a.f.call(this);this.T.L();delete this.T;this.Sb.L();this.Sb=null};
l.ea=function(a){switch(a.keyCode){case 40:if(this.z.pa()){this.re?vh(this.z):uh(this.z);a.preventDefault();return true}else if(!this.mb){this.update(true);a.preventDefault();return true}break;case 38:if(this.z.pa()){this.re?uh(this.z):vh(this.z);a.preventDefault();return true}break;case 9:if(this.z.pa()){this.update();if(rh(this.z)&&this.df){a.preventDefault();return true}}else this.z.ua();break;case 13:this.update();if(rh(this.z)){a.preventDefault();a.stopPropagation();return true}break;case 27:if(this.z.pa()){this.z.ua();
return true}break;case 229:if(!this.Ca){if(!this.Ca){this.T.j(this.w,Cc,this.ee);this.T.j(this.w,"keypress",this.de);this.Ca=true}return true}break;default:if(this.u&&!this.sf){this.u.stop();this.u.start()}}return Ih(this,a)};function Ih(a,d){var e=a.mb&&d.charCode&&a.Lb.indexOf(String.fromCharCode(d.charCode))!=-1;a.mf&&e&&a.update();if(a.lf&&e)if(rh(a.z)){d.preventDefault();return true}return false}l.Oe=k(false);
l.Ma=function(a){ne(this.Sb);this.z&&sh(this.z);if(a.target!=this.w){this.w=a.target||null;if(this.u){this.u.start();this.T.j(this.u,$d,this.ic)}this.Tc=this.O();Sd(this.P,this.w);this.T.j(this.P,"key",this.fe);B&&this.T.j(this.w,"keypress",this.ce)}};l.oa=function(){if(this.w){this.T.Q(this.P,"key",this.fe);this.P.detach();this.T.Q(this.w,Cc,this.Oe);B&&this.T.Q(this.w,"keypress",this.ce);this.Ca&&Jh(this);this.w=null;if(this.u){this.u.stop();this.T.Q(this.u,$d,this.ic)}this.z&&th(this.z)}};
l.ic=function(){this.update()};l.af=function(a){this.Ma(a)};l.fe=function(a){this.Qd=a.keyCode;this.z&&this.ea(a)};l.de=function(){this.Ca&&this.Qd!=229&&Jh(this)};l.ee=function(a){if(this.Ca&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey))Jh(this)};function Jh(a){if(a.Ca){a.Ca=false;a.T.Q(a.w,"keypress",a.de);a.T.Q(a.w,Cc,a.ee)}}l.ce=function(a){Ih(this,a)};
l.update=function(a){if(a||this.w&&this.O()!=this.Tc){if(a||!this.ad){var d;a=yh(this.w);d=this.O();a=zh(this,d)[xh(this,d,a)];d=this.qe?String(a).replace(this.qe,""):a;if(this.z){this.z.V=this.w;a=this.z;this.O();if(a.la!=d){a.la=d;d=a.Wd;var e=a.la,f=a.Ye,g=pa(a.Xe,a),h=Eh(d,e,f);if(h.length==0&&d.tf)h=Fh(d,e,f);g(e,h);sh(a)}}}this.Tc=this.O()}this.ad=false};function xh(a,d,e){a=zh(a,d);if(e==d.length)return a.length-1;for(var f=d=0,g=0;f<a.length&&g<e;f++){g+=a[f].length;d=f}return d}
function zh(a,d){if(!a.mb)return[d];for(var e=String(d).split(""),f=[],g=[],h=0,n=false;h<e.length;h++)if(a.Vd&&a.Vd.indexOf(e[h])!=-1){if(a.He&&!n){f.push(g.join(""));g.length=0}g.push(e[h]);n=!n}else if(!n&&a.Lb.indexOf(e[h])!=-1){g.push(e[h]);f.push(g.join(""));g.length=0}else g.push(e[h]);f.push(g.join(""));return f};function Kh(a,d,e,f){this.r=a||document.body;this.D=Sc(this.r);this.gf=!a;this.c=null;this.la="";this.G=[];this.ne=this.bc=-1;this.i=false;this.className="ac-renderer";this.$c="ac-row";this.Td="active";this.ld="ac-active";this.Ue="ac-highlighted";this.eb=d||null;this.uf=f!=null?f:true;this.Mc=false;this.jf=e!=null?e:false;this.Qc=null;this.oc=false}z(Kh,Jd);l=Kh.prototype;l.d=ca("c");l.Zc=function(a,d,e){this.la=d;this.G=a;this.bc=-1;this.ne=ra();this.V=e;this.Kb=[];Lh(this)};
l.ua=function(){this.V&&Ge(this.V,"activedescendant","");if(this.i){this.i=false;Ed(this.c,false)}};l.show=function(){if(!this.i){this.i=true;Ed(this.c,true)}};
function Mh(a,d){a.bc>=0&&Nc(a.Kb[a.bc],a.ld,a.Td);a.bc=d;if(d>=0&&d<a.c.childNodes.length){var e=a.Kb[d];Mc(e,a.ld,a.Td);if(a.V)Ge(a.V,"activedescendant",e?e.id:"");var f=a.c,g=yd(e),h=yd(f),n;if(B){var o=Id(f,"borderLeft");n=Id(f,"borderRight");var q=Id(f,"borderTop"),s=Id(f,"borderBottom");n=new od(q,n,s,o)}else{o=qd(f,"borderLeftWidth");n=qd(f,"borderRightWidth");q=qd(f,"borderTopWidth");s=qd(f,"borderBottomWidth");n=new od(parseFloat(q),parseFloat(n),parseFloat(s),parseFloat(o))}o=g.x-h.x-n.left;
g=g.y-h.y-n.top;h=f.clientHeight-e.offsetHeight;f.scrollLeft+=Math.min(o,Math.max(o-(f.clientWidth-e.offsetWidth),0));f.scrollTop+=Math.min(g,Math.max(g-h,0))}}l.fa=function(a){if(a==-1)Mh(this,-1);else for(var d=0;d<this.G.length;d++)if(this.G[d].id==a){Mh(this,d);return}};
function Nh(a){if(!a.c){var d=a.D.k("div",{style:"display:none"});a.c=d;Mc(d,a.className);Fe(d,"listbox");d.id=pe(oe.A());if(a.V){Fe(a.V,"combobox");Ge(a.V,"autocomplete","list");Ge(a.V,"haspopup",true)}a.D.appendChild(a.r,d);F(d,yc,a.Dd,false,a);F(d,"mousedown",a.Hd,false,a);F(a.D.p,yc,a.Fd,false,a);F(d,zc,a.Id,false,a)}}
function Lh(a){Nh(a);if(a.oc)a.c.style.visibility="hidden";a.Kb.length=0;a.D.je(a.c);if(a.eb&&a.eb.Yc)a.eb.Yc(a,a.c,a.G,a.la);else{var d=null;Gf(a.G,function(e){e=e;var f=this.la,g=this.D.k("div",{className:this.$c,id:pe(oe.A())});Fe(g,"option");if(this.eb&&this.eb.ff)this.eb.ff(e,f,g);else g.innerHTML=ya(e.data.toString());f&&this.uf&&Oh(this,g,f);Mc(g,this.$c);this.Kb.push(g);e=g;this.oc?this.c.insertBefore(e,d):this.D.appendChild(this.c,e);d=e},a)}if(a.G.length==0)a.ua();else{a.show();Ph(a,a.c);
a.Va();Gd(a.c,true)}}l.Va=function(){if(this.V&&this.gf){var a=yd(this.V),d=Cd(this.V),e=Cd(ud(this.V)),f=Cd(this.c);a.y=this.oc?a.y-f.height:a.y+d.height;if((this.jf||a.x+f.width>e.width)&&this.Qc!="LEFT"){a.x=a.x+d.width-f.width;this.Qc="RIGHT"}else this.Qc="LEFT";Ad(this.c,a);if(this.oc)this.c.style.visibility="visible"}};
l.f=function(){Kh.a.f.call(this);if(this.c){tc(this.c,yc,this.Dd,false,this);tc(this.c,"mousedown",this.Hd,false,this);tc(this.D.p,yc,this.Fd,false,this);tc(this.c,zc,this.Id,false,this);this.D.removeNode(this.c);this.c=null;this.i=false}delete this.r};function Ph(a,d){if(C&&Za){d.style.width="";d.style.overflow="visible";d.style.width=d.offsetWidth;d.style.overflow="auto"}}
function Oh(a,d,e){if(d.nodeType==3){var f=null;if(p(e)&&e.length>1&&!a.Mc)f=Ab(e,1);e=Qh(a,e);if(e.length!=0){var g=d.nodeValue,h=RegExp("(.*?)(^|\\W+)("+e+")","gi");e=[];for(var n=0,o=h.exec(g),q=0;o;){q++;e.push(o[1]);e.push(o[2]);e.push(o[3]);n=h.lastIndex;o=h.exec(g)}e.push(g.substring(n));if(e.length>1){f=!a.Mc?1:q;for(g=0;g<f;g++){h=3*g;d.nodeValue=e[h]+e[h+1];n=a.D.createElement("b");n.className=a.Ue;a.D.appendChild(n,a.D.createTextNode(e[h+2]));n=d.parentNode.insertBefore(n,d.nextSibling);
d.parentNode.insertBefore(a.D.createTextNode(""),n.nextSibling);d=n.nextSibling}a=Ab(e,f*3);d.nodeValue=a.join("")}else f&&Oh(a,d,f)}}else for(d=d.firstChild;d;){f=d.nextSibling;Oh(a,d,e);d=f}}function Qh(a,d){var e="";if(!d)return e;if(a.Mc)if(p(d)){e=rb(d,function(f){return!wa(f==null?"":String(f))});e=sb(e,Ga);e=e.join("|")}else{e=va(d);e=Ga(e);e=e.replace(/ /g,"|")}else e=p(d)?d.length>0?Ga(d[0]):"":Ga(d);return e}
function Rh(a,d){for(;d&&d!=a.c&&!ub(Lc(d),a.$c);)d=d.parentNode;return d?pb(a.Kb,d):-1}l.Dd=function(a){var d=Rh(this,a.target);d>=0&&this.dispatchEvent({type:oh,b:this.G[d].id});a.stopPropagation()};l.Hd=function(a){this.dispatchEvent(ph);a.stopPropagation();a.preventDefault()};l.Fd=function(){this.dispatchEvent(qh)};l.Id=function(a){a=Rh(this,a.target);if(a>=0)ra()-this.ne<300||this.dispatchEvent({type:nh,b:this.G[a].id})};function Sh(a,d,e,f){a=new Dh(a,!f);f=new Kh;e=new Gh(null,null,!!e);mh.call(this,a,f,e);e.z=this;e.wc(d)}z(Sh,mh);function Th(a,d){this.hc=d||"";this.cb=a||""}var Uh=/[()<>@,;:\\\".\[\]]/,Vh=/\"/g,Wh=/\\\"/g,Xh=/\\/g,Yh=/\\\\/g;Th.prototype.getName=ca("hc");Th.prototype.toString=function(){var a=this.getName();a=a.replace(Vh,"");if(Uh.test(a))a='"'+a.replace(Xh,"\\\\")+'"';if(a=="")return this.cb;if(this.cb=="")return a;return a+" <"+this.cb+">"};
function Zh(a){for(var d="",e="",f=0;f<a.length;){var g=$h(a,f);if(g.charAt(0)=="<"&&g.indexOf(">")!=-1)e=g.substring(1,g.indexOf(">"));else if(e=="")d+=g;f+=g.length}if(e==""&&d.indexOf("@")!=-1){e=d;d=""}d=va(d);d=Fa(d,"'");d=Fa(d,'"');d=d.replace(Wh,'"');d=d.replace(Yh,"\\");e=va(e);return new Th(e,d)}function ai(a){for(var d=[],e="",f,g=0;g<a.length;){f=$h(a,g);if(f==","||f==";"){wa(e)||d.push(Zh(e));e="";g++}else{e+=f;g+=f.length}}wa(e)||d.push(Zh(e));return d}
function $h(a,d){var e=a.charAt(d),f='"<(['.indexOf(e);if(f==-1)return e;if(bi(a,d))return e;f='">)]'.charAt(f);for(var g=a.indexOf(f,d+1);g>=0&&bi(a,g);)g=a.indexOf(f,g+1);return g>=0?a.substring(d,g+1):e}function bi(a,d){if(a.charAt(d)!='"')return false;for(var e=0,f=d-1;f>=0&&a.charAt(f)=="\\";f--)e++;return e%2!=0};function ci(a,d,e,f){if(!p(a)||!p(d))throw Error("Start and end parameters must be arrays");if(a.length!=d.length)throw Error("Start and end points must be the same length");this.Pb=a;this.Ge=d;this.duration=e;this.kd=f;this.coords=[]}z(ci,Jd);var di="end",ei={},fi=null;function gi(){Zd.clearTimeout(fi);var a=ra();for(var d in ei)hi(ei[d],a);fi=gc(ei)?null:Zd.setTimeout(gi,20)}function ii(a){a=ma(a);delete ei[a];if(fi&&gc(ei)){Zd.clearTimeout(fi);fi=null}}l=ci.prototype;l.n=0;l.Ad=0;l.Y=0;
l.startTime=null;l.xd=null;l.Sc=null;l.play=function(a){if(a||this.n==0){this.Y=0;this.coords=this.Pb}else if(this.n==1)return false;ii(this);this.startTime=ra();if(this.n==-1)this.startTime-=this.duration*this.Y;this.xd=this.startTime+this.duration;this.Sc=this.startTime;this.Y||this.Gb();ji(this,"play");this.n==-1&&ji(this,"resume");this.n=1;a=ma(this);a in ei||(ei[a]=this);fi||(fi=Zd.setTimeout(gi,20));hi(this,this.startTime);return true};
l.stop=function(a){ii(this);this.n=0;if(a)this.Y=1;ki(this,this.Y);ji(this,"stop");this.nb()};l.f=function(){this.n!=0&&this.stop(false);ji(this,"destroy");ci.a.f.call(this)};function hi(a,d){a.Y=(d-a.startTime)/(a.xd-a.startTime);if(a.Y>=1)a.Y=1;a.Ad=1E3/(d-a.Sc);a.Sc=d;ka(a.kd)?ki(a,a.kd(a.Y)):ki(a,a.Y);if(a.Y==1){a.n=0;ii(a);ji(a,"finish");a.nb()}else a.n==1&&a.Wc()}function ki(a,d){a.coords=Array(a.Pb.length);for(var e=0;e<a.Pb.length;e++)a.coords[e]=(a.Ge[e]-a.Pb[e])*d+a.Pb[e]}
l.Wc=function(){ji(this,"animate")};l.Gb=function(){ji(this,"begin")};l.nb=function(){ji(this,di)};function ji(a,d){a.dispatchEvent(new li(d,a))}function li(a,d){Gb.call(this,a);this.coords=d.coords;this.x=d.coords[0];this.y=d.coords[1];this.Gf=d.coords[2];this.duration=d.duration;this.Y=d.Y;this.yf=d.Ad;this.Ef=d.n;this.wf=d}z(li,Gb);function mi(a,d,e,f,g){ci.call(this,d,e,f,g);this.element=a}z(mi,ci);mi.prototype.pc=fa;mi.prototype.Wc=function(){this.pc();mi.a.Wc.call(this)};mi.prototype.nb=function(){this.pc();mi.a.nb.call(this)};mi.prototype.Gb=function(){this.pc();mi.a.Gb.call(this)};function ni(a,d,e,f,g){if(ja(d))d=[d];if(ja(e))e=[e];mi.call(this,a,d,e,f,g);if(d.length!=1||e.length!=1)throw Error("Start and end points must be 1D");}z(ni,mi);
ni.prototype.pc=function(){var a=this.coords[0],d=this.element.style;if("opacity"in d)d.opacity=a;else if("MozOpacity"in d)d.MozOpacity=a;else if("filter"in d)d.filter=a===""?"":"alpha(opacity="+a*100+")"};ni.prototype.show=function(){this.element.style.display=""};function oi(a,d,e){ni.call(this,a,1,0,d,e)}z(oi,ni);oi.prototype.Gb=function(){this.show();oi.a.Gb.call(this)};oi.prototype.nb=function(){this.element.style.display="none";oi.a.nb.call(this)};/*
 Rawscripts.com copywrite 2010



*/
window.changeFormat=pi;window.deleteThread=qi;window.newThread=ri;window.tabs=si;window.exportScripts=ti;window.hideExportPrompt=ui;window.renameScript=vi;window.hideRenamePrompt=wi;window.renamePrompt=xi;window.hideNewScriptPrompt=yi;window.createScript=zi;window.hideSpellCheck=Ai;window.s_change=Bi;window.s_ignore=Ci;window.s_ignore_all=Di;window.replaceAndFind=Ei;window.replaceText=Fi;window.hideFindReplacePrompt=Gi;window.hideFindPrompt=Hi;window.findUp=Ii;window.findDown=Ji;
window.shareScript=Ki;window.hideSharePrompt=Li;window.hideEmailPrompt=Mi;window.emailScript=Ni;window.save=Oi;window.setJustPasted=Pi;window.paint=Qi;window.init=Ri;window.paste=Si;window.cut=Ti;
var Ui=0,Vi=1,Wi=0,Xi=true,Yi,H=true,Zi=false,$i=false,aj=false,I=[],bj=[],K=[],cj=0,dj=false,ej=false,fj=false,gj=[],hj=[],M=[],N=0,P=0,R=0,S=0,T=0,ij=[],jj=[],kj="#fff",lj="10pt Courier",U=8,mj="#000",V=13,nj=0,oj=["Slugline","Action","Character","Dialog","Parenthetical","Transition"],X="random123456789",Y=[[62,101,0,1,2],[62,101,0,0,2],[40,261,0,1,1],[36,181,0,0,2],[30,221,0,0,1],[61,591,1,1,2]],Z=850,pj=91,$=[];notes=[];var qj=[],rj=[],sj=false,tj,uj,vj,wj;
function Ri(){xj("i");var a=Nd,d=new Md(document.getElementById("canvas"));F(d,a,yj);F(window,"unload",function(){tc(d,a,yj)});F(G("find_input"),Bc,function(h){if(h.keyCode==13){h.preventDefault();Ji()}});F(G("fr_find_input"),Bc,function(h){if(h.keyCode==13){h.preventDefault();Ji()}});F(G("renameField"),Bc,function(h){if(h.keyCode==13){h.preventDefault();vi()}});F(G("subject"),Bc,function(h){h.keyCode==13&&h.preventDefault()});F(G("find_input"),Ec,function(){H=false;Zi=true;fj=false});F(G("find_input"),
Dc,function(){H=true;fj=Zi=false});F(G("find_input"),Cc,function(h){zj(h,"f")});F(G("fr_find_input"),Ec,function(){H=false;Zi=true;fj=false});F(G("fr_find_input"),Dc,function(){H=true;fj=Zi=false});F(G("fr_find_input"),Cc,function(h){zj(h,"r")});F(G("fr_replace_input"),Ec,function(){H=false;Zi=true;fj=false});F(G("fr_replace_input"),Dc,function(){H=true;fj=Zi=false});tj=new yf;tj.s(G("fileMenu"));zf(tj,0,64);Af(tj,true);tj.l(false);F(G("file"),yc,Aj);F(G("file"),zc,Bj);F(G("file"),Ac,Cj);F(tj,"action",
Dj);uj=new yf;uj.s(G("editMenu"));zf(uj,35,64);Af(uj,true);uj.l(false);F(G("edit"),yc,Aj);F(G("edit"),zc,Bj);F(G("edit"),Ac,Cj);F(uj,"action",Dj);vj=new yf;vj.s(G("viewMenu"));zf(vj,72,64);Af(vj,true);vj.l(false);F(G("view"),yc,Aj);F(G("view"),zc,Bj);F(G("view"),Ac,Cj);F(vj,"action",Dj);wj=new yf;wj.s(G("shareMenu"));zf(wj,113,64);Af(wj,true);wj.l(false);F(G("share"),yc,Aj);F(G("share"),zc,Bj);F(G("share"),Ac,Cj);F(wj,"action",Dj);var e=[["save","S"],["export","E"],["undo","Z"],["redo","Shift Z"],
["find","F"]],f=Za==true?"\u2318":"Ctrl+";for(i in e){var g=G(e[i][0]+"-shortcut");fd(g,f+e[i][1])}X=window.location.href.split("=")[1];sg("scriptcontent",Ej,"POST","resource_id="+X)}function xj(a){var d=Zc(window);Bd(G("container"),d);document.getElementById("canvas").height=d.height-60-38;document.getElementById("canvas").width=d.width-320;Z=d.width-323;document.getElementById("sidebar").style.height=d.height-70+"px";if(a=="r"){Fj(0);Qi(false,false,false)}}var Gj=new Kd;F(Gj,"resize",function(){xj("r")});
var Hj=new Rd(document);F(Hj,"key",Ij);
function Ij(a){if(!a.he){if(a.target.id=="ccp"){nj=(new Date).getMilliseconds();if(a.keyCode==13){if(H&&document.getElementById("suggestBox")==null){Jj();sj&&Kj(R);$[R][0]=$[R][0].replace(/\s+$/,"");for(x in notes){if(R<notes[x][0])notes[x][0]+=1;if(R==notes[x][0]&&P<notes[x][1]){notes[x][1]-=P;notes[x][0]+=1}}I.push(["enter",R,P]);bj=[];$[R][1]==2&&Lj($[R][0]);var d=$[R][0].slice(0,P),e=$[R][0].slice(P);$[R][0]=d;if($[R][1]==0)var f=1;else if($[R][1]==1)f=2;else if($[R][1]==2)f=3;else if($[R][1]==
4)f=3;else if($[R][1]==3)f=2;else if($[R][1]==5)f=0;$.splice(R+1,0,[e,f]);R++;P=0;T=R;S=P;document.getElementById("find_div").style.display=="block"&&zj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r");Qi(true,"enter",false);Qi(false,"enter",false)}else if(document.getElementById("suggestBox")!=null){Jj();d=$[R][0].length;e=lf(Mj).La();$[R][0]=e;I.push(["paste",R,P,$[R][0].substr(d)]);document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));
P=S=$[R][0].length}Nj();document.getElementById("find_div").style.display=="block"&&zj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r")}else if(a.keyCode==38)a:if(H&&document.getElementById("suggestBox")==null){if(!(R==0&&P==0)){var g=$[R][1];if(g==0)d=Y[0];else if(g==1)d=Y[1];else if(g==2)d=Y[2];else if(g==3)d=Y[3];else if(g==4)d=Y[4];else if(g==5)d=Y[5];if($[R][0].length>d[0]){var h=$[R][0].split(" "),n=0;for(g=[];n<h.length;){if(h[n].length>=
d[0]){g.push(h[n].length);n++}if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}}f=0;for(h=g[0];h<P;){f++;h+=g[f]+1}if(R==0&&f==0){P=S=0;break a}if(f==0){sj&&Kj(R);g=$[R-1][1];if(g==0)e=Y[0];else if(g==1)e=Y[1];else if(g==2)e=Y[2];else if(g==3)e=Y[3];else if(g==4)e=Y[4];else if(g==5)e=Y[5];if($[R-1][0].length<e[0])R--;else{h=$[R-1][0].split(" ");n=0;for(g=[];n<h.length;)if(h[n].length>=
d[0]){g.push(h[n].length);n++}else if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}R--;P+=$[R][0].length-g[g.length-1]}if(P>$[R][0].length)P=$[R][0].length}else{P-=g[f-1]+1;if(P>h-g[f]-1)P=h-g[f]-1}}else if(R==0)P=0;else{sj&&Kj(R);g=$[R-1][1];if(g==0)e=Y[0];else if(g==1)e=Y[1];else if(g==2)e=Y[2];else if(g==3)e=Y[3];else if(g==4)e=Y[4];else if(g==5)e=Y[5];if($[R-1][0].length<
e[0])R--;else{h=$[R-1][0].split(" ");n=0;for(g=[];n<h.length;)if(h[n].length>=d[0]){g.push(h[n].length);n++}else if(h.slice(n).join().length<=d[0]){g.push(h.slice(n).join().length);n=h.length}else{for(f=0;h.slice(n,n+f).join().length<d[0];)f++;g.push(h.slice(n,n+f-1).join().length);n+=f-1}R--;P+=$[R][0].length-g[g.length-1]}if(P>$[R][0].length)P=$[R][0].length}if(!a.shiftKey){S=P;T=R}Wi<0&&Qi(false,false,false)}}else document.getElementById("suggestBox")!=null&&of(Mj);else if(a.keyCode==40)if(H&&
document.getElementById("suggestBox")==null){if(!(R==$.length-1&&P==$[R][0].length)){d=$[R][1];if(d==0)g=Y[0];else if(d==1)g=Y[1];else if(d==2)g=Y[2];else if(d==3)g=Y[3];else if(d==4)g=Y[4];else if(d==5)g=Y[5];if($[R][0].length>g[0]){f=$[R][0].split(" ");h=0;for(d=[];h<f.length;)if(f[h].length>=g[0]){d.push(f[h].length);h++}else if(f.slice(h).join().length<=g[0]){d.push(f.slice(h).join().length);h=f.length}else{for(e=0;f.slice(h,h+e).join().length<g[0];)e++;d.push(f.slice(h,h+e-1).join().length);
h+=e-1}e=0;for(g=d[0];g<P;){e++;g+=d[e]+1}if(e+1==d.length){sj&&Kj(R);for(e=0;e<d.length-1;e++)P-=d[e];P--;R++;if(R>$.length-1){R--;P=$[R][0].length}if(P>$[R][0].length)P=$[R][0].length}else{P+=d[e]+1;if(P>g+d[e+1]+1)P=g+d[e+1]+1}}else if(R==$.length-1)P=$[R][0].length;else{R++;if(R>$.length-1)R=$.length-1;if(P>$[R][0].length)P=$[R][0].length}if(!a.shiftKey){S=P;T=R}Wi>document.getElementById("canvas").height-50&&Qi(false,false,false)}}else document.getElementById("suggestBox")!=null&&pf(Mj);else if(a.keyCode==
39){if(H){d=false;if(!(P==$[R][0].length&&R==$.length-1)){if(P==$[R][0].length){sj&&Kj(R);R++;P=0;d=true}else P+=1;if(!a.shiftKey){S=P;T=R}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==37){if(H){d=false;if(!(R==0&&P==0)){if(P==0){sj&&Kj(R);R--;P=$[R][0].length;d=true}else P-=1;if(!a.shiftKey){S=P;T=R}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==8)Oj(a);else if(a.keyCode==46)Pj();else if(a.keyCode==
16)return;else if(a.keyCode==9){a.preventDefault();if(H){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Jj();I.push(["format",R,P,$[R][1],"tab"]);bj=[];d=false;if($[R][1]==0)d=true;e=$[R][1];if(e==1){$[R][1]=0;d=true}else if(e==0)$[R][1]=2;else if(e==2)$[R][1]=1;else if(e==3)$[R][1]=4;else if(e==4)$[R][1]=3;else if(e==5){$[R][1]=0;d=true}d&&Nj();if($[R][1]==4){if($[R][0].charAt(0)!="("){$[R][0]="("+$[R][0];
P++;S++}if($[R][0].charAt($[R][0].length-1)!=")")$[R][0]+=")"}if($[R][1]==3){if($[R][0].charAt(0)=="("){$[R][0]=$[R][0].substr(1);P--;S--}if($[R][0].charAt($[R][0].length-1)==")")$[R][0]=$[R][0].slice(0,-1)}}}else if(!Zi)if(a.keyCode>=48&&a.keyCode<=90||a.keyCode>=96&&a.keyCode<=111||a.keyCode>=187&&a.keyCode<=222||a.keyCode==32)if(H&&!fj){a.preventDefault();bj=[];nj=(new Date).getMilliseconds();if(a.which!=13&&a.which!=37&&a.which!=0&&a.which!=8){if(R!=T||P!=S)Pj();I.push([String.fromCharCode(a.charCode),
R,P]);$[R][0]=$[R][0].slice(0,P)+String.fromCharCode(a.charCode)+$[R][0].slice(P);P++;$[R][1]==0&&Qj(R);$[R][1]==2&&Rj("c");$[R][1]==0&&Rj("s");for(x in notes)if(R==notes[x][0])if(P-1<=notes[x][1])notes[x][1]+=1;Jj();S=P;T=R}document.getElementById("find_div").style.display=="block"&&zj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r");document.getElementById("ccp").focus();document.getElementById("ccp").select()}Wi<0&&H&&a.keyCode!=13&&a.keyCode!=
46&&a.keyCode!=8&&Fj(Wi-400);Wi>document.getElementById("canvas").height-80&&H&&a.keyCode!=13&&a.keyCode!=46&&a.keyCode!=8&&Fj(Wi-400)}if(H){if(T==R&&P==S)document.getElementById("ccp").value="";document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}F(document,"mousemove",Sj);F(document,"mousedown",Tj);F(document,"mouseup",Uj);var Vj=new ce(document);Vj.Hb("save","meta+s");Vj.Hb("undo","meta+z");Vj.Hb("redo","meta+shift+z");Vj.Hb("export","meta+e");Vj.Hb("find","meta+f");
Vj.od=true;F(Vj,"shortcut",Wj);function Wj(a){if(a.identifier=="save")Oi(0);else if(a.identifier=="undo")Xj();else if(a.identifier=="redo")Yj();else if(a.identifier=="export")Zj();else a.identifier=="find"&&$j()}window.oncontextmenu=ak;
function Rj(a){document.getElementById("suggestBox")!=null&&cd(document.getElementById("suggestBox"));if(a=="c")var d=gj,e=Y[2][1]+Math.round((Z-U*87-24)/2)+"px";else{d=[];for(i in hj)d.push([hj[i][0].split(") ").splice(1).join(") ")]);e=Y[0][1]+Math.round((Z-U*87-24)/2)+"px"}var f=$[R][0].length,g=$[R][0].toUpperCase();for(x in d){var h=d[x][0].substr(0,f).toUpperCase();if(g==h&&g!=d[x][0]){if(document.getElementById("suggestBox")==null){var n=document.body.appendChild(document.createElement("div"));
n.id="suggestBox";n.style.position="fixed";n.style.top=Wi+pj+9+V+"px";n.style.left=e;n.className="goog-menu"}h=false;if(a=="s"){var o=n.childNodes;for(i in o)if(d[x][0]==o[i].value)h=true;o=null}if(!h){h=n.appendChild(document.createElement("div"));h.className="goog-menuitem";h.appendChild(document.createTextNode(d[x][0]));h.value=d[x][0];h=null}h=null}}if(document.getElementById("suggestBox")!=null){a=G("suggestBox");Mj=new yf;Mj.s(a);Af(Mj,true);kf(Mj,0);F(Mj,"action",function(q){q=q.target.La();
var s=$[R][0].length;$[R][0]=q;I.push(["paste",R,P,$[R][0].substr(s)]);P=S=$[R][0].length;cd(document.getElementById("suggestBox"))});n=h=a=null}a=d=g=f=e=x=null}var Mj;function Jj(){document.getElementById("saveButton").disabled=false;document.getElementById("saveButton").value="Save";clearTimeout(Yi);sj=true;Yi=setTimeout("save(1)",7E3)}
function zj(a,d){if(a.which==13&&a.which!=1E3){a.preventDefault();Ji()}else{var e=d=="f"?document.getElementById("find_input").value:document.getElementById("fr_find_input").value,f=RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi");ij=[];jj=[];if(e.length==0)document.getElementById("find_number_found").innerHTML="0 found";else{for(i in $)for(;f.test($[i][0])==true;)d=="f"?ij.push([i*1,f.lastIndex-e.length]):jj.push([i*1,f.lastIndex-e.length]);if(d=="f")document.getElementById("find_number_found").innerHTML=
ij.length+" found"}}}function Ji(){var a=ij.length!=0?ij:jj;if(a.length!=0){var d=ij.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length;for(i in a){if(a[i][0]==R&&a[i][1]>P){T=R=a[i][0];S=a[i][1]*1;P=a[i][1]*1+d*1;bk("find"+R);return}if(a[i][0]*1>R*1){T=R=a[i][0]*1;S=a[i][1]*1;P=a[i][1]*1+d*1;bk("find"+R);return}}R=T=P=S=0;Ji()}}
function Ii(){var a=ij.length!=0?ij:jj;if(a.length!=0){var d=ij.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length,e=a.length-1;for(e=a.length-1;e>=0;e--){if(a[e][0]==R&&a[e][1]<P-d-1){T=R=a[e][0];S=a[e][1]*1;P=a[e][1]*1+d*1;bk("find"+R);return}if(a[e][0]*1<R*1){T=R=a[e][0]*1;S=a[e][1]*1;P=a[e][1]*1+d*1;bk("find"+R);return}}R=T=a[a.length-1][0];S=a[a.length-1][1];P=S+d;bk("find"+R)}}
function Kj(a){sj=false;var d=$[a][0];if($[a][1]==0||$[a][1]==2||$[a][1]==5)d=d.toUpperCase();a=d.split(" ");for(i=0;i<a.length;i++){d=false;for(e in qj)if(a[i].toUpperCase()==qj[e][0].toUpperCase())d=true;for(e in rj)if(a[i].toUpperCase()==qj[e][0].toUpperCase())d=true;if(d){a.splice(i,1);i--}}i=null;var e=JSON.stringify(a);sg("/spellcheck",function(f){if(Bg(f.target)!="correct"){f=Cg(f.target);for(i in f)qj.push(f[i]);i=null}},"POST","data="+escape(e)+"&resource_id="+X)}
function Ti(){if(R!=T||P!=S)Oj();Jj()}
function Si(){if(!aj){var a=false;Jj();bj=[];if(R!=T||P!=S)Oj();var d=false,e=document.getElementById("ccp").value,f=RegExp("\\n","g");if(e.split(f).length>1){e=e.split(f);f=[];for(x in e)e[x]!=""&&e[x]!=null&&f.push([e[x],1]);e=JSON.stringify(f);x=null}I.push(["paste",R,P,e]);if(e[0]=="["&&e[1]=="[")d=true;if(d){a=true;d=JSON.parse(e);if($[R][0]=="")$[R][1]=d[0][1];if($[R][1]==d[0][1]){I[I.length-1].push(1);e=[$[R][0].slice(P),$[R][1]];$[R][0]=$[R][0].slice(0,P)+d[0][0];f=1;var g=R+1}else{I[I.length-
1].push(0);e=[$[R][0].slice(P),$[R][1]];$[R][0]=$[R][0].slice(0,P);R++;$.splice(R,0,d[0]);f=1;g=R+1}for(;f<d.length;){$.splice(g,0,d[f]);g++;f++}$.splice(g,0,e);if($[g][0]==""||$[g][0]==" "){$.splice(g,1);I[I.length-1].push(0)}else I[I.length-1].push(1);R=T=g;P=S=0;if(R>=$.length){R=T=$.length-1;P=S=$[R][0].length}}else{$[R][0]=$[R][0].slice(0,P)+e+$[R][0].slice(P);P+=document.getElementById("ccp").value.length;S=P}$i=false;if(a){Nj();Qi(true,false,false)}G("ccp").value="";aj=true;setTimeout("setJustPasted()",
50)}}function Pi(){aj=false}function ck(a){a=ue(a.target).replace("toolbar","");if(a=="New")dk();else if(a=="Save")Oi(0);else if(a=="Export")Zj();else if(a=="Undo")Xj();else if(a=="Redo")Yj();else if(a=="InsertNote")ri();else if(a=="Spellcheck")ek();else a=="Email"&&fk()}
function Ej(a){var d=new Fg;d.s(G("gtb"));F(d,se,ck);G("gtb").style.visibility="visible";G("sidebar").style.visibility="visible";if(Bg(a.target)=="not found"){$=[["Sorry, the script wasn't found.",1]];Qi(true,false,false)}else{a=Cg(a.target);d=a[0];document.getElementById("title").innerHTML=d;document.title=d;var e=a[1];for(d=0;d<e.length;d++)$.push([e[d][0],e[d][1]]);if($.length==2){R=T=1;P=S=$[1][0].length}if(a[2].length!=0){e=a[2][0];var f=a[2][1];for(w in e)qj.push(e[w]);for(d in f)rj.push(f[d])}for(d in a[3])notes.push(a[3][d]);
e=a[4];f=document.getElementById("hasAccess");for(d in e){var g=f.appendChild(document.createElement("tr"));g.id=e[d];g.appendChild(document.createElement("td")).appendChild(document.createTextNode(e[d]));g=g.appendChild(document.createElement("td")).appendChild(document.createElement("a"));g.appendChild(document.createTextNode("Remove Access"));g.href="javascript:removeAccess('"+e[d]+"')";g=g=null}new Sh(a[5],document.getElementById("recipient"),true);new Sh(a[5],document.getElementById("collaborator"),
true);document.getElementById("canvas").getContext("2d");si(0);gk();Nj();hk();document.getElementById("ccp").focus();document.getElementById("ccp").select();document.getElementById("saveButton").value="Saved";document.getElementById("saveButton").disabled=true;Qi(true,false,false);setInterval("paint(false,false,false)",25);d=a=data=d=e=w=f=e=null;a=new oi(G("loading"),500);F(a,di,function(){cd(G("loading"))});a.play()}}
function si(a){var d=["sceneTab","noteTab"];for(i in d){var e=document.getElementById(d[i]);if(i==a){e.style.backgroundColor="#3F5EA6";e.style.color="white";document.getElementById(d[i].replace("Tab","s")).style.display="block"}else{e.style.backgroundColor="#6C8CD5";e.style.color="black";document.getElementById(d[i].replace("Tab","s")).style.display="none"}}i=null}
function pi(a){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Jj();I.push(["format",R,P,$[R][1],a]);bj=[];$[R][1]=a;S=P;T=R;if($[R][1]==4){if($[R][0].charAt(0)!="("){$[R][0]="("+$[R][0];P++;S++}if($[R][0].charAt($[R][0].length-1)!=")")$[R][0]+=")"}if($[R][1]==3){if($[R][0].charAt(0)=="("){$[R][0]=$[R][0].substr(1);P--;S--}if($[R][0].charAt($[R][0].length-1)==")")$[R][0]=$[R][0].slice(0,-1)}Nj()}
function ak(a){if(a.clientX>pj&&a.clientX<Z-100&&a.clientY-pj>40&&a.target.id=="canvas"){a.preventDefault();var d=document.body.appendChild(document.createElement("div"));d.style.position="fixed";d.style.top=a.clientY-3+"px";d.style.left=a.clientX+5+"px";d.id="context_menu";for(i in oj){a=d.appendChild(document.createElement("div"));a.innerHTML=oj[i];a.id="cm"+i;a.className="contextUnit"}i=null}}
function Uj(a){if(H){ej=dj=false;document.getElementById("canvas");var d=document.getElementById("canvas").height;if(a.clientY-pj>d-39&&a.clientY-pj<d&&a.clientX>Z-22&&a.clientX<Z-2)a.clientY-pj>d-20?Fj(30):Fj(-30);document.getElementById("ccp").focus();document.getElementById("ccp").select()}tj.l(false);uj.l(false);vj.l(false);wj.l(false);a=["file","edit","view","share"];for(i in a){d=G(a[i]);d.style.backgroundColor="#A2BAE9";d.style.color="black"}}
function Tj(a){if(H){sj&&Kj(R);if(document.getElementById("suggestBox")==null){if(document.getElementById("context_menu")!=null){a.target.className=="contextUnit"&&pi(a.target.id.replace("cm",""));document.getElementById("context_menu").parentNode.removeChild(document.getElementById("context_menu"))}else{var d=document.getElementById("canvas").height,e=(K.length+1)*72*V,f=d/e*(d-39);if(f<20)f=20;if(f>=d-39)f=d-39;d=N/(e-d)*(d-39-f)+pj;if(a.clientX>pj&&a.clientX<Z-100&&a.clientY-pj>40&&a.target.id==
"canvas"){dj=true;ik(a,"anch")}else if(a.clientX<Z&&a.clientX>Z-20&&a.clientY>d&&a.clientY<d+f)ej=true}document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}
function ik(a,d){nj=(new Date).getMilliseconds();var e=0,f=a.clientY+N-31,g=15*V+3,h=0;for(i in $){h=g;if(K.length!=0&&K[e]!=undefined&&K[e][0]==i){if(K[e][2]==0)g=72*V*(e+1)+10*V+pj+3-31;else{g=72*V*(e+1)+10*V+pj+3;g+=(M[i].length-K[e][2])*V-31;if($[i][1]==3)g+=V;g-=V*M[i].length}e++}g+=V*M[i].length;if(g>f){g=K.length!=0&&K[e-1]!=undefined&&K[e-1][0]==i&&K[e-1][2]!=0?(f-h)/V<K[e-1][2]?Math.round((f-h)/V+0.5):f<72*V*e+10*V+pj?K[e-1][2]:Math.round((V*M[i].length-g+f)/V+0.5):Math.round((V*M[i].length-
g+f)/V+0.5);for(f=e=0;e+1<g;){f+=M[i][e]+1;e++}g=$[i][1]!=5?Math.round((a.clientX-Math.round((Z-U*87-24)/2)-Y[$[i][1]][1])/U):Math.round((a.clientX-Math.round((Z-U*87-24)/2)-Y[$[i][1]][1]+$[i][0].length*U)/U);if(g<0)g=0;if(g>M[i][e])g=M[i][e];f+=g;if(f<0)f=0;if(f>$[i][0].length)f=$[i][0].length;if(d=="anch"){R=T=i*1;P=S=f*1}else{R=i;P=f}return}}}
function Sj(a){if(ej){var d=cj-a.clientY,e=document.getElementById("canvas").height-50,f=(K.length+1)*72*V;N-=f/e*d;if(N<0)N=0;f=(K.length+1)*72*V-document.getElementById("canvas").height+20;if(N>f)N=f+20}cj=a.clientY;dj&&ik(a,"pos");e=document.getElementById("canvas").height;f=(K.length+1)*72*V;d=e/f*(e-39);if(d<20)d=20;if(d>=e-39)d=e-39;e=N/(f-e)*(e-39-d)+pj;document.getElementById("canvas").style.cursor=a.clientX<Z&&a.clientX>Z-20&&a.clientY>e&&a.clientY<e+d?"default":"text"}
function yj(a){Fj(a.Fe*2)}function Fj(a){N+=a;if(N<0)N=0;a=(K.length+1)*72*V-document.getElementById("canvas").height+20;if(N>a)N=a+20;nj=(new Date).getMilliseconds();if(document.getElementById("suggestBox")!=null){Qi(false,false,false);Rj($[R][1]==0?"s":"c")}}
function bk(a){if(a.target!=undefined){a=a.target.id;T=R=a=parseInt(a.replace("row",""));S=P=$[R][0].length;this.style.backgroundColor="#999ccc"}else a=a[0]=="f"?parseInt(a.replace("find","")):R;for(var d=0,e=0;e<a;e++){for(var f=0;f<K.length;f++)if(K[f][0]==e){d=V*72*(f*1+1);if(K[f][2]!=0)d-=V*(M[e].length-K[f][2])}d+=M[e].length*V}N=d;a=(K.length+1)*72*V-document.getElementById("canvas").height;if(N>a)N=a}
function Oj(a){if(H){Jj();bj=[];a&&a.preventDefault();var d=a=false;if($[R][1]==0)d=true;if(R==T&&P==S){if(P==0&&R==0)return;else if($[R][1]==4&&P==1){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}d=$[R][0];if(d.charAt(0)=="(")d=d.substr(1);if(d.charAt(d.length-1)==")")d=d.slice(0,-1);var e=$[R-1][0].length;$.splice(R,1);R--;P=e;$[R][0]+=d;I.push(["back",R,P,"line",4]);d=true;document.getElementById("suggestBox")!=
null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else if(P==0){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}var f=$[R][1];d=$[R][0];$.splice(R,1);e=$[R-1][0].length;$[R-1][0]+=d;P=e;R--;I.push(["back",R,P,"line",f]);d=a=true;document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else{I.push(["back",
R,P,$[R][0][P-1]]);$[R][0]=$[R][0].slice(0,P-1)+$[R][0].slice(P);P--;for(x in notes)if(R==notes[x][0])if(P<notes[x][1])notes[x][1]-=1}S=P;T=R}else{document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));a=true;var g=false;if(T>R)g=true;if(T==R&&S>P)g=true;if(g){g=T;T=R;R=g;g=S;S=P;P=g}for(g=0;P!=S||R!=T;){g++;if($[R][1]==0)d=true;if(P==0){for(x in notes){if(R<notes[x][0])notes[x][0]-=1;else if(R==notes[x][0]){notes[x][1]+=
$[R-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}f=$[R][1];d=$[R][0];$.splice(R,1);e=$[R-1][0].length;$[R-1][0]+=d;P=e;R--;I.push(["back",R,P,"line",f]);d=true}else{I.push(["back",R,P,$[R][0][P-1]]);$[R][0]=$[R][0].slice(0,P-1)+$[R][0].slice(P);P--;for(x in notes)if(R==notes[x][0])if(P<notes[x][1])notes[x][1]-=1}}I.push(["br",g])}if(a==true){Nj();Qi(a,false,false);Fj(0)}d&&Qj(R);document.getElementById("find_div").style.display=="block"&&zj({which:1E3},"f");document.getElementById("find_replace_div").style.display==
"block"&&zj({which:1E3},"r")}}
function Pj(){if(H){Jj();bj=[];document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));var a=false,d=false;if(R==T&&P==S){if($[R][1]==0)a=true;if(P==$[R][0].length&&R==$.length-1)return;if($[R][1]==4&&$[R][0]=="()"){I.push(["delete",R,P,"line",4]);$.splice(R,1);S=P=0}else if(P==$[R][0].length){for(x in notes){if(R+1==notes[x][0]){notes[x][1]+=$[R][0].length;notes[x][0]-=1}else if(R<notes[x][0])notes[x][0]-=1;
if(notes[x][1]<0)notes[x][1]=0}I.push(["delete",R,P,"line",$[R+1][1]]);if($[R+1][1]==0)a=true;var e=$[R+1][0];$.splice(R+1,1);$[R][0]+=e;d=true}else{I.push(["delete",R,P,$[R][0][P]]);$[R][0]=$[R][0].slice(0,P)+$[R][0].slice(P+1);for(x in notes)if(R==notes[x][0])if(P<notes[x][1])notes[x][1]-=1}}else{d=true;e=false;if(T>R)e=true;if(T==R&&S>P)e=true;if(e){e=T;T=R;R=e;e=S;S=P;P=e}for(var f=0;P!=S||R!=T;){f++;if($[R][1]==0)a=true;if(P==0){for(x in notes){if(R+1==notes[x][0]){notes[x][1]+=$[R][0].length;
notes[x][0]-=1}else if(R<notes[x][0])notes[x][0]-=1;if(notes[x][1]<0)notes[x][1]=0}I.push(["delete",R-1,$[R-1][0].length,"line",$[R][1]]);e=$[R][0];$.splice(R,1);a=$[R-1][0].length;$[R-1][0]+=e;P=a;R--;a=true}else{I.push(["delete",R,P,$[R][0][P-1]]);$[R][0]=$[R][0].slice(0,P-1)+$[R][0].slice(P);P--;for(x in notes)if(R==notes[x][0])if(P<notes[x][1])notes[x][1]-=1}}I.push(["dr",f])}if(d==true){Nj();Qi(d,false,false);Fj(0)}a&&Qj(R);document.getElementById("find_div").style.display=="block"&&zj({which:1E3},
"f");document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r")}}
function Xj(){Jj();if(I.length!=0){var a=false,d=I.pop(),e=[];for(x in d)e.push(d[x]);bj.push(e);if(d[0]=="enter"){a=$[d[1]+1][0];$.splice(d[1]+1,1);if($[d[1]][1]==4&&$[d[1]][0].charAt($[d[1]][0].length-1)==")")$[d[1]][0]=$[d[1]][0].slice(0,-1);$[d[1]][0]+=a;a=true}else if(d[0]=="back")if(d[3]=="line"){for(x in notes)if(d[1]==notes[x][0]){if(d[2]<=notes[x][1]){notes[x][0]+=1;notes[x][1]-=d[2]}}else if(d[1]<notes[x][0])notes[x][0]+=1;a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&
e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=a;a=[e,d[4]];$.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+d[3]+$[d[1]][0].slice(d[2]-1);$[d[1]][1]==0&&Qj(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<=notes[x][1])notes[x][1]+=1}else if(d[0]=="delete")if(d[3]=="line"){a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=a;a=[e,d[4]];$.splice(d[1]+1,0,a);a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,
d[2])+d[3]+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&Qj(d[1])}else if(d[0]=="format"){$[d[1]][1]=d[3];if($[d[1]][0].charAt(0)=="(")$[d[1]][0]=$[d[1]][0].substr(1);if($[d[1]][0].charAt($[d[1]][0].length-1)==")")$[d[1]][0]=$[d[1]][0].slice(0,-1);a=true}else if(d[0]=="br"||d[0]=="dr")for(var f=d[1],g=0;g<f;g++){d=I.pop();e=[];for(x in d)e.push(d[x]);bj.splice(bj.length-1,0,e);if(d[3]=="line"){a=$[d[1]][0].slice(0,d[2]);e=$[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);$[d[1]][0]=
a;a=[e,d[4]];$.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+d[3]+$[d[1]][0].slice(d[2]-1);$[d[1]][1]==0&&Qj(d[1])}}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+d[3].length);$[d[1]][1]==0&&Qj(d[1])}else{a=true;f=JSON.parse(d[3]);if(d[4]==0)$.splice(d[1]+1,f.length);else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]);$.splice(d[1]+1,f.length-1)}if(d[5]==1){$[d[1]][0]+=$[d[1]+1][0];$.splice(d[1]+1,1)}}else{$[d[1]][0]=
$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);if($[d[1]][1]==4&&$[d[1]][0][d[2]-1]==")"){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);d[2]-=1}$[d[1]][1]==0&&Qj(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<notes[x][1])notes[x][1]-=1}R=d[1];P=d[2];T=R;S=P;if(a==true){Nj();Qi(true,false,false);Fj(0)}}}
function Yj(){Jj();if(bj.length!=0){var a=false,d=bj.pop(),e=[];for(x in d)e.push(d[x]);I.push(e);a=false;if(d[0]=="enter"){e=$[d[1]][0].slice(0,d[2]);a=$[d[1]][0].slice(d[2]);$[d[1]][0]=e;if($[d[1]][1]==0)var f=1;else if($[d[1]][1]==1)f=2;else if($[d[1]][1]==2)f=3;else if($[d[1]][1]==4)f=3;else if($[d[1]][1]==3)f=2;else if($[d[1]][1]==5)f=0;$.splice(d[1]+1,0,[a,f]);d[1]+=1;d[2]=0;a=true}else if(d[0]=="back")if(d[3]!="line"){$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);d[2]-=1;$[d[1]][1]==
0&&Qj(d[1])}else{e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else if(d[0]=="delete")if(d[3]!="line"){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+$[d[1]][0].slice(d[2]+1);$[d[1]][1]==0&&Qj(d[1])}else{e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e}else if(d[0]=="format"){if(d[4]!="tab")$[d[1]][1]=d[4];else{e=d[3];if(e==0)$[d[1]][1]=2;else if(e==1)$[d[1]][1]=0;else if(e==2)$[d[1]][1]=1;else if(e==3)$[d[1]][1]=4;else if(e==4)$[d[1]][1]=3;else if(e==5)$[d[1]][1]=0}a=true}else if(d[0]=="br"){var g=
d[1];for(f=0;f<g;f++){d=bj.pop();e=[];for(x in d)e.push(d[x]);I.splice(I.length-1,0,e);if(d[3]=="line"){e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&Qj(d[1])}}d[2]-=1}else if(d[0]=="dr"){g=d[1];for(f=0;f<g;f++){d=bj.pop();e=[];for(x in d)e.push(d[x]);I.splice(I.length-1,0,e);if(d[3]=="line"){e=$[d[1]+1][0];$.splice(d[1]+1,1);$[d[1]][0]+=e;a=true}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2]-1)+$[d[1]][0].slice(d[2]);
$[d[1]][1]==0&&Qj(d[1])}}d[2]-=1}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){$[d[1]][0]=$[d[1]][0].slice(0,d[2])+d[3]+$[d[1]][0].slice(d[2]);$[d[1]][1]==0&&Qj(d[1])}else{a=true;g=JSON.parse(d[3]);if($[d[1]][0]=="")$[d[1]][1]=g[0][1];if($[d[1]][1]==g[0][1]){e=[$[d[1]][0].slice(d[2]),$[d[1]][1]];$[d[1]][0]=$[d[1]][0].slice(0,d[2])+g[0][0];f=1;d=d[1]+1}else{e=[$[d[1]][0].slice(d[2]),$[d[1]][1]];$[d[1]][0]=$[d[1]][0].slice(0,d[2]);d[1]++;$.splice(d[1],0,g[0]);f=1;d=d[1]+1}for(;f<g.length;){$.splice(d,
0,g[f]);d++;f++}$.splice(d,0,e);if($[d][0]==""||$[d][0]==" ")$.splice(d,1)}else{$[d[1]][0]=$[d[1]][0].slice(0,d[2])+d[0]+$[d[1]][0].slice(d[2]);d[2]+=1;$[d[1]][1]==0&&Qj(d[1])}if(a==true){Nj();Qi(true,false,false);Fj(0)}}}function gk(){for(var a=0;a<$.length;a++)$[a][1]==2&&Lj($[a][0])}function Lj(a){a=a.toUpperCase().replace(/\s+$/,"");for(var d=false,e=0;e<gj.length;e++)if(gj[e][0]==a){gj[e][1]+=1;d=true}d||gj.push([a,1])}
function Nj(){hj=[];for(var a=0,d=0;d<$.length;d++)if($[d][1]==0){a++;var e="";if(d!=$.length-1){e=$[d+1][0];if(($[d+1][1]==2||$[d+1][1]==5)&&d!=$.length-2)e+=" "+$[d+2][0]}hj.push([String(a)+") "+$[d][0].toUpperCase(),d,e]);e=null}bd(G("sceneBox"));for(d=0;d<hj.length;d++){a=document.getElementById("sceneBox").appendChild(document.createElement("p"));a.appendChild(document.createTextNode(hj[d][0]));a.className="sceneItem";a.id="row"+hj[d][1];a.title=hj[d][2];F(a,yc,bk);F(a,zc,function(){this.style.backgroundColor=
"#ccccff"});F(a,Ac,function(){this.style.backgroundColor="white"});a=null}c=d=a=null}function Qj(a){try{var d=document.getElementById("row"+a),e=d.innerHTML.split(")")[0];d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e+") "+$[a][0].toUpperCase()))}catch(f){}}function jk(a,d){if(a[0]<d[0])return-1;if(a[0]>d[0])return 1;if(a[1]<d[1])return-1;if(a[1]>d[1])return 1;return 0}
function hk(){notes.sort(jk);for(var a=document.getElementById("noteBox"),d=0;d<a.childNodes.length;d++){a.removeChild(a.firstChild);d--}for(x in notes){var e=a.appendChild(document.createElement("div"));e.className="thread";var f=e.appendChild(document.createElement("table"));f.width="100%";f=f.appendChild(document.createElement("tr"));f.appendChild(document.createElement("td"));f=f.appendChild(document.createElement("td"));f.align="right";f=f.appendChild(document.createElement("a"));f.style.backgroundColor=
"orange";f.appendChild(document.createTextNode("Delete"));f.href="javascript:deleteThread('"+notes[x][3]+"')";f.style.textDecoration="none";f.style.color="black";for(y in notes[x][2]){f=e.appendChild(document.createElement("div"));var g=f.appendChild(document.createElement("div"));g.innerHTML=notes[x][2][y][0];g=f.appendChild(document.createElement("div"));g.appendChild(document.createTextNode(notes[x][2][y][1].split("@")[0]));g.align="right";g.className="msgInfo";f.className="msg";f.id=notes[x][3]+
"msg";F(f,yc,function(h){for(h=h.target;h.className!="msg";)h=h.parentNode;for(d in notes)if(String(notes[d][3])==String(h.id.replace("msg",""))){R=T=notes[d][0];P=S=notes[d][1]}Qi(false,false,false);bk("find"+R)});f=g=g=null}e=e.appendChild(document.createElement("div"));e.className="respond";e.appendChild(document.createTextNode("Respond"));e.id=notes[x][3];F(e,yc,kk);e=f=f=f=e=null}H=true;x=d=null}
function ri(){si(1);Xi=true;Qi(false,false,false);hk();H=false;var a=document.getElementById("noteBox").appendChild(document.createElement("div"));a.className="thread";id=Math.round(Math.random()*1E9);for(var d=true;d==true;){d=false;for(e in notes)if(String(notes[e][3])==String(id)){id=Math.round(Math.random()*1E9);d=true}}d=a.appendChild(document.createElement("div"));d.className="respondControls";var e=d.appendChild(document.createElement("div"));e.contentEditable=true;e.id="nmi";a=d.appendChild(document.createElement("input"));
a.type="button";a.value="Save";a.id=id;d=d.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";F(a,yc,lk);F(d,yc,hk);e.focus()}
function lk(a){a=a.target.id;var d=document.getElementById("nmi").innerHTML,e=document.getElementById("user_email").innerHTML,f=new Date;if(d!=""){notes.push([R,P,[[d,e,f]],a]);X!="Demo"&&sg("/notesnewthread",function(g){Bg(g.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","fromPage=editor&resource_id="+X+"&row="+R+"&col="+P+"&content="+escape(d)+"&thread_id="+a)}hk()}
function kk(a){var d=a.target.id;hk();H=false;a=document.getElementById(d);var e=a.parentNode.insertBefore(document.createElement("div"),a);e.className="respondControls";var f=e.appendChild(document.createElement("div"));f.contentEditable=true;f.id="nmi";var g=e.appendChild(document.createElement("input"));g.type="button";g.value="Save";g.id="noteSave"+d;d=e.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";a.parentNode.removeChild(a);F(g,yc,mk);F(d,yc,
hk);f.focus()}
function mk(a){a=parseInt(a.target.id.replace("noteSave",""));for(x in notes)if(notes[x][3]==a)var d=x;var e=new Date,f=document.getElementById("nmi").innerHTML,g=document.getElementById("user_email").innerHTML;if(f!=""){e=[f,g,e];notes[d][2].push(e);X!="Demo"&&sg("/notessubmitmessage",function(h){Bg(h.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","resource_id="+X+"&content="+escape(f)+"&thread_id="+a+"&fromPage=editor");e=null}hk();x=e=
f=g=d=null}function qi(a){var d=confirm("Are you sure you want to Delete this thread? This cannot be undone.");if(d==true){X!="Demo"&&sg("/notesdeletethread",aa(),"POST","resource_id="+X+"&thread_id="+a);for(i in notes)if(notes[i][3]==a)var e=i;d=i=null;notes.splice(e,1);hk()}}
function Aj(a){a=a.target.id;var d=[["file",tj],["edit",uj],["view",vj],["share",wj]];document.getElementById(a).style.backgroundColor="#6484df";document.getElementById(a).style.color="white";var e="notfound",f=0;for(i in d){if(d[i][1].i==true){e=i;d[e][1].l(false)}if(a==d[i][0])f=d[i][1]}if(e=="notfound")f.l(true);else if(d[e][1]==f)f.l(false);else{d[e][1].l(false);f.l(true)}i=null}
function Bj(a){a=a.target.id;var d=[["file",tj],["edit",uj],["view",vj],["share",wj]],e="not open";for(i in d){var f=G(d[i][0]);f.style.backgroundColor="#A2BAE9";f.style.color="black";if(d[i][1].i)e=i;if(a==d[i][0]){var g=d[i][1];f=G(g.Oa.replace("Menu",""));f.style.backgroundColor="#6484df";f.style.color="white"}}if(e!="not open"){d[e][1].l(false);g.l(true)}i=null}
function Cj(a){a=a.target.id;if(document.getElementById(a+"Menu").style.display=="none"){document.getElementById(a).style.backgroundColor="#A2BAE9";document.getElementById(a).style.color="black"}}
function Dj(a){a=ue(a.target);if(a=="save")Oi(0);else if(a=="new")X=="Demo"?alert("Sorry, you'll have to login to start saving."):dk();else if(a=="open")X=="Demo"?alert("Sorry, you'll have to login to open new scripts."):window.open("/scriptlist");else if(a=="rename")xi();else if(a=="exportas")Zj();else if(a=="duplicate")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else nk();else if(a=="close")ok();else if(a=="undo")Xj();else if(a=="redo")Yj();else if(a=="insertNote"){Xi=
true;ri()}else if(a=="editTitlePage")window.open("/titlepage?resource_id="+X);else if(a=="tag")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else pk();else if(a=="spellCheck")ek();else if(a=="find")$j();else if(a=="findReplace"){Hi();document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r");H=false;Zi=true;document.getElementById("find_replace_div").style.display="block";document.getElementById("fr_find_input").select();document.getElementById("fr_find_input").focus()}else if(a==
"revision")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else window.open("/revisionhistory?resource_id="+X);else if(a=="notes")Xi=Xi?false:true;else if(a.substr(0,6)=="format")pi(parseInt(a.replace("format","")));else if(a=="collaborators")if(X=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else{H=false;document.getElementById("sharepopup").style.visibility="visible"}else if(a=="email")if(X=="Demo"){alert("Sorry, you'll have to login to email scripts.");
return}else fk();tj.l(false);uj.l(false);vj.l(false);wj.l(false);a=["file","edit","view","share"];for(i in a){var d=G(a[i]);d.style.backgroundColor="#A2BAE9";d.style.color="black"}}
function ok(){clearTimeout(Yi);X=="Demo"&&self.close();var a=JSON.stringify($);document.getElementById("saveButton").value="Saving...";sg("/save",function(){self.close()},"POST","data="+escape(a)+"&resource_id="+X+"&autosave=0");a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&sg("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+X);a=a=i=null}
function dk(){if(X=="Demo")alert("Sorry, you'll have to login to open new scripts.");else{H=false;document.getElementById("newscriptpopup").style.visibility="visible"}}function yi(){H=true;document.getElementById("newScript").value="";document.getElementById("newscriptpopup").style.visibility="hidden";document.getElementById("createScriptButton").disabled=false;document.getElementById("createScriptButton").value="Create";document.getElementById("createScriptIcon").style.visibility="hidden"}
function zi(){var a=document.getElementById("newScript").value;if(a!=""){document.getElementById("createScriptButton").disabled=true;document.getElementById("createScriptButton").value="Creating Script...";document.getElementById("createScriptIcon").style.visibility="visible";sg("/newscript",function(d){window.open("editor?resource_id="+Bg(d.target));yi()},"POST","filename="+escape(a)+"&fromPage=editor")}}
function nk(){sg("/duplicate",function(a){Bg(a.target)!="fail"&&window.open(Bg(a.target))},"POST","fromPage=editor&resource_id="+X)}
function Oi(a){clearTimeout(Yi);if(X=="Demo")a==0&&alert("Sorry, but you'll have to login to start saving scripts!");else{var d=JSON.stringify($);document.getElementById("saveButton").value="Saving...";sg("/save",function(){document.getElementById("saveButton").value="Saved";document.getElementById("saveButton").disabled=true},"POST","data="+escape(d)+"&resource_id="+X+"&autosave="+a);a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&sg("/notesposition",aa(),"POST","positions="+
escape(JSON.stringify(a))+"&resource_id="+X);d=a=i=null}}function xi(){H=false;document.getElementById("renameTitle").innerHTML="Rename: "+document.getElementById("title").innerHTML;document.getElementById("renameField").value=document.getElementById("title").innerHTML;document.getElementById("renamepopup").style.visibility="visible"}function wi(){document.getElementById("renameField").value="";document.getElementById("renamepopup").style.visibility="hidden";H=true}
function vi(){if(X=="Demo")alert("Sorry, you'll have to login to do that.");else{var a=document.getElementById("renameField").value;if(a!=""){document.getElementById("title").innerHTML=a;document.title=a;sg("/rename",aa(),"POST","fromPage=scriptlist&resource_id="+X+"&rename="+a);wi()}}}function Zj(){X!="Demo"&&document.getElementById("saveButton").value=="Save"&&Oi(0);H=false;document.getElementById("exportpopup").style.visibility="visible"}
function ui(){H=true;document.getElementById("exportpopup").style.visibility="hidden"}function ti(){if(X=="Demo")alert("Sorry, you'll have to login to export scripts.");else for(var a,d="&title_page="+document.getElementById("et").selectedIndex,e=document.getElementsByTagName("input"),f=0;f<e.length;f++)if(e[f].checked==true)if(e[f].className=="exportList"){a=e[f].name;b="/export?resource_id="+X+"&export_format="+a+"&fromPage=editor"+d;window.open(b)}}
function fk(){if(X=="Demo")alert("Sorry, you'll have to login to email scripts.");else{document.getElementById("saveButton").value=="Save"&&Oi(0);H=false;document.getElementById("emailpopup").style.visibility="visible"}}function Mi(){document.getElementById("emailpopup").style.visibility="hidden";document.getElementById("recipient").value="";document.getElementById("message").innerHTML="";H=true}
function qk(a){console.log();document.getElementById("emailS").disabled=false;document.getElementById("emailS").value="Send";if(Bg(a.target)=="sent"){alert("Email Sent");Mi()}else alert("There was a problem sending your email. Please try again later.")}
function Ni(){var a=ai(G("recipient").value),d=[];for(i in a)a[i].cb!=""&&d.push(a[i].cb);if(d.length==0)alert("You need to add at least one email address.");else{a=d.join(",");d=document.getElementById("subject").value;if(d=="")d="Script";var e=document.getElementById("message").innerHTML;sg("/emailscript",qk,"POST","resource_id="+X+"&recipients="+a+"&subject="+d+"&body_message="+escape(e)+"&fromPage=editor");document.getElementById("emailS").disabled=true;document.getElementById("emailS").value=
"Sending...";c=null}}function Li(){H=true;document.getElementById("sharepopup").style.visibility="hidden";document.getElementById("collaborator").value=""}
function Ki(){var a=ai(G("collaborator").value),d=[],e=false;for(i in a){var f=a[i].cb;if(f!="")if(f.split("@")[1]!=undefined&&(f.split("@")[1].split(".")[0]=="gmail"||f.split("@")[1].split(".")[0]=="yahoo"))d.push(f);else e=true}e==true&&alert("At this time you can only collaborate with Gmail or Yahoo accounts.");if(d.length==0)alert("You need to add at least one email address.");else{sg("/share",function(g){g=Bg(g.target).split(",");var h=document.getElementById("hasAccess");for(i in g)if(g[i]!=
""&&g[i]!=="not sent"){var n=h.appendChild(document.createElement("tr"));n.id=g[i];n.appendChild(document.createElement("td")).appendChild(document.createTextNode(g[i]));n=n.appendChild(document.createElement("td")).appendChild(document.createElement("a"));n.appendChild(document.createTextNode("Remove Access"));n.href="javascript:removeAccess('"+g[i]+"')"}document.getElementById("shareS").disabled=false;document.getElementById("shareS").value="Send Invitations"},"POST","resource_id="+X+"&collaborators="+
escape(d.join(","))+"&fromPage=scriptlist");document.getElementById("shareS").disabled=true;document.getElementById("shareS").value="Sending Invites..."}}function pk(){Oi(0);var a=prompt("Leave a tag for this version:");a!=null&&a!=""&&sg("/revisiontag",function(d){Bg(d.target)!="tagged"&&alert("There was a problem tagging this script. Please try again later.")},"POST","resource_id="+X+"&version=latest&tag="+escape(a))}
function $j(){Gi();document.getElementById("find_div").style.display=="block"&&zj({which:1E3},"f");H=false;Zi=true;document.getElementById("find_div").style.display="block";document.getElementById("find_input").select();document.getElementById("find_input").focus()}function Hi(){H=true;Zi=false;ij=[];document.getElementById("find_div").style.display="none";fj=false}function Gi(){H=true;Zi=false;jj=[];document.getElementById("find_replace_div").style.display="none";fj=false}
function Fi(){var a=document.getElementById("fr_replace_input").value;if(a.length!=0)if(!(R==T&&P==S))if(R==T)if(jj.length!=0){document.getElementById("ccp").value=a;Si();S=P-a.length;document.getElementById("find_replace_div").style.display=="block"&&zj({which:1E3},"r")}}function Ei(){Fi();Ji()}function ek(){H=false;Kj(R);var a=R==0?true:false;document.getElementById("spellcheckpopup").style.visibility="visible";rk(a,0,0)}
function rk(a,d,e){if(d=="finished"){alert("Spell Check Complete");Ai()}else{a=$[d][0].split(" ");for(var f=false;f==false;){var g=a[e].replace("?","").replace(".","").replace(",","").replace("(","").replace(")","");for(i in qj)if(qj[i][0].toUpperCase()==g.toUpperCase()){f=[d,e,i];for(v in rj)if(rj[v].toUpperCase()==g.toUpperCase())f=false}if(!f){e++;if(e==a.length){e=0;d++;if(d==$.length)f="finished";else a=$[d][0].split(" ")}}}if(f=="finished"){document.getElementById("sSuggest").innerHTML="";document.getElementById("sSentance").innerHTML=
"";alert("Spell Check Complete");Ai()}else{var h=$[d][0],n="<span id='sFocus' title='"+g+"' style='color:red'>"+g+"</span>";h=h.replace(RegExp(g,"i"),n);if($[d][1]==0||$[d][1]==2||$[d][1]==5){document.getElementById("sSentance").innerHTML=h.toUpperCase();document.getElementById("sSentance").innerHTML=document.getElementById("sSentance").innerHTML.replace("SFOCUS","sFocus")}else document.getElementById("sSentance").innerHTML=h;document.getElementById("sSentance").title=d;g=qj[f[2]][1];h=document.getElementById("sSuggest");
h.innerHTML="";for(i in g){n=h.appendChild(document.createElement("div"));n.className="spellcheckitem";F(n,yc,function(o){var q=document.getElementById("spellcheckfocus");q!=undefined&&q.removeAttribute("id");o.target.id="spellcheckfocus";document.getElementById("sFocus").innerHTML=o.target.title});$[d][1]==0||$[d][1]==2||$[d][1]==5?n.appendChild(document.createTextNode(g[i].toUpperCase())):n.appendChild(document.createTextNode(g[i]));n.title=g[i]}e++;if(e==a.length){e=0;d++;if(d==$.length)f="finished";
else a=$[d][0].split(" ")}d=f=="finished"?f:[d,e].join(",");document.getElementById("sHidden").value=d}}}function Ai(){document.getElementById("spellcheckpopup").style.visibility="hidden";H=true;Jj()}function Ci(){var a=document.getElementById("sHidden").value;rk(false,a.split(",")[0],a.split(",")[1])}function Di(){rj.push(document.getElementById("sFocus").title);var a=document.getElementById("sHidden").value;rk(false,a.split(",")[0],a.split(",")[1])}
function Bi(){var a=document.getElementById("sSentance"),d=a.title;$[d][0]="";for(i in a.childNodes)if(a.childNodes[i].nodeName=="#text")$[d][0]+=a.childNodes[i].nodeValue;else{var e=a.childNodes[i].childNodes;for(j in e)if(e[j].nodeName=="#text")$[d][0]+=e[j].nodeValue}a=document.getElementById("sHidden").value;rk(false,a.split(",")[0],a.split(",")[1]);Qi(true,false,false)}
function sk(a,d,e,f,g,h){if($[g][1]==5){f.fillStyle="gold";f.beginPath();f.moveTo(a-U*($[g][0].length-e+1)+h,d-N-V+3);f.lineTo(a-U*($[g][0].length-e+1)+h,d-N-V+3+V);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+V);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+4);f.lineTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(var n=1;n<6;n++){f.moveTo(a-U*($[g][0].length-e+1)+1+h,d-N-V+3+2*n+0.5);f.lineTo(a-U*($[g][0].length-e+1)+U-1+h,d-
N-V+3+2*n+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3);f.lineTo(a-U*($[g][0].length-e+1)+U-4+h,d-N-V+3+4);f.lineTo(a-U*($[g][0].length-e+1)+U+h,d-N-V+3+4)}else{f.fillStyle="gold";f.beginPath();f.moveTo(a+U*e+h,d-N-V+3);f.lineTo(a+U*e+h,d-N-V+3+V);f.lineTo(a+U*e+U+h,d-N-V+3+V);f.lineTo(a+U*e+U+h,d-N-V+3+4);f.lineTo(a+U*e+U-4+h,d-N-V+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(g=1;g<6;g++){f.moveTo(a+U*e+1+h,d-
N-V+3+2*g+0.5);f.lineTo(a+U*e+U-1+h,d-N-V+3+2*g+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a+U*e+U-4+h,d-N-V+3);f.lineTo(a+U*e+U-4+h,d-N-V+3+4);f.lineTo(a+U*e+U+h,d-N-V+3+4)}f.stroke();f.fillStyle=mj}function tk(a,d){return a-d}
function Qi(a,d){if(H||Zi){var e=document.getElementById("canvas").getContext("2d");e.clearRect(0,0,2E3,2500);e.fillStyle="#ccc";e.fillRect(0,0,Z,document.getElementById("canvas").height);e.fillStyle=mj;var f=Math.round((Z-U*87-24)/2),g=V;e.font=lj;e.lineWidth=1;for(var h=0;h<=K.length;h++){if(g-N>1200)break;if(g-N>-V*72){e.fillStyle=kj;e.fillRect(f,g-N,U*87,V*70);e.strokeStyle="#000";e.strokeRect(f,g-N,Math.round(U*87),V*70);e.strokeStyle="#999";e.strokeRect(f-2,g-N-2,Math.round(U*87)+4,V*70+4);
e.fillStyle=mj;h>0&&e.fillText(String(h+1)+".",550+f,g-N+85)}g+=V*72}if(!a){g=V*9+2;var n=Y[0];e.fillStyle="#ddd";var o=0;for(h=0;h<$.length;h++){if(R==h)Ui=o*1+1;if(K.length!=0&&K[o]!=undefined&&K[o][0]==h){if(R==h)Ui+=1;g=72*V*(o+1)+9*V+2;if(K[o][2]!=0){g-=K[o][2]*V;if($[h][1]==3)g+=V}o++}if(h<M.length)for(var q=0;q<M[h].length;q++){g+=V;if($[h][1]==0){M[h][q]!=0&&e.fillRect(n[1]-3+f,g-N,61*U+6,14);$[h][0]==""&&q==0&&e.fillRect(n[1]-3+f,g-N,61*U+6,14)}}if(g-N>1200)break}n=null}if(ij.length!=0||
jj.length!=0){e.fillStyle="yellow";g=ij.length==0?document.getElementById("fr_find_input").value.length:document.getElementById("find_input").value.length;q=o=h=0;var s=ij.length==0?jj:ij,A=V*9+3;for(i in M){if(A-N>1200)break;h=0;for(j in M[i]){if(K[q]!=undefined&&K[q][0]==i&&K[q][2]==j){q++;A=72*V*q+9*V+4;if($[i]!=undefined&&$[i][1]==3)A+=V}for(A+=V;s[o]!=undefined&&s[o][0]==i&&s[o][1]>=h&&s[o][1]<h+M[i][j]+1;){if(A-N>-100){var u=f+Y[$[i][1]][1]+(s[o][1]-h)*U;if(s[o][1]+g>h+M[i][j]+1){e.fillRect(u,
A-N,(h+M[i][j]-s[o][1])*U,V-2);e.fillRect(f+Y[$[i][1]][1],A+V-N,(g-(h+M[i][j]-s[o][1]+1))*U,V-2)}else e.fillRect(u,A-N,g*U,V-2)}o++}h+=M[i][j]+1}}}if(R!=T||S!=P){if(R>T){g={b:T,v:S};h={b:R,v:P}}else if(R==T&&P>S){g={b:T,v:S};h={b:R,v:P}}else{g={b:R,v:P};h={b:T,v:S}}o=V*9+3;var t=0;for(A=0;A<g.b;A++)if(K.length!=0&&K[t][2]==0&&K[t][0]-1==A){o=72*V*(t+1)+9*V+4;t++;t==K.length&&t--}else if(K.length!=0&&K[t][2]!=0&&K[t][0]==A){o=72*V*(t+1)+9*V+4;o+=(M[A].length-K[t][2])*V;if($[A][1]==3)o+=V;t++;t==K.length&&
t--}else o+=V*M[A].length;A=0;for(u=M[g.b][A]+1;g.v>u;){o+=V;if(K.length!=0&&K[t][0]==g.b&&K[t][2]==A+1){o=72*V*(t+1)+9*V+4;if($[g.b][1]==3)o+=V}A++;u+=M[g.b][A]+1}u-=M[g.b][A]+1;var E=Y[$[g.b][1]][1];E+=(g.v-u)*U;o+=V;for(note in notes)if(notes[note][0]==g.b)if(u<notes[note][1]&&u+M[g.b][A]+1>notes[note][1])if(notes[note][1]<g.v)E+=U;q=V*9+3;for(var O=t=0;O<h.b;O++)if(K.length!=0&&K[t][2]==0&&K[t][0]-1==O){q=72*V*(t+1)+9*V+4;t++;t==K.length&&t--}else if(K.length!=0&&K[t][2]!=0&&K[t][0]==O){q=72*
V*(t+1)+9*V+4;q+=(M[O].length-K[t][2])*V;if($[O][1]==3)q+=V;t++;t==K.length&&t--}else q+=V*M[O].length;O=0;for(s=M[h.b][O]+1;h.v>s;){q+=V;if(K.length!=0&&K[t][0]==h.b&&K[t][2]==O+1){q=72*V*(t+1)+9*V+4;if($[h.b][1]==3)q+=V}O++;s+=M[h.b][O]+1}s-=M[h.b][O]+1;t=Y[$[h.b][1]][1];t+=(h.v-s)*U;q+=V;for(note in notes)if(notes[note][0]==h.b)if(s<notes[note][1]&&s+M[h.b][O]+1>notes[note][1])if(notes[note][1]<h.v)t+=U;e.fillStyle="lightBlue";if(q==o){h=E;if($[g.b][1]==5)h-=$[g.b][0].length*U;e.fillRect(h+f,o-
N,t-E,12)}else{E=E;if($[g.b][1]==5)E-=$[g.b][0].length*U;for(e.fillRect(E+f,o-N,(u+M[g.b][A]-g.v)*U,12);o+V<q;){for(u=0;u<K.length;u++)if(K.length!=0&&K[u][0]-1==g.b&&K[u][2]==0&&A==M[g.b].length-1)o=72*V*(u+1)+9*V+4;else if(K.length!=0&&K[u][0]==g.b&&A==K[u][2]-1){o=72*V*(u+1)+9*V+4;if($[g.b][1]==3)o+=V}A++;o+=V;if(M[g.b].length<=A){g.b++;A=0}if(o!=q){u=Y[$[g.b][1]][1];if($[g.b][1]==5)u-=$[g.b][0].length*U;e.fillRect(u+f,o-N,M[g.b][A]*U,12)}}g=Y[$[h.b][1]][1];if($[h.b][1]==5)g-=$[h.b][0].length*
U;e.fillRect(g+f,q-N,(h.v-s)*U,12)}if(!$i){if(R>T){g={b:T,v:S};h={b:R,v:P}}else if(R==T&&P>S){g={b:T,v:S};h={b:R,v:P}}else{g={b:R,v:P};h={b:T,v:S}}if(g.b==h.b)g=$[g.b][0].slice(g.v,h.v);else{arr=[];arr.push([$[g.b][0].slice(g.v),$[g.b][1]]);for(g.b=g.b*1+1;g.b<h.b;){arr.push([$[g.b][0],$[g.b][1]]);g.b+=1}arr.push([$[h.b][0].slice(0,h.v),$[h.b][1]]);g=JSON.stringify(arr)}h=document.getElementById("ccp");h.value=g;if(!Zi){h.focus();h.select()}}}e.fillStyle=mj;e.font=lj;q=V*11;g=[];s="";for(h=A=o=0;h<
$.length;h++){$[h][1]==0&&A++;if($[h][1]==4){if($[h][0].charAt(0)!="(")$[h][0]="("+$[h][0];if($[h][0].charAt($[h][0].length-1)!=")")$[h][0]+=")"}u=false;if(!a)if(K.length!=0&&K[o]!=undefined&&K[o][0]==h)if(K[o][2]==0){q=72*V*(o+1)+11*V;o++;if(o>=K.length)o=K.length-2}else u=true;if(!a&&!u&&q-N<-200){q+=V*M[h].length;if(h==R){var gb=q;L=[]}}else if(!a&&!u&&q-N>1200)break;else{var J=[];if(Xi)for(note in notes)notes[note][0]==h&&J.push(notes[note][1]);J=J.sort(tk);E=$[h][1];if(h==R){gb=q-V;if(E==1)var Q=
Y[1][1];else if(E==0)Q=Y[0][1];else if(E==3)Q=Y[3][1];else if(E==2)Q=Y[2][1];else if(E==4)Q=Y[4][1];else if(E==5)Q=Y[5][1];var Ca=true,L=[]}if(h==T)var dc=true,cg=[];O=$[h][0];if(E==0)n=Y[0];else if(E==1)n=Y[1];else if(E==2)n=Y[2];else if(E==3)n=Y[3];else if(E==4)n=Y[4];else if(E==5)n=Y[5];E=O.split(" ");O=0;M[h]=[];for(t=0;O<E.length;){var W=0;if(E[O].length>=n[0]){W=E[O];if(n[3]==1)W=W.toUpperCase();var sa=W,ta=[];if(Xi)for(note in J)if(J[note]>=$[h][0].length-W.length){sa=sa.substr(0,J[note]-t+
ta.length)+" "+sa.substr(J[note]-t+ta.length);sk(n[1],q,J[note]-t+ta.length,e,h,f);ta.push(J[note])}e.fillText(sa,n[1]+f,q-N);M[h].push(W.length);q+=V;if(n[4]==2){M[h].push(0);q+=V}O++;Ca&&L.push(W.length);dc&&cg.push(W.length)}else if(E.slice(O).join().length<n[0]){W=E.slice(O).join(" ");if($[h][1]==2&&s!=""&&$[h][0].toUpperCase()==s.toUpperCase())W+=" (Cont'd)";if($[h][1]==0)s="";if(n[3]==1)W=W.toUpperCase();if(n[2]==1)e.textAlign="right";sa=W;ta=[];if(Xi)for(note in J)if(J[note]>=$[h][0].length-
W.length){sa=sa.substr(0,J[note]-t+ta.length)+" "+sa.substr(J[note]-t+ta.length);sk(n[1],q,J[note]-t+ta.length,e,h,f);ta.push(J[note])}W!=""&&e.fillText(sa,n[1]+f,q-N);e.textAlign="left";O=E.length;M[h].push(W.length);q+=V;if(n[4]==2){M[h].push(0);q+=V}Ca&&L.push(W.length);dc&&cg.push(W.length)}else{for(W=0;E.slice(O,O+W).join(" ").length<n[0];){newLineToPrint=E.slice(O,O+W).join(" ");W++}if(n[3]==1)newLineToPrint=newLineToPrint.toUpperCase();sa=newLineToPrint;ta=[];if(Xi)for(note in J)if(J[note]>=
t&&J[note]<=t+newLineToPrint.length){sa=sa.substr(0,J[note]-t+ta.length)+" "+sa.substr(J[note]-t+ta.length);sk(n[1],q,J[note]-t+ta.length,e,h,f);ta.push(J[note])}t+=newLineToPrint.length+1;e.fillText(sa,n[1]+f,q-N);M[h].push(newLineToPrint.length);q+=V;O+=W-1;Ca&&L.push(newLineToPrint.length);dc&&cg.push(newLineToPrint.length)}if($[h][1]==3&&h+1!=$.length&&$[h+1][1]==4&&M[h][M[h].length-1]==0){M[h].pop();q-=V}if(u&&M[h].length==K[o][2]){$[h][1]==3&&e.fillText("(MORE)",Y[2][1]+f,q-N);q=72*V*(o+1)+
11*V;if($[h][1]==3){e.fillText(s.toUpperCase()+" (CONT'D)",Y[2][1]+f,q-N);q+=V}o++;u=false;R==h&&g.push(o)}}dc=Ca=false}if($[h][1]==2)s=$[h][0];if(h==R){Vi=A;var pc=J}if(o>=K.length)o=K.length-2}for(;$.length<M.length;)M.pop();J=(new Date).getMilliseconds()-nj;n=false;if(J>0&&J<500)n=true;if(J<0&&J<-500)n=true;if(L){var Ya=0;for(J=L[Ya];P>J;){Ya++;J+=1+L[Ya]}J-=L[Ya];Ca=0;for(note in pc){dc=pc[note];dc<P&&dc>J&&dc<J+L[Ya]&&Ca++}note=null;if(g.length>0&&Ya>=K[g[0]-1][2]){gb=72*g[0]*V+9*V;if($[R][1]==
3){gb+=V*2;Ya-=K[g[0]-1][2]}else if($[R][1]==1){Ya-=K[g[0]-1][2];gb+=V}}if(n){f=Q+(P-J+Ca)*U+f;if($[R][1]==5)f-=$[R][0].length*U;Wi=2+gb+Ya*V-N;try{e.fillRect(f,Wi,2,17)}catch(uk){}}Ya=null}e.lineWidth=4;e.strokeStyle="#ddd";e.beginPath();e.moveTo(2,2);e.lineTo(2,document.getElementById("canvas").height-1);e.lineTo(Z,document.getElementById("canvas").height-1);e.lineTo(Z,2);e.stroke();e.fillStyle="#ccc";e.fillRect(2,document.getElementById("canvas").height-24,Z-25,24);e.strokeStyle="#aaa";e.lineWidth=
1;e.beginPath();e.moveTo(1.5,document.getElementById("canvas").height-25.5);e.lineTo(1.5,document.getElementById("canvas").height-1.5);e.lineTo(Z-23.5,document.getElementById("canvas").height-1.5);e.lineTo(Z-23.5,document.getElementById("canvas").height-25.5);e.closePath();e.strokeStyle="#999";e.stroke();e.beginPath();e.moveTo(0.5,document.getElementById("canvas").height-24.5);e.lineTo(0.5,document.getElementById("canvas").height-0.5);e.lineTo(Z-22.5,document.getElementById("canvas").height-0.5);
e.lineTo(Z-22.5,document.getElementById("canvas").height-24.5);e.closePath();e.strokeStyle="#333";e.stroke();f="Page "+Ui+" of "+(K.length+1);e.font="10pt sans-serif";e.fillStyle="#000";e.fillText(f,Z-150,document.getElementById("canvas").height-8);e.fillText(["Enter : Action  --  Tab : Character","Enter : Character  --  Tab : Slugline","Enter : Dialog  --  Tab : Action","Enter : Character  --  Tab : Parenthetical","Enter : Dialog  --  Tab : Dialog","Enter : Slugline  --  Tab : Slugline"][$[R][1]],
15,document.getElementById("canvas").height-8);e.fillText("Scene "+Vi+" of "+hj.length,Z/2-30,document.getElementById("canvas").height-8);e.font=lj;f=document.getElementById("canvas").height;e.fillStyle="#333";e.fillRect(Z-21,f-39,21,20);e.fillStyle="#ddd";e.fillRect(Z-19,f-37,16,16);e.beginPath();e.moveTo(Z-16,f-24);e.lineTo(Z-10.5,f-35);e.lineTo(Z-5,f-24);e.closePath();e.fillStyle="#333";e.fill();e.fillStyle="#333";e.fillRect(Z-21,f-19,20,20);e.fillStyle="#ddd";e.fillRect(Z-19,f-18,16,16);e.beginPath();
e.moveTo(Z-16,f-15);e.lineTo(Z-10.5,f-4);e.lineTo(Z-5,f-15);e.closePath();e.fillStyle="#333";e.fill();f=e.createLinearGradient(Z-15,0,Z,0);f.addColorStop(0,"#5587c4");f.addColorStop(0.8,"#95a7d4");e.strokeStyle="#333";e.fillStyle=f;Q=document.getElementById("canvas").height;L=(K.length+1)*72*V+40;f=Q/L*(Q-39);if(f<20)f=20;if(f>=Q-39)f=Q-39;Q=N/(L-Q)*(Q-39-f);e.fillRect(Z-18.5,Q+8,16,f-17);e.strokeRect(Z-18.5,Q+8,16,f-17);e.beginPath();e.arc(Z-10.5,Q+9,8,0,Math.PI,true);e.fill();e.stroke();e.beginPath();
e.arc(Z-10.5,Q+f-11,8,0,Math.PI,false);e.fill();e.stroke();for(L=Q;L<Q+f;){pc=e.createRadialGradient(Z,L+10,4,Z+200,L,10);pc.addColorStop(0,"rgba(100,140,210,0.4)");pc.addColorStop(0.4,"rgba(180,160,240,0.4)");pc.addColorStop(1,"rgba(1,159,98,0)");e.fillStyle=pc;e.fillRect(Z-18.5,Q+8,16,f-17);L+=20}e.beginPath();e.moveTo(Z-7,Q+9);e.lineTo(Z-7,Q+f-10);e.lineCap="round";e.strokeStyle="rgba(200,220,255,0.3)";e.lineWidth=4;e.stroke();e.beginPath();e.moveTo(Z-9,Q+10);e.lineTo(Z-9,Q+f-10);e.strokeStyle=
"rgba(200,220,255,0.1)";e.lineWidth=2;e.stroke();if(a)a:{K=[];for(e=i=0;i<$.length;){for(lineCount=e;lineCount+M[i].length<56;){lineCount+=M[i].length;i++;if(i==$.length)break a}e=f=0;if($[i][1]==3&&lineCount<54&&lineCount+M[i].length>57){f=55-lineCount;e=1-f;lineCount=56}else if($[i][1]==3&&lineCount<54&&M[i].length>4){f=M[i].length-3;e=1-f;lineCount=55}else if($[i][1]==1&&lineCount<55&&lineCount+M[i].length>57){f=55-lineCount;e=1-f;lineCount=56}else if($[i][1]==1&&lineCount<55&&M[i].length>4){f=
M[i].length-3;e=1-f;lineCount=55}else for(;$[i-1][1]==0||$[i-1][1]==2||$[i-1][1]==4;){i--;lineCount-=M[i].length}K.push([i,lineCount,f])}}dj&&R<T&&cj<40&&Fj(-20);dj&&R>T&&cj>document.getElementById("canvas").height-50&&Fj(20);if(d=="enter")Wi>document.getElementById("canvas").height&&Fj(600);else if(d)if(2+gb+Ya*V-N>document.getElementById("canvas").height-60)Fj(45);else Wi<45&&Fj(-45);document.getElementById("format").selectedIndex=$[R][1]}for(h=0;h<=5;h++)Ue(ye(uj,"format"+h),$[R][1]==h?true:false)}
;
