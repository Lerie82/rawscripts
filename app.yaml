# Rawscripts - Screenwriting Software
# Copyright (C) Ritchie Wilson
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.


application: rawscripts-hrd
version: 1
runtime: python
api_version: 1

builtins:
- appstats: on

handlers:
- url: /
  script: nologin.py

- url: /_ah/login_required
  script: nologin.py

- url: /hUoVeIFNIgngfTnTdlGQRg--.html
  script: scripteditor.py

- url: /js/restricted
  static_dir: static/js/restricted

- url: /favicon.ico
  static_files: static/images/favicon.ico
  upload: static/images/favicon.ico

- url: /worker.js
  static_files: static/js/worker.js
  upload: static/js/worker.js

- url: /rss.*
  script: blog.py

- url: /blogpost.*
  script: blog.py
  login: admin

- url: /blog.*
  script: blog.py

- url: /title.*
  script: scripteditor.py

- url: /sitemap.xml
  static_files: static/text/sitemap.xml
  upload: static/text/sitemap.xml

- url: /robots.txt
  static_files: static/text/robots.txt
  upload: static/text/robots.txt

- url: /convert
  script: scripteditor.py

- url: /contact
  script: nologin.py

- url: /images
  static_dir: static/images

- url: /css
  static_dir: static/css

- url: /js
  static_dir: static/js

- url: /js/min
  static_dir: static/js/min

- url: /text
  static_dir: static/text

- url: /closure-library
  static_dir: static/closure-library

- url: /editor.*
  script: nologin.py

- url: /scriptcontent.*
  script: nologin.py

- url: /contactemail.*
  script: nologin.py

- url: /submitbug.*
  script: nologin.py

- url: /save.*
  login: required
  script: nologin.py

- url: /spelldb.*
  login: admin
  script: spellcheck.py

- url: /spellcheckbigscript.*
  login: admin
  script: spellcheck.py

- url: /spellcheck.*
  script: spellcheck.py

- url: /revision.*
  login: required
  script: revisionhistory.py

- url: /junkparse.*
  login: admin
  script: deletetasks.py

- url: /automateddelete.*
  login: admin
  script: deletetasks.py

- url: /notes.*
  script: notes.py

- url: /remote_api
  script: $PYTHON_LIB/google/appengine/ext/remote_api/handler.py
  login: admin

- url: /stats.*
  login: admin
  script: stats.py

- url: /tos
  script: nologin.py

- url: /.*
  login: required
  script: scripteditor.py

skip_files:
- ^(.*/)?app\.yaml
- ^(.*/)?app\.yml
- ^(.*/)?index\.yaml
- ^(.*/)?index\.yml
- ^(.*/)?#.*#
- ^(.*/)?.*~
- ^(.*/)?.*\.py[co]
- ^(.*/)?.*/RCS/.*
- ^(.*/)?\..*
