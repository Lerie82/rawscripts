function aa(){return function(){}}function ba(a){return function(d){this[a]=d}}function ca(a){return function(){return this[a]}}function k(a){return function(){return a}}var l,da=da||{},n=this;function fa(a,d){for(var e=a.split("."),f=d||n,g;g=e.shift();)if(f[g])f=f[g];else return null;return f}function ha(){}function ia(a){a.A=function(){return a.We||(a.We=new a)}}
function ja(a){var d=typeof a;if(d=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(d=="function"&&typeof a.call=="undefined")return"object";return d}function ka(a){return ja(a)=="array"}function la(a){var d=ja(a);return d=="array"||d=="object"&&typeof a.length=="number"}function q(a){return typeof a=="string"}function ma(a){return typeof a=="number"}function na(a){return ja(a)=="function"}function oa(a){a=ja(a);return a=="object"||a=="array"||a=="function"}function pa(a){return a[qa]||(a[qa]=++ra)}
var qa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ra=0;function sa(a,d){var e=d||n;if(arguments.length>2){var f=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(g,f);return a.apply(e,g)}}else return function(){return a.apply(e,arguments)}}
function ta(a){var d=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);e.unshift.apply(e,d);return a.apply(this,e)}}var ua=Date.now||function(){return+new Date};function s(a,d){function e(){}e.prototype=d.prototype;a.a=d.prototype;a.prototype=new e;a.prototype.constructor=a};function va(a){for(var d=1;d<arguments.length;d++){var e=String(arguments[d]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a}function ya(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function za(a){return/^[\s\xa0]*$/.test(a)}function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function Ba(a,d){if(d)return a.replace(Ca,"&amp;").replace(Da,"&lt;").replace(Ea,"&gt;").replace(Fa,"&quot;");else{if(!Ga.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Ca,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Da,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ea,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Fa,"&quot;");return a}}var Ca=/&/g,Da=/</g,Ea=/>/g,Fa=/\"/g,Ga=/[&<>\"]/;
function Ha(a,d){for(var e=d.length,f=0;f<e;f++){var g=e==1?d:d.charAt(f);if(a.charAt(0)==g&&a.charAt(a.length-1)==g)return a.substring(1,a.length-1)}return a}function Ia(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ja(a,d){for(var e=0,f=Aa(String(a)).split("."),g=Aa(String(d)).split("."),h=Math.max(f.length,g.length),m=0;e==0&&m<h;m++){var o=f[m]||"",p=g[m]||"",r=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var t=r.exec(o)||["","",""],z=u.exec(p)||["","",""];if(t[0].length==0&&z[0].length==0)break;e=Ka(t[1].length==0?0:parseInt(t[1],10),z[1].length==0?0:parseInt(z[1],10))||Ka(t[2].length==0,z[2].length==0)||Ka(t[2],z[2])}while(e==0)}return e}
function Ka(a,d){if(a<d)return-1;else if(a>d)return 1;return 0};var La,Ma,Na,Oa,Pa,Qa,Ta;function Ua(){return n.navigator?n.navigator.userAgent:null}function Va(){return n.navigator}Pa=Oa=Na=Ma=La=false;var Wa;if(Wa=Ua()){var Xa=Va();La=Wa.indexOf("Opera")==0;Ma=!La&&Wa.indexOf("MSIE")!=-1;Oa=(Na=!La&&Wa.indexOf("WebKit")!=-1)&&Wa.indexOf("Mobile")!=-1;Pa=!La&&!Na&&Xa.product=="Gecko"}var Ya=La,A=Ma,B=Pa,Za=Na,$a=Oa,ab,bb=Va();ab=bb&&bb.platform||"";Qa=ab.indexOf("Mac")!=-1;Ta=ab.indexOf("Win")!=-1;
var cb=Qa,eb=!!Va()&&(Va().appVersion||"").indexOf("X11")!=-1,fb;a:{var gb="",hb;if(Ya&&n.opera){var ib=n.opera.version;gb=typeof ib=="function"?ib():ib}else{if(B)hb=/rv\:([^\);]+)(\)|;)/;else if(A)hb=/MSIE\s+([^\);]+)(\)|;)/;else if(Za)hb=/WebKit\/(\S+)/;if(hb){var jb=hb.exec(Ua());gb=jb?jb[1]:""}}if(A){var kb,lb=n.document;kb=lb?lb.documentMode:undefined;if(kb>parseFloat(gb)){fb=String(kb);break a}}fb=gb}var mb={};function nb(a){return mb[a]||(mb[a]=Ja(fb,a)>=0)};function ob(a){this.stack=Error().stack||"";if(a)this.message=String(a)}s(ob,Error);ob.prototype.name="CustomError";function pb(a,d){d.unshift(a);ob.call(this,va.apply(null,d));d.shift();this.Bf=a}s(pb,ob);pb.prototype.name="AssertionError";function qb(a,d){if(!a){var e=Array.prototype.slice.call(arguments,2),f="Assertion failed";if(d){f+=": "+d;var g=e}throw new pb(""+f,g||[]);}return a}function rb(a){throw new pb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var sb=Array.prototype,tb=sb.indexOf?function(a,d,e){qb(a.length!=null);return sb.indexOf.call(a,d,e)}:function(a,d,e){e=e==null?0:e<0?Math.max(0,a.length+e):e;if(q(a)){if(!q(d)||d.length!=1)return-1;return a.indexOf(d,e)}for(e=e;e<a.length;e++)if(e in a&&a[e]===d)return e;return-1},ub=sb.forEach?function(a,d,e){qb(a.length!=null);sb.forEach.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=q(a)?a.split(""):a,h=0;h<f;h++)h in g&&d.call(e,g[h],h,a)},vb=sb.filter?function(a,d,e){qb(a.length!=null);
return sb.filter.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=[],h=0,m=q(a)?a.split(""):a,o=0;o<f;o++)if(o in m){var p=m[o];if(d.call(e,p,o,a))g[h++]=p}return g},wb=sb.map?function(a,d,e){qb(a.length!=null);return sb.map.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=Array(f),h=q(a)?a.split(""):a,m=0;m<f;m++)if(m in h)g[m]=d.call(e,h[m],m,a);return g},xb=sb.every?function(a,d,e){qb(a.length!=null);return sb.every.call(a,d,e)}:function(a,d,e){for(var f=a.length,g=q(a)?a.split(""):a,h=0;h<f;h++)if(h in
g&&!d.call(e,g[h],h,a))return false;return true};function yb(a,d){return tb(a,d)>=0}function zb(a,d){var e=tb(a,d),f;if(f=e>=0){qb(a.length!=null);sb.splice.call(a,e,1)}return f}function Ab(){return sb.concat.apply(sb,arguments)}function Bb(a){if(ka(a))return Ab(a);else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e];return d}}
function Cb(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(ka(e)||(f=la(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var g=a.length,h=e.length,m=0;m<h;m++)a[g+m]=e[m];else a.push(e)}}function Db(a){qb(a.length!=null);return sb.splice.apply(a,Eb(arguments,1))}function Eb(a,d,e){qb(a.length!=null);return arguments.length<=2?sb.slice.call(a,d):sb.slice.call(a,d,e)};var Fb=[];var Gb,Hb=!A||nb("9"),Ib=A&&!nb("8");function Jb(){}Jb.prototype.yc=false;Jb.prototype.L=function(){if(!this.yc){this.yc=true;this.f()}};Jb.prototype.f=aa();function Kb(a,d){this.type=a;this.currentTarget=this.target=d}s(Kb,Jb);l=Kb.prototype;l.f=function(){delete this.type;delete this.target;delete this.currentTarget};l.Ua=false;l.Ib=true;l.stopPropagation=function(){this.Ua=true};l.preventDefault=function(){this.Ib=false};function Lb(a,d){a&&this.jb(a,d)}s(Lb,Kb);var Mb=[1,4,2];l=Lb.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=false;l.altKey=false;l.shiftKey=false;l.metaKey=false;l.he=false;l.ha=null;
l.jb=function(a,d){var e=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=d;var f=a.relatedTarget;if(f){if(B)try{f=f.nodeName&&f}catch(g){f=null}}else if(e=="mouseover")f=a.fromElement;else if(e=="mouseout")f=a.toElement;this.relatedTarget=f;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(e=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.he=cb?a.metaKey:a.ctrlKey;this.ha=a;delete this.Ib;delete this.Ua};function Nb(a,d){return Hb?a.ha.button==d:a.type=="click"?d==0:!!(a.ha.button&Mb[d])}
l.stopPropagation=function(){Lb.a.stopPropagation.call(this);if(this.ha.stopPropagation)this.ha.stopPropagation();else this.ha.cancelBubble=true};l.preventDefault=function(){Lb.a.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Ib)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(d){}}};l.f=function(){Lb.a.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.ha=null};function Ob(){}var Pb=0;l=Ob.prototype;l.key=0;l.ob=false;l.rd=false;l.jb=function(a,d,e,f,g,h){if(na(a))this.Nd=true;else if(a&&a.handleEvent&&na(a.handleEvent))this.Nd=false;else throw Error("Invalid listener argument");this.lb=a;this.ie=d;this.src=e;this.type=f;this.capture=!!g;this.ac=h;this.rd=false;this.key=++Pb;this.ob=false};l.handleEvent=function(a){if(this.Nd)return this.lb.call(this.ac||this.src,a);return this.lb.handleEvent.call(this.lb,a)};function Qb(a,d){this.Xd=d;this.Ka=[];if(a>this.Xd)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var e=0;e<a;e++)this.Ka.push(this.na?this.na():{})}s(Qb,Jb);Qb.prototype.na=null;Qb.prototype.wd=null;function Rb(a){if(a.Ka.length)return a.Ka.pop();return a.na?a.na():{}}function Sb(a,d){a.Ka.length<a.Xd?a.Ka.push(d):Tb(a,d)}function Tb(a,d){if(a.wd)a.wd(d);else if(oa(d))if(na(d.L))d.L();else for(var e in d)delete d[e]}
Qb.prototype.f=function(){Qb.a.f.call(this);for(var a=this.Ka;a.length;)Tb(this,a.pop());delete this.Ka};var Ub;var Vb=(Ub="ScriptEngine"in n&&n.ScriptEngine()=="JScript")?n.ScriptEngineMajorVersion()+"."+n.ScriptEngineMinorVersion()+"."+n.ScriptEngineBuildVersion():"0";var Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc;
(function(){function a(){return{S:0,ga:0}}function d(){return[]}function e(){function z(F){return m.call(z.src,z.key,F)}return z}function f(){return new Ob}function g(){return new Lb}var h=Ub&&!(Ja(Vb,"5.7")>=0),m;ac=function(z){m=z};if(h){Wb=function(){return Rb(o)};Xb=function(z){Sb(o,z)};Yb=function(){return Rb(p)};Zb=function(z){Sb(p,z)};$b=function(){return Rb(r)};bc=function(){Sb(r,e())};cc=function(){return Rb(u)};dc=function(z){Sb(u,z)};ec=function(){return Rb(t)};fc=function(z){Sb(t,z)};
var o=new Qb(0,600);o.na=a;var p=new Qb(0,600);p.na=d;var r=new Qb(0,600);r.na=e;var u=new Qb(0,600);u.na=f;var t=new Qb(0,600);t.na=g}else{Wb=a;Xb=ha;Yb=d;Zb=ha;$b=e;bc=ha;cc=f;dc=ha;ec=g;fc=ha}})();function gc(a,d,e){for(var f in a)d.call(e,a[f],f,a)}function jc(a){var d=[],e=0;for(var f in a)d[e++]=a[f];return d}function kc(a){var d=[],e=0;for(var f in a)d[e++]=f;return d}function lc(a){for(var d in a)return false;return true}function mc(a,d){var e;if(e=d in a)delete a[d];return e}function nc(a,d,e){if(d in a)throw Error('The object already contains the key "'+d+'"');a[d]=e}var oc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function pc(a){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<oc.length;g++){d=oc[g];if(Object.prototype.hasOwnProperty.call(e,d))a[d]=e[d]}}}function qc(){var a=arguments.length;if(a==1&&ka(arguments[0]))return qc.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<a;e+=2)d[arguments[e]]=arguments[e+1];return d}
function rc(){var a=arguments.length;if(a==1&&ka(arguments[0]))return rc.apply(null,arguments[0]);for(var d={},e=0;e<a;e++)d[arguments[e]]=true;return d};var sc={},tc={},uc={},yc={};
function C(a,d,e,f,g){if(d)if(ka(d)){for(var h=0;h<d.length;h++)C(a,d[h],e,f,g);return null}else{f=!!f;var m=tc;d in m||(m[d]=Wb());m=m[d];if(!(f in m)){m[f]=Wb();m.S++}m=m[f];var o=pa(a),p;m.ga++;if(m[o]){p=m[o];for(h=0;h<p.length;h++){m=p[h];if(m.lb==e&&m.ac==g){if(m.ob)break;return p[h].key}}}else{p=m[o]=Yb();m.S++}h=$b();h.src=a;m=cc();m.jb(e,h,a,d,f,g);e=m.key;h.key=e;p.push(m);sc[e]=m;uc[o]||(uc[o]=Yb());uc[o].push(m);if(a.addEventListener){if(a==n||!a.vd)a.addEventListener(d,h,f)}else a.attachEvent(zc(d),
h);return e}else throw Error("Invalid event type");}function Ac(a,d,e,f,g){if(ka(d)){for(var h=0;h<d.length;h++)Ac(a,d[h],e,f,g);return null}f=!!f;a=Bc(a,d,f);if(!a)return false;for(h=0;h<a.length;h++)if(a[h].lb==e&&a[h].capture==f&&a[h].ac==g)return Cc(a[h].key);return false}
function Cc(a){if(!sc[a])return false;var d=sc[a];if(d.ob)return false;var e=d.src,f=d.type,g=d.ie,h=d.capture;if(e.removeEventListener){if(e==n||!e.vd)e.removeEventListener(f,g,h)}else e.detachEvent&&e.detachEvent(zc(f),g);e=pa(e);g=tc[f][h][e];if(uc[e]){var m=uc[e];zb(m,d);m.length==0&&delete uc[e]}d.ob=true;g.be=true;Dc(f,h,e,g);delete sc[a];return true}
function Dc(a,d,e,f){if(!f.gc)if(f.be){for(var g=0,h=0;g<f.length;g++)if(f[g].ob){var m=f[g].ie;m.src=null;bc(m);dc(f[g])}else{if(g!=h)f[h]=f[g];h++}f.length=h;f.be=false;if(h==0){Zb(f);delete tc[a][d][e];tc[a][d].S--;if(tc[a][d].S==0){Xb(tc[a][d]);delete tc[a][d];tc[a].S--}if(tc[a].S==0){Xb(tc[a]);delete tc[a]}}}}
function Ec(a,d,e){var f=0,g=a==null,h=d==null,m=e==null;e=!!e;if(g)gc(uc,function(p){for(var r=p.length-1;r>=0;r--){var u=p[r];if((h||d==u.type)&&(m||e==u.capture)){Cc(u.key);f++}}});else{a=pa(a);if(uc[a]){a=uc[a];for(g=a.length-1;g>=0;g--){var o=a[g];if((h||d==o.type)&&(m||e==o.capture)){Cc(o.key);f++}}}}return f}function Bc(a,d,e){var f=tc;if(d in f){f=f[d];if(e in f){f=f[e];a=pa(a);if(f[a])return f[a]}}return null}
var Fc="click",Gc="mouseover",Hc="mouseout",Ic="keydown",Jc="keyup",Kc="blur",Lc="focus";function zc(a){if(a in yc)return yc[a];return yc[a]="on"+a}function Mc(a,d,e,f,g){var h=1;d=pa(d);if(a[d]){a.ga--;a=a[d];if(a.gc)a.gc++;else a.gc=1;try{for(var m=a.length,o=0;o<m;o++){var p=a[o];if(p&&!p.ob)h&=Nc(p,g)!==false}}finally{a.gc--;Dc(e,f,d,a)}}return Boolean(h)}function Nc(a,d){var e=a.handleEvent(d);a.rd&&Cc(a.key);return e}
function Oc(a,d){if(!sc[a])return true;var e=sc[a],f=e.type,g=tc;if(!(f in g))return true;g=g[f];var h,m;if(Gb===undefined)Gb=A&&!n.addEventListener;if(Gb){h=d||fa("window.event");var o=true in g,p=false in g;if(o){if(h.keyCode<0||h.returnValue!=undefined)return true;a:{var r=false;if(h.keyCode==0)try{h.keyCode=-1;break a}catch(u){r=true}if(r||h.returnValue==undefined)h.returnValue=true}}r=ec();r.jb(h,this);h=true;try{if(o){for(var t=Yb(),z=r.currentTarget;z;z=z.parentNode)t.push(z);m=g[true];m.ga=
m.S;for(var F=t.length-1;!r.Ua&&F>=0&&m.ga;F--){r.currentTarget=t[F];h&=Mc(m,t[F],f,true,r)}if(p){m=g[false];m.ga=m.S;for(F=0;!r.Ua&&F<t.length&&m.ga;F++){r.currentTarget=t[F];h&=Mc(m,t[F],f,false,r)}}}else h=Nc(e,r)}finally{if(t){t.length=0;Zb(t)}r.L();fc(r)}return h}f=new Lb(d,this);try{h=Nc(e,f)}finally{f.L()}return h}ac(Oc);Fb[Fb.length]=function(a){Oc=a(Oc);ac(Oc)};var Pc,Qc=!A||nb("9"),Rc=A&&!nb("9");function Sc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Tc(a){var d=Sc(a),e;e=Eb(arguments,1);for(var f=0,g=0;g<e.length;g++)if(!yb(d,e[g])){d.push(e[g]);f++}e=f==e.length;a.className=d.join(" ");return e}function Uc(a){var d=Sc(a),e;e=Eb(arguments,1);for(var f=0,g=0;g<d.length;g++)if(yb(e,d[g])){Db(d,g--,1);f++}e=f==e.length;a.className=d.join(" ");return e};function Vc(a,d){this.x=a!==undefined?a:0;this.y=d!==undefined?d:0}Vc.prototype.Fa=function(){return new Vc(this.x,this.y)};Vc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Wc(a,d){return new Vc(a.x-d.x,a.y-d.y)};function Xc(a,d){this.width=a;this.height=d}function Yc(a,d){if(a==d)return true;if(!a||!d)return false;return a.width==d.width&&a.height==d.height}Xc.prototype.Fa=function(){return new Xc(this.width,this.height)};Xc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};Xc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Xc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Zc(a){return a?new $c(ad(a)):Pc||(Pc=new $c)}function D(a){return q(a)?document.getElementById(a):a}
function bd(a,d,e,f){a=f||a;d=d&&d!="*"?d.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!Za||cd(document)||nb("528"))&&(d||e))return a.querySelectorAll(d+(e?"."+e:""));if(e&&a.getElementsByClassName){a=a.getElementsByClassName(e);if(d){f={};for(var g=0,h=0,m;m=a[h];h++)if(d==m.nodeName)f[g++]=m;f.length=g;return f}else return a}a=a.getElementsByTagName(d||"*");if(e){f={};for(h=g=0;m=a[h];h++){d=m.className;if(typeof d.split=="function"&&yb(d.split(/\s+/),e))f[g++]=m}f.length=g;return f}else return a}
function dd(a,d){gc(d,function(e,f){if(f=="style")a.style.cssText=e;else if(f=="class")a.className=e;else if(f=="for")a.htmlFor=e;else if(f in ed)a.setAttribute(ed[f],e);else a[f]=e})}var ed={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function fd(a){var d=a.document;if(Za&&!nb("500")&&!$a){if(typeof a.innerHeight=="undefined")a=window;d=a.innerHeight;var e=a.document.documentElement.scrollHeight;if(a==a.top)if(e<d)d-=15;return new Xc(a.innerWidth,d)}a=cd(d);if(Ya&&!nb("9.50"))a=false;a=a?d.documentElement:d.body;return new Xc(a.clientWidth,a.clientHeight)}function gd(a,d,e,f){function g(m){if(m)d.appendChild(q(m)?a.createTextNode(m):m)}for(f=f;f<e.length;f++){var h=e[f];la(h)&&!(oa(h)&&h.nodeType>0)?ub(hd(h)?Bb(h):h,g):g(h)}}
function cd(a){return a.compatMode=="CSS1Compat"}function jd(a){for(var d;d=a.firstChild;)a.removeChild(d)}function kd(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ld(a){for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function md(a,d){if(a.contains&&d.nodeType==1)return a==d||a.contains(d);if(typeof a.compareDocumentPosition!="undefined")return a==d||Boolean(a.compareDocumentPosition(d)&16);for(;d&&a!=d;)d=d.parentNode;return d==a}
function ad(a){return a.nodeType==9?a:a.ownerDocument||a.document}function nd(a,d){if("textContent"in a)a.textContent=d;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=d}else{jd(a);a.appendChild(ad(a).createTextNode(d))}}var od={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},pd={IMG:" ",BR:"\n"};function qd(a){var d=a.getAttributeNode("tabindex");if(d&&d.specified){a=a.tabIndex;return ma(a)&&a>=0}return false}
function rd(a){if(Rc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var d=[];sd(a,d,true);a=d.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");A||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function sd(a,d,e){if(!(a.nodeName in od))if(a.nodeType==3)e?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else if(a.nodeName in pd)d.push(pd[a.nodeName]);else for(a=a.firstChild;a;){sd(a,d,e);a=a.nextSibling}}
function hd(a){if(a&&typeof a.length=="number")if(oa(a))return typeof a.item=="function"||typeof a.item=="string";else if(na(a))return typeof a.item=="function";return false}function $c(a){this.p=a||n.document||document}l=$c.prototype;l.M=Zc;function td(a){return a.p}l.d=function(a){return q(a)?this.p.getElementById(a):a};
l.k=function(){var a=this.p,d=arguments,e=d[0],f=d[1];if(!Qc&&f&&(f.name||f.type)){e=["<",e];f.name&&e.push(' name="',Ba(f.name),'"');if(f.type){e.push(' type="',Ba(f.type),'"');var g={};pc(g,f);f=g;delete f.type}e.push(">");e=e.join("")}e=a.createElement(e);if(f)if(q(f))e.className=f;else ka(f)?Tc.apply(null,[e].concat(f)):dd(e,f);d.length>2&&gd(a,e,d,2);return e};l.createElement=function(a){return this.p.createElement(a)};l.createTextNode=function(a){return this.p.createTextNode(a)};
function ud(a){a=!Za&&cd(a.p)?a.p.documentElement:a.p.body;return new Vc(a.scrollLeft,a.scrollTop)}l.appendChild=function(a,d){a.appendChild(d)};l.je=jd;l.removeNode=kd;l.Cd=ld;l.contains=md;function vd(a,d,e,f){this.top=a;this.right=d;this.bottom=e;this.left=f}vd.prototype.Fa=function(){return new vd(this.top,this.right,this.bottom,this.left)};vd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};vd.prototype.contains=function(a){return!this||!a?false:a instanceof vd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function wd(a,d,e,f){this.left=a;this.top=d;this.width=e;this.height=f}wd.prototype.Fa=function(){return new wd(this.left,this.top,this.width,this.height)};wd.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
wd.prototype.contains=function(a){return a instanceof wd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function xd(a,d){var e=ad(a);if(e.defaultView&&e.defaultView.getComputedStyle)if(e=e.defaultView.getComputedStyle(a,""))return e[d];return null}function yd(a,d){return xd(a,d)||(a.currentStyle?a.currentStyle[d]:null)||a.style[d]}function zd(a,d,e){var f,g=B&&(cb||eb)&&nb("1.9");if(d instanceof Vc){f=d.x;d=d.y}else{f=d;d=e}a.style.left=Ad(f,g);a.style.top=Ad(d,g)}function Bd(a){a=a?a.nodeType==9?a:ad(a):document;var d;if(d=A){d=Zc(a);d=!cd(d.p)}if(d)return a.body;return a.documentElement}
function Cd(a){var d=a.getBoundingClientRect();if(A){a=a.ownerDocument;d.left-=a.documentElement.clientLeft+a.body.clientLeft;d.top-=a.documentElement.clientTop+a.body.clientTop}return d}
function Dd(a){if(A)return a.offsetParent;var d=ad(a),e=yd(a,"position"),f=e=="fixed"||e=="absolute";for(a=a.parentNode;a&&a!=d;a=a.parentNode){e=yd(a,"position");f=f&&e=="static"&&a!=d.documentElement&&a!=d.body;if(!f&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||e=="fixed"||e=="absolute"))return a}return null}
function Ed(a){var d=new vd(0,Infinity,Infinity,0),e=Zc(a),f=e.p.body,g=!Za&&cd(e.p)?e.p.documentElement:e.p.body,h;for(a=a;a=Dd(a);)if((!A||a.clientWidth!=0)&&(!Za||a.clientHeight!=0||a!=f)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&yd(a,"overflow")!="visible"){var m=Fd(a),o;o=a;if(B&&!nb("1.9")){var p=parseFloat(xd(o,"borderLeftWidth"));if(Gd(o)){var r=o.offsetWidth-o.clientWidth-p-parseFloat(xd(o,"borderRightWidth"));p+=r}o=new Vc(p,parseFloat(xd(o,"borderTopWidth")))}else o=
new Vc(o.clientLeft,o.clientTop);m.x+=o.x;m.y+=o.y;d.top=Math.max(d.top,m.y);d.right=Math.min(d.right,m.x+a.clientWidth);d.bottom=Math.min(d.bottom,m.y+a.clientHeight);d.left=Math.max(d.left,m.x);h=h||a!=g}f=g.scrollLeft;g=g.scrollTop;if(Za){d.left+=f;d.top+=g}else{d.left=Math.max(d.left,f);d.top=Math.max(d.top,g)}if(!h||Za){d.right+=f;d.bottom+=g}e=fd(e.p.parentWindow||e.p.defaultView||window);d.right=Math.min(d.right,f+e.width);d.bottom=Math.min(d.bottom,g+e.height);return d.top>=0&&d.left>=0&&
d.bottom>d.top&&d.right>d.left?d:null}
function Fd(a){var d,e=ad(a),f=yd(a,"position"),g=B&&e.getBoxObjectFor&&!a.getBoundingClientRect&&f=="absolute"&&(d=e.getBoxObjectFor(a))&&(d.screenX<0||d.screenY<0),h=new Vc(0,0),m=Bd(e);if(a==m)return h;if(a.getBoundingClientRect){d=Cd(a);a=ud(Zc(e));h.x=d.left+a.x;h.y=d.top+a.y}else if(e.getBoxObjectFor&&!g){d=e.getBoxObjectFor(a);a=e.getBoxObjectFor(m);h.x=d.screenX-a.screenX;h.y=d.screenY-a.screenY}else{d=a;do{h.x+=d.offsetLeft;h.y+=d.offsetTop;if(d!=a){h.x+=d.clientLeft||0;h.y+=d.clientTop||
0}if(Za&&yd(d,"position")=="fixed"){h.x+=e.body.scrollLeft;h.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=a);if(Ya||Za&&f=="absolute")h.y-=e.body.offsetTop;for(d=a;(d=Dd(d))&&d!=e.body&&d!=m;){h.x-=d.scrollLeft;if(!Ya||d.tagName!="TR")h.y-=d.scrollTop}}return h}function Hd(a,d,e){var f=Fd(a);if(d instanceof Vc){e=d.y;d=d.x}zd(a,a.offsetLeft+(d-f.x),a.offsetTop+(e-f.y))}
function Id(a,d,e){if(d instanceof Xc){e=d.height;d=d.width}else{if(e==undefined)throw Error("missing height argument");e=e}a.style.width=Ad(d,true);a.style.height=Ad(e,true)}function Ad(a,d){if(typeof a=="number")a=(d?Math.round(a):a)+"px";return a}
function Jd(a){var d=Ya&&!nb("10");if(yd(a,"display")!="none")return d?new Xc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new Xc(a.offsetWidth,a.offsetHeight);var e=a.style,f=e.display,g=e.visibility,h=e.position;e.visibility="hidden";e.position="absolute";e.display="inline";if(d){d=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{d=a.offsetWidth;a=a.offsetHeight}e.display=f;e.position=h;e.visibility=g;return new Xc(d,a)}
function Kd(a){var d=Fd(a);a=Jd(a);return new wd(d.x,d.y,a.width,a.height)}function Ld(a,d){a.style.display=d?"":"none"}function Gd(a){return"rtl"==yd(a,"direction")}var Md=B?"MozUserSelect":Za?"WebkitUserSelect":null;function Nd(a,d,e){e=!e?a.getElementsByTagName("*"):null;if(Md){d=d?"none":"";a.style[Md]=d;if(e){a=0;for(var f;f=e[a];a++)f.style[Md]=d}}else if(A||Ya){d=d?"on":"";a.setAttribute("unselectable",d);if(e)for(a=0;f=e[a];a++)f.setAttribute("unselectable",d)}}var Od={thin:2,medium:4,thick:6};
function Pd(a,d){if((a.currentStyle?a.currentStyle[d+"Style"]:null)=="none")return 0;var e=a.currentStyle?a.currentStyle[d+"Width"]:null;if(e in Od)return Od[e];var f;if(/^\d+px?$/.test(e))f=parseInt(e,10);else{f=a.style.left;var g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=e;e=a.style.pixelLeft;a.style.left=f;a.runtimeStyle.left=g;f=e}return f};function Qd(){}s(Qd,Jb);l=Qd.prototype;l.vd=true;l.kc=null;l.cd=ba("kc");l.addEventListener=function(a,d,e,f){C(this,a,d,e,f)};l.removeEventListener=function(a,d,e,f){Ac(this,a,d,e,f)};
l.dispatchEvent=function(a){a=a;if(q(a))a=new Kb(a,this);else if(a instanceof Kb)a.target=a.target||this;else{var d=a;a=new Kb(a.type,this);pc(a,d)}d=1;var e,f=a.type,g=tc;if(f in g){g=g[f];f=true in g;var h;if(f){e=[];for(h=this;h;h=h.kc)e.push(h);h=g[true];h.ga=h.S;for(var m=e.length-1;!a.Ua&&m>=0&&h.ga;m--){a.currentTarget=e[m];d&=Mc(h,e[m],a.type,true,a)&&a.Ib!=false}}if(false in g){h=g[false];h.ga=h.S;if(f)for(m=0;!a.Ua&&m<e.length&&h.ga;m++){a.currentTarget=e[m];d&=Mc(h,e[m],a.type,false,a)&&
a.Ib!=false}else for(e=this;!a.Ua&&e&&h.ga;e=e.kc){a.currentTarget=e;d&=Mc(h,e,a.type,false,a)&&a.Ib!=false}}a=Boolean(d)}else a=true;return a};l.f=function(){Qd.a.f.call(this);Ec(this);this.kc=null};function Rd(a){this.ab=a||window;this.fc=C(this.ab,"resize",this.Se,false,this);this.mc=fd(this.ab||window);if(Za&&Ta||Ya&&this.ab.self!=this.ab.top)this.rc=window.setInterval(sa(this.td,this),Sd)}s(Rd,Qd);var Sd=500;l=Rd.prototype;l.fc=null;l.ab=null;l.mc=null;l.rc=null;l.f=function(){Rd.a.f.call(this);if(this.fc){Cc(this.fc);this.fc=null}if(this.rc){window.clearInterval(this.rc);this.rc=null}this.mc=this.ab=null};l.Se=function(){this.td()};
l.td=function(){var a=fd(this.ab||window);if(!Yc(a,this.mc)){this.mc=a;this.dispatchEvent("resize")}};function Td(a){this.c=a;this.Ud=C(this.c,B?"DOMMouseScroll":"mousewheel",this)}s(Td,Qd);var Ud="mousewheel";
Td.prototype.handleEvent=function(a){var d=0,e=0,f=0;a=a.ha;if(a.type=="mousewheel"){e=1;if(A||Za&&(Ta||nb("532.0")))e=40;f=-a.wheelDelta/e;if(a.wheelDeltaX!==undefined){d=-a.wheelDeltaX/e;e=-a.wheelDeltaY/e}else e=f}else{f=a.detail;if(f>100)f=3;else if(f<-100)f=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)d=f;else e=f}if(ma(this.Yd))d=Math.min(Math.max(d,-this.Yd),this.Yd);if(ma(this.Zd))e=Math.min(Math.max(e,-this.Zd),this.Zd);d=new Vd(f,a,d,e);try{this.dispatchEvent(d)}finally{d.L()}};
Td.prototype.f=function(){Td.a.f.call(this);Cc(this.Ud);delete this.Ud};function Vd(a,d,e,f){d&&this.jb(d,void 0);this.type=Ud;this.detail=a;this.xf=e;this.Fe=f}s(Vd,Lb);function Wd(a,d,e,f,g){if(!A&&!(Za&&nb("525")))return true;if(cb&&g)return Xd(a);if(g&&!f)return false;if(!e&&(d==17||d==18))return false;if(A&&f&&d==a)return false;switch(a){case 13:return true;case 27:return!Za}return Xd(a)}
function Xd(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(Za&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};function Yd(a,d){a&&Zd(this,a,d)}s(Yd,Qd);l=Yd.prototype;l.c=null;l.dc=null;l.Rc=null;l.ec=null;l.ya=-1;l.wa=-1;
var $d={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},ae={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},be={61:187,
59:186},ce=A||Za&&nb("525");l=Yd.prototype;l.hb=function(a){if(Za&&(this.ya==17&&!a.ctrlKey||this.ya==18&&!a.altKey))this.wa=this.ya=-1;if(ce&&!Wd(a.keyCode,this.ya,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.wa=B&&a.keyCode in be?be[a.keyCode]:a.keyCode};l.Pe=function(){this.wa=this.ya=-1};
l.handleEvent=function(a){var d=a.ha,e,f;if(A&&a.type=="keypress"){e=this.wa;f=e!=13&&e!=27?d.keyCode:0}else if(Za&&a.type=="keypress"){e=this.wa;f=d.charCode>=0&&d.charCode<63232&&Xd(e)?d.charCode:0}else if(Ya){e=this.wa;f=Xd(e)?d.keyCode:0}else{e=d.keyCode||this.wa;f=d.charCode||0;if(cb&&f==63&&!e)e=191}var g=e,h=d.keyIdentifier;if(e)if(e>=63232&&e in $d)g=$d[e];else{if(e==25&&a.shiftKey)g=9}else if(h&&h in ae)g=ae[h];a=g==this.ya;this.ya=g;d=new de(g,f,a,d);try{this.dispatchEvent(d)}finally{d.L()}};
l.d=ca("c");function Zd(a,d,e){a.ec&&a.detach();a.c=d;a.dc=C(a.c,"keypress",a,e);a.Rc=C(a.c,Ic,a.hb,e,a);a.ec=C(a.c,Jc,a.Pe,e,a)}l.detach=function(){if(this.dc){Cc(this.dc);Cc(this.Rc);Cc(this.ec);this.ec=this.Rc=this.dc=null}this.c=null;this.wa=this.ya=-1};l.f=function(){Yd.a.f.call(this);this.detach()};function de(a,d,e,f){f&&this.jb(f,void 0);this.type="key";this.keyCode=a;this.charCode=d;this.repeat=e}s(de,Lb);function ee(a,d){this.Bb=a||1;this.Rb=d||fe;this.xc=sa(this.pf,this);this.Uc=ua()}s(ee,Qd);ee.prototype.enabled=false;var fe=n.window;l=ee.prototype;l.u=null;l.setInterval=function(a){this.Bb=a;if(this.u&&this.enabled){this.stop();this.start()}else this.u&&this.stop()};l.pf=function(){if(this.enabled){var a=ua()-this.Uc;if(a>0&&a<this.Bb*0.8)this.u=this.Rb.setTimeout(this.xc,this.Bb-a);else{this.dispatchEvent(ge);if(this.enabled){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ua()}}}};
l.start=function(){this.enabled=true;if(!this.u){this.u=this.Rb.setTimeout(this.xc,this.Bb);this.Uc=ua()}};l.stop=function(){this.enabled=false;if(this.u){this.Rb.clearTimeout(this.u);this.u=null}};l.f=function(){ee.a.f.call(this);this.stop();delete this.Rb};var ge="tick";function he(a,d,e){if(na(a)){if(e)a=sa(a,e)}else if(a&&typeof a.handleEvent=="function")a=sa(a.handleEvent,a);else throw Error("Invalid listener argument");return d>2147483647?-1:fe.setTimeout(a,d||0)};var ie={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function je(a){this.Ob={};this.ra={Za:[],pe:0};this.Je=rc(ke);this.od=true;this.ze=this.Ce=false;this.Ze=true;this.qa=a;C(this.qa,Ic,this.hb,false,this);cb&&B&&nb("1.8")&&C(this.qa,Jc,this.Gd,false,this);if(Ta&&!B){C(this.qa,"keypress",this.Jd,false,this);C(this.qa,Jc,this.Kd,false,this)}}var le;s(je,Qd);var ke=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],me={xe:"shortcut",we:"shortcut_"};l=je.prototype;
l.Hb=function(a){var d=ne,e=this.Ob,f=arguments;if(q(f[1])){f=f[1];f=f.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();f=f.split(" ");for(var g=[],h,m=0;h=f[m];m++){var o=h.split("+"),p;h=0;for(var r,u=0;r=o[u];u++){switch(r){case "shift":h|=1;continue;case "ctrl":h|=2;continue;case "alt":h|=4;continue;case "meta":h|=8;continue}p=r;if(!le){o={};for(var t in ie)o[ie[t]]=t;le=o}p=le[p];break}g.push({keyCode:p,ae:h})}f=g}else{t=f;g=1;if(ka(f[1])){t=f[1];g=0}for(f=[];g<t.length;g+=2)f.push({keyCode:t[g],
ae:t[g+1]})}d(e,f,a)};l.f=function(){je.a.f.call(this);this.Ob={};Ac(this.qa,Ic,this.hb,false,this);cb&&B&&nb("1.8")&&Ac(this.qa,Jc,this.Gd,false,this);if(Ta&&!B){Ac(this.qa,"keypress",this.Jd,false,this);Ac(this.qa,Jc,this.Kd,false,this)}this.qa=null};l.Gd=function(a){if(a.keyCode==224){this.$d=true;he(function(){this.$d=false},400,this)}else{var d=a.metaKey||this.$d;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&d){a.metaKey=d;this.hb(a)}}};
function oe(a,d){return Ta&&!B&&d.ctrlKey&&d.altKey&&!d.shiftKey}l.Jd=function(a){if(a.keyCode>32&&oe(this,a))this.Od=true};l.Kd=function(a){!this.Od&&oe(this,a)&&this.hb(a)};function ne(a,d,e){var f=d.shift();f=f.keyCode&255|f.ae<<8;var g=a[f];if(g&&e&&(d.length==0||q(g)))throw Error("Keyboard shortcut conflicts with existing shortcut");if(d.length){g||(g=a[f]={});ne(g,d,e)}else a[f]=e}function pe(a,d,e,f){e=e||0;if((f=(f||a.Ob)[d[e]])&&!q(f)&&d.length-e>1)return pe(a,d,e+1,f);return f}
l.hb=function(a){if(qe(this,a))if(a.type=="keydown"&&oe(this,a))this.Od=false;else{var d=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,e,f,g=ua();if(this.ra.Za.length&&g-this.ra.pe<=1500)e=pe(this,this.ra.Za);else this.ra.Za.length=0;e=e?e[d]:this.Ob[d];if(!e){e=this.Ob[d];this.ra.Za=[]}if(e&&q(e))f=e;else if(e){this.ra.Za.push(d);this.ra.pe=g;B&&a.preventDefault()}else this.ra.Za.length=0;if(f){this.od&&a.preventDefault();this.Ce&&a.stopPropagation();d=this.dispatchEvent(new re(me.xe,
f,a.target));d&=this.dispatchEvent(new re(me.we+f,f,a.target));d||a.preventDefault();this.ra.Za.length=0}}};
function qe(a,d){var e=d.keyCode;if(e==16||e==17||e==18)return false;var f=d.target,g=f.tagName=="TEXTAREA"||f.tagName=="INPUT"||f.tagName=="BUTTON"||f.tagName=="SELECT",h=!g&&(f.isContentEditable||f.ownerDocument&&f.ownerDocument.designMode=="on");if(!g&&!h)return true;if(a.Je[e]||a.ze)return true;if(h)return false;if(a.Ze&&(d.altKey||d.ctrlKey||d.metaKey))return true;if(f.tagName=="INPUT"&&(f.type=="text"||f.type=="password"))return e==13;if(f.tagName=="INPUT"||f.tagName=="BUTTON")return e!=32;
return false}function re(a,d,e){Kb.call(this,a,e);this.identifier=d}s(re,Kb);function se(a){this.Ld=a}s(se,Jb);var te=new Qb(0,100);se.prototype.j=function(a,d,e,f,g){if(ka(d))for(var h=0;h<d.length;h++)this.j(a,d[h],e,f,g);else{a=C(a,d,e||this,f||false,g||this.Ld||this);if(this.m)this.m[a]=true;else if(this.xa){this.m=Rb(te);this.m[this.xa]=true;this.xa=null;this.m[a]=true}else this.xa=a}return this};
se.prototype.Q=function(a,d,e,f,g){if(this.xa||this.m)if(ka(d))for(var h=0;h<d.length;h++)this.Q(a,d[h],e,f,g);else{a:{e=e||this;g=g||this.Ld||this;f=!!(f||false);if(a=Bc(a,d,f))for(d=0;d<a.length;d++)if(a[d].lb==e&&a[d].capture==f&&a[d].ac==g){a=a[d];break a}a=null}if(a){a=a.key;Cc(a);if(this.m)mc(this.m,a);else if(this.xa==a)this.xa=null}}return this};function ue(a){if(a.m){for(var d in a.m){Cc(d);delete a.m[d]}Sb(te,a.m);a.m=null}else a.xa&&Cc(a.xa)}
se.prototype.f=function(){se.a.f.call(this);ue(this)};se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ve(){}ia(ve);ve.prototype.$e=0;function we(a){return":"+(a.$e++).toString(36)}ve.A();function xe(a){this.D=a||Zc();this.Jb=ye}s(xe,Qd);xe.prototype.Ve=ve.A();var ye=null,ze="action";function Ae(a,d){switch(a){case 1:return d?"disable":"enable";case 2:return d?"highlight":"unhighlight";case 4:return d?"activate":"deactivate";case 8:return d?"select":"unselect";case 16:return d?"check":"uncheck";case 32:return d?"focus":"blur";case 64:return d?"open":"close";default:}throw Error("Invalid component state");}l=xe.prototype;l.Oa=null;l.q=false;l.c=null;l.Jb=null;l.Vc=null;l.r=null;
l.C=null;l.ba=null;l.te=false;function Be(a){return a.Oa||(a.Oa=we(a.Ve))}function Ce(a,d){if(a.r&&a.r.ba){mc(a.r.ba,a.Oa);nc(a.r.ba,d,a)}a.Oa=d}l.d=ca("c");function De(a){return a.gb||(a.gb=new se(a))}function Ee(a,d){if(a==d)throw Error("Unable to set parent component");if(d&&a.r&&a.Oa&&Fe(a.r,a.Oa)&&a.r!=d)throw Error("Unable to set parent component");a.r=d;xe.a.cd.call(a,d)}l.cd=function(a){if(this.r&&this.r!=a)throw Error("Method not supported");xe.a.cd.call(this,a)};l.M=ca("D");
l.k=function(){this.c=this.D.createElement("div")};l.Yc=function(a){Ge(this,a)};function Ge(a,d,e){if(a.q)throw Error("Component already rendered");a.c||a.k();d?d.insertBefore(a.c,e||null):a.D.p.body.appendChild(a.c);if(!a.r||a.r.q)a.R()}l.s=function(a){if(this.q)throw Error("Component already rendered");else if(a&&this.aa(a)){this.te=true;if(!this.D||this.D.p!=ad(a))this.D=Zc(a);this.Ia(a);this.R()}else throw Error("Invalid element to decorate");};l.aa=k(true);l.Ia=ba("c");
l.R=function(){this.q=true;He(this,function(a){!a.q&&a.d()&&a.R()})};l.ia=function(){He(this,function(a){a.q&&a.ia()});this.gb&&ue(this.gb);this.q=false};l.f=function(){xe.a.f.call(this);this.q&&this.ia();if(this.gb){this.gb.L();delete this.gb}He(this,function(a){a.L()});!this.te&&this.c&&kd(this.c);this.r=this.Vc=this.c=this.ba=this.C=null};l.tb=function(a,d){this.ub(a,Ie(this),d)};
l.ub=function(a,d,e){if(a.q&&(e||!this.q))throw Error("Component already rendered");if(d<0||d>Ie(this))throw Error("Child component index out of bounds");if(!this.ba||!this.C){this.ba={};this.C=[]}if(a.r==this){this.ba[Be(a)]=a;zb(this.C,a)}else nc(this.ba,Be(a),a);Ee(a,this);Db(this.C,d,0,a);if(a.q&&this.q&&a.r==this){e=this.H();e.insertBefore(a.d(),e.childNodes[d]||null)}else if(e){this.c||this.k();d=Je(this,d+1);Ge(a,this.H(),d?d.c:null)}else this.q&&!a.q&&a.c&&a.R()};l.H=ca("c");
function Ke(a){if(a.Jb==null)a.Jb=Gd(a.q?a.c:a.D.p.body);return a.Jb}l.qb=function(a){if(this.q)throw Error("Component already rendered");this.Jb=a};function Ie(a){return a.C?a.C.length:0}function Fe(a,d){var e;if(a.ba&&d){e=a.ba;e=d in e?e[d]:void 0;e=e||null}else e=null;return e}function Je(a,d){return a.C?a.C[d]||null:null}function He(a,d,e){a.C&&ub(a.C,d,e)}function Le(a,d){return a.C&&d?tb(a.C,d):-1}
l.removeChild=function(a,d){if(a){var e=q(a)?a:Be(a);a=Fe(this,e);if(e&&a){mc(this.ba,e);zb(this.C,a);if(d){a.ia();a.c&&kd(a.c)}Ee(a,null)}}if(!a)throw Error("Child is not in parent component");return a};l.je=function(a){for(;this.C&&this.C.length!=0;)this.removeChild(Je(this,0),a)};function Me(a,d){if(B){a.setAttribute("role",d);a.Df=d}}function Ne(a,d,e){B&&a.setAttribute("aria-"+d,e)};function Oe(){}var Pe;ia(Oe);l=Oe.prototype;l.da=aa();l.k=function(a){return a.M().k("div",this.fb(a).join(" "),a.ma)};l.H=function(a){return a};l.vb=function(a,d,e){if(a=a.d?a.d():a)if(A&&!nb("7")){var f=Qe(this,Sc(a),d);f.push(d);ta(e?Tc:Uc,a).apply(null,f)}else e?Tc(a,d):Uc(a,d)};l.aa=k(true);
l.s=function(a,d){d.id&&Ce(a,d.id);var e=this.H(d);if(e&&e.firstChild)Re(a,e.firstChild.nextSibling?Bb(e.childNodes):e.firstChild);else a.ma=null;var f=0,g=this.h(),h=this.h(),m=false,o=false;e=false;var p=Sc(d);ub(p,function(t){if(!m&&t==g){m=true;if(h==g)o=true}else if(!o&&t==h)o=true;else f|=this.Ec(t)},this);a.n=f;if(!m){p.push(g);if(h==g)o=true}o||p.push(h);var r=a.ca;r&&p.push.apply(p,r);if(A&&!nb("7")){var u=Qe(this,p);if(u.length>0){p.push.apply(p,u);e=true}}if(!m||!o||r||e)d.className=p.join(" ");
return d};l.kb=function(a){Ke(a)&&this.qb(a.d(),true);a.F()&&this.Ba(a,a.i)};l.Mb=function(a,d){Nd(a,!d,!A&&!Ya)};l.qb=function(a,d){this.vb(a,this.h()+"-rtl",d)};l.va=function(a){var d;if(a.N&32&&(d=a.I()))return qd(d);return false};l.Ba=function(a,d){var e;if(a.N&32&&(e=a.I())){if(!d&&a.n&32){try{e.blur()}catch(f){}a.n&32&&a.oa(null)}if(qd(e)!=d){e=e;if(d)e.tabIndex=0;else e.removeAttribute("tabIndex")}}};l.l=function(a,d){Ld(a,d)};
l.Z=function(a,d,e){var f=a.d();if(f){var g=this.wb(d);g&&this.vb(a,g,e);this.rb(f,d,e)}};l.rb=function(a,d,e){if(B){Pe||(Pe=qc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(d=Pe[d])&&Ne(a,d,e)}};l.Xa=function(a,d){var e=this.H(a);if(e){jd(e);if(d)if(q(d))nd(e,d);else{var f=function(g){if(g){var h=ad(e);e.appendChild(q(g)?h.createTextNode(g):g)}};if(ka(d))ub(d,f);else la(d)&&!("nodeType"in d)?ub(Bb(d),f):f(d)}}};l.I=function(a){return a.d()};l.h=k("goog-control");
l.fb=function(a){var d=this.h(),e=[d],f=this.h();f!=d&&e.push(f);d=a.n;for(f=[];d;){var g=d&-d;f.push(this.wb(g));d&=~g}e.push.apply(e,f);(a=a.ca)&&e.push.apply(e,a);A&&!nb("7")&&e.push.apply(e,Qe(this,e));return e};function Qe(a,d,e){var f=[];if(e)d=d.concat([e]);ub([],function(g){if(xb(g,ta(yb,d))&&(!e||yb(g,e)))f.push(g.join("_"))});return f}l.wb=function(a){this.Vb||Se(this);return this.Vb[a]};
l.Ec=function(a){if(!this.oe){this.Vb||Se(this);var d=this.Vb,e={};for(var f in d)e[d[f]]=f;this.oe=e}a=parseInt(this.oe[a],10);return isNaN(a)?0:a};function Se(a){var d=a.h();a.Vb=qc(1,d+"-disabled",2,d+"-hover",4,d+"-active",8,d+"-selected",16,d+"-checked",32,d+"-focused",64,d+"-open")};function Te(a,d){if(!a)throw Error("Invalid class name "+a);if(!na(d))throw Error("Invalid decorator function "+d);Ue[a]=d}var Ve={},Ue={};function We(a,d,e){xe.call(this,e);if(!(d=d)){d=this.constructor;for(var f;d;){f=pa(d);if(f=Ve[f])break;d=d.a?d.a.constructor:null}d=f?na(f.A)?f.A():new f:null}this.e=d;this.ma=a}s(We,xe);l=We.prototype;l.ma=null;l.n=0;l.N=39;l.pd=255;l.gd=0;l.i=true;l.ca=null;l.Ic=true;l.Tb=false;function Xe(a,d){a.q&&d!=a.Ic&&Ye(a,d);a.Ic=d}l.I=function(){return this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Yd)};
l.vb=function(a,d){if(d){if(a){if(this.ca)yb(this.ca,a)||this.ca.push(a);else this.ca=[a];this.e.vb(this,a,true)}}else if(a&&this.ca){zb(this.ca,a);if(this.ca.length==0)this.ca=null;this.e.vb(this,a,false)}};l.k=function(){var a=this.e.k(this);this.c=a;if(B){var d=this.e.da();d&&Me(a,d)}this.Tb||this.e.Mb(a,false);this.i||this.e.l(a,false)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=a=this.e.s(this,a);if(B){var d=this.e.da();d&&Me(a,d)}this.Tb||this.e.Mb(a,false);this.i=a.style.display!="none"};l.R=function(){We.a.R.call(this);this.e.kb(this);if(this.N&-2){this.Ic&&Ye(this,true);if(this.N&32){var a=this.I();if(a){var d=this.Yb();Zd(d,a);De(this).j(d,"key",this.ea).j(a,Lc,this.Ma).j(a,Kc,this.oa)}}}};
function Ye(a,d){var e=De(a),f=a.d();if(d){e.j(f,Gc,a.Kc).j(f,"mousedown",a.Na).j(f,"mouseup",a.Ab).j(f,Hc,a.Jc);A&&e.j(f,"dblclick",a.Ed)}else{e.Q(f,Gc,a.Kc).Q(f,"mousedown",a.Na).Q(f,"mouseup",a.Ab).Q(f,Hc,a.Jc);A&&e.Q(f,"dblclick",a.Ed)}}l.ia=function(){We.a.ia.call(this);this.P&&this.P.detach();this.i&&this.F()&&this.e.Ba(this,false)};l.f=function(){We.a.f.call(this);if(this.P){this.P.L();delete this.P}delete this.e;this.ca=this.ma=null};l.Xa=function(a){this.e.Xa(this.d(),a);this.ma=a};
function Re(a,d){a.ma=d}function Ze(a,d){var e=a.ma;if(!e||q(e))return e;return(e=ka(e)?wb(e,d).join(""):rd(e))&&Aa(e)}l.La=function(){return Ze(this,rd)};l.qb=function(a){We.a.qb.call(this,a);var d=this.d();d&&this.e.qb(d,a)};l.Mb=function(a){this.Tb=a;var d=this.d();d&&this.e.Mb(d,a)};l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){var e=this.d();e&&this.e.l(e,a);this.F()&&this.e.Ba(this,a);this.i=a;return true}return false};l.F=function(){return!!!(this.n&1)};
l.Aa=function(a){var d=this.r;if(!(d&&typeof d.F=="function"&&!d.F())&&$e(this,1,!a)){if(!a){this.setActive(false);this.ja(false)}this.i&&this.e.Ba(this,a);this.Z(1,!a)}};l.ja=function(a){$e(this,2,a)&&this.Z(2,a)};l.Cb=function(){return!!(this.n&4)};l.setActive=function(a){$e(this,4,a)&&this.Z(4,a)};l.ed=function(a){$e(this,8,a)&&this.Z(8,a)};function af(a,d){$e(a,16,d)&&a.Z(16,d)}l.pa=function(){return!!(this.n&64)};l.B=function(a){$e(this,64,a)&&this.Z(64,a)};
l.Z=function(a,d){if(this.N&a&&d!=!!(this.n&a)){this.e.Z(this,a,d);this.n=d?this.n|a:this.n&~a}};function bf(a,d,e){if(a.q&&a.n&d&&!e)throw Error("Component already rendered");!e&&a.n&d&&a.Z(d,false);a.N=e?a.N|d:a.N&~d}function cf(a,d){return!!(a.pd&d)&&!!(a.N&d)}function $e(a,d,e){return!!(a.N&d)&&!!(a.n&d)!=e&&(!(a.gd&d)||a.dispatchEvent(Ae(d,e)))&&!a.yc}l.Kc=function(a){!df(a,this.d())&&this.dispatchEvent("enter")&&this.F()&&cf(this,2)&&this.ja(true)};
l.Jc=function(a){if(!df(a,this.d())&&this.dispatchEvent("leave")){cf(this,4)&&this.setActive(false);cf(this,2)&&this.ja(false)}};function df(a,d){return!!a.relatedTarget&&md(d,a.relatedTarget)}l.Na=function(a){if(this.F()){cf(this,2)&&this.ja(true);if(Nb(a,0)){cf(this,4)&&this.setActive(true);this.e.va(this)&&this.I().focus()}}!this.Tb&&Nb(a,0)&&a.preventDefault()};l.Ab=function(a){if(this.F()){cf(this,2)&&this.ja(true);this.Cb()&&this.Ta(a)&&cf(this,4)&&this.setActive(false)}};
l.Ed=function(a){this.F()&&this.Ta(a)};l.Ta=function(a){cf(this,16)&&af(this,!!!(this.n&16));cf(this,8)&&this.ed(true);cf(this,64)&&this.B(!this.pa());var d=new Kb(ze,this);if(a)for(var e=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],f,g=0;f=e[g];g++)d[f]=a[f];return this.dispatchEvent(d)};l.Ma=function(){cf(this,32)&&$e(this,32,true)&&this.Z(32,true)};l.oa=function(){cf(this,4)&&this.setActive(false);cf(this,32)&&$e(this,32,false)&&this.Z(32,false)};
l.ea=function(a){if(this.i&&this.F()&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};l.ib=function(a){return a.keyCode==13&&this.Ta(a)};if(!na(We))throw Error("Invalid component class "+We);if(!na(Oe))throw Error("Invalid renderer class "+Oe);var ef=pa(We);Ve[ef]=Oe;Te("goog-control",function(){return new We(null)});function ff(){}s(ff,Oe);ia(ff);ff.prototype.k=function(a){return a.M().k("div",this.h())};ff.prototype.s=function(a,d){if(d.tagName=="HR"){var e=d;d=this.k(a);e.parentNode&&e.parentNode.insertBefore(d,e);kd(e)}else Tc(d,this.h());return d};ff.prototype.Xa=aa();ff.prototype.h=k("goog-menuseparator");function gf(a,d){We.call(this,null,a||ff.A(),d);bf(this,1,false);bf(this,2,false);bf(this,4,false);bf(this,32,false);this.n=1}s(gf,We);gf.prototype.R=function(){gf.a.R.call(this);Me(this.d(),"separator")};Te("goog-menuseparator",function(){return new gf});function hf(){}ia(hf);l=hf.prototype;l.da=aa();function jf(a,d,e){if(d)d.tabIndex=e?0:-1}l.k=function(a){return a.M().k("div",this.fb(a).join(" "))};l.H=function(a){return a};l.aa=function(a){return a.tagName=="DIV"};l.s=function(a,d){d.id&&Ce(a,d.id);var e=this.h(),f=false,g=Sc(d);g&&ub(g,function(h){if(h==e)f=true;else if(h)if(h==e+"-disabled")a.Aa(false);else if(h==e+"-horizontal")kf(a,lf);else h==e+"-vertical"&&kf(a,mf)},this);f||Tc(d,e);nf(this,a,this.H(d));return d};
function nf(a,d,e,f){if(e){f=f||e.firstChild;for(var g;f&&f.parentNode==e;){g=f.nextSibling;if(f.nodeType==1){var h=a.xb(f);if(h){h.c=f;d.F()||h.Aa(false);d.tb(h);h.s(f)}}else if(!f.nodeValue||Aa(f.nodeValue)=="")e.removeChild(f);f=g}}}l.xb=function(a){a:{for(var d=Sc(a),e=0,f=d.length;e<f;e++)if(a=d[e]in Ue?Ue[d[e]]():null){a=a;break a}a=null}return a};l.kb=function(a){a=a.d();Nd(a,true,B);if(A)a.hideFocus=true;var d=this.da();d&&Me(a,d)};l.I=function(a){return a.d()};l.h=k("goog-container");
l.fb=function(a){var d=this.h(),e=[d,a.Sa==lf?d+"-horizontal":d+"-vertical"];a.F()||e.push(d+"-disabled");return e};l.Bd=function(){return mf};function of(a,d,e){xe.call(this,e);this.e=d||hf.A();this.Sa=a||this.e.Bd()}s(of,xe);var lf="horizontal",mf="vertical";l=of.prototype;l.Pd=null;l.P=null;l.e=null;l.Sa=null;l.i=true;l.X=true;l.Ac=true;l.$=-1;l.K=null;l.sa=false;l.Ae=false;l.bf=true;l.ta=null;l.I=function(){return this.Pd||this.e.I(this)};l.Yb=function(){return this.P||(this.P=new Yd(this.I()))};l.k=function(){this.c=this.e.k(this)};l.H=function(){return this.e.H(this.d())};l.aa=function(a){return this.e.aa(a)};
l.Ia=function(a){this.c=this.e.s(this,a);if(a.style.display=="none")this.i=false};l.R=function(){of.a.R.call(this);He(this,function(d){d.q&&pf(this,d)},this);var a=this.d();this.e.kb(this);this.l(this.i,true);De(this).j(this,"enter",this.Fc).j(this,"highlight",this.Gc).j(this,"unhighlight",this.Lc).j(this,"open",this.Re).j(this,"close",this.Le).j(a,"mousedown",this.Na).j(ad(a),"mouseup",this.Ne).j(a,["mousedown","mouseup",Gc,Hc],this.Ke);this.va()&&qf(this,true)};
function qf(a,d){var e=De(a),f=a.I();d?e.j(f,Lc,a.Ma).j(f,Kc,a.oa).j(a.Yb(),"key",a.ea):e.Q(f,Lc,a.Ma).Q(f,Kc,a.oa).Q(a.Yb(),"key",a.ea)}l.ia=function(){rf(this,-1);this.K&&this.K.B(false);this.sa=false;of.a.ia.call(this)};l.f=function(){of.a.f.call(this);if(this.P){this.P.L();this.P=null}this.e=this.K=this.ta=null};l.Fc=k(true);
l.Gc=function(a){var d=Le(this,a.target);if(d>-1&&d!=this.$){var e=sf(this);e&&e.ja(false);this.$=d;e=sf(this);this.sa&&e.setActive(true);if(this.bf&&this.K&&e!=this.K)e.N&64?e.B(true):this.K.B(false)}Ne(this.d(),"activedescendant",a.target.d().id)};l.Lc=function(a){if(a.target==sf(this))this.$=-1;Ne(this.d(),"activedescendant","")};l.Re=function(a){if((a=a.target)&&a!=this.K&&a.r==this){this.K&&this.K.B(false);this.K=a}};l.Le=function(a){if(a.target==this.K)this.K=null};
l.Na=function(a){if(this.X)this.sa=true;var d=this.I();d&&qd(d)?d.focus():a.preventDefault()};l.Ne=function(){this.sa=false};l.Ke=function(a){var d;a:{d=a.target;if(this.ta)for(var e=this.d();d&&d!==e;){var f=d.id;if(f in this.ta){d=this.ta[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case "mousedown":d.Na(a);break;case "mouseup":d.Ab(a);break;case Gc:d.Kc(a);break;case Hc:d.Jc(a);break}};l.Ma=aa();l.oa=function(){rf(this,-1);this.sa=false;this.K&&this.K.B(false)};
l.ea=function(a){if(this.F()&&this.i&&(Ie(this)!=0||this.Pd)&&this.ib(a)){a.preventDefault();a.stopPropagation();return true}return false};
l.ib=function(a){var d=sf(this);if(d&&typeof d.ea=="function"&&d.ea(a))return true;if(this.K&&this.K!=d&&typeof this.K.ea=="function"&&this.K.ea(a))return true;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return false;switch(a.keyCode){case 27:if(this.va())this.I().blur();else return false;break;case 36:tf(this);break;case 35:uf(this);break;case 38:if(this.Sa==mf)vf(this);else return false;break;case 37:if(this.Sa==lf)Ke(this)?wf(this):vf(this);else return false;break;case 40:if(this.Sa==mf)wf(this);
else return false;break;case 39:if(this.Sa==lf)Ke(this)?vf(this):wf(this);else return false;break;default:return false}return true};function pf(a,d){var e=d.d();e=e.id||(e.id=Be(d));if(!a.ta)a.ta={};a.ta[e]=d}l.tb=function(a,d){of.a.tb.call(this,a,d)};l.ub=function(a,d,e){a.gd|=2;a.gd|=64;if(this.va()||!this.Ae)bf(a,32,false);Xe(a,false);of.a.ub.call(this,a,d,e);e&&this.q&&pf(this,a);d<=this.$&&this.$++};
l.removeChild=function(a,d){if(a=q(a)?Fe(this,a):a){var e=Le(this,a);if(e!=-1)if(e==this.$)a.ja(false);else e<this.$&&this.$--;(e=a.d())&&e.id&&mc(this.ta,e.id)}a=of.a.removeChild.call(this,a,d);Xe(a,true);return a};function kf(a,d){if(a.d())throw Error("Component already rendered");a.Sa=d}l.l=function(a,d){if(d||this.i!=a&&this.dispatchEvent(a?"show":"hide")){this.i=a;var e=this.d();if(e){Ld(e,a);this.va()&&jf(this.e,this.I(),this.X&&this.i);d||this.dispatchEvent(this.i?"aftershow":"afterhide")}return true}return false};
l.F=ca("X");l.Aa=function(a){if(this.X!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.X=true;He(this,function(d){if(d.ue)delete d.ue;else d.Aa(true)})}else{He(this,function(d){if(d.F())d.Aa(false);else d.ue=true});this.sa=this.X=false}this.va()&&jf(this.e,this.I(),a&&this.i)}};l.va=ca("Ac");l.Ba=function(a){a!=this.Ac&&this.q&&qf(this,a);this.Ac=a;this.X&&this.i&&jf(this.e,this.I(),a)};function rf(a,d){var e=Je(a,d);if(e)e.ja(true);else a.$>-1&&sf(a).ja(false)}
l.ja=function(a){rf(this,Le(this,a))};function sf(a){return Je(a,a.$)}function tf(a){xf(a,function(d,e){return(d+1)%e},Ie(a)-1)}function uf(a){xf(a,function(d,e){d--;return d<0?e-1:d},0)}function wf(a){xf(a,function(d,e){return(d+1)%e},a.$)}function vf(a){xf(a,function(d,e){d--;return d<0?e-1:d},a.$)}function xf(a,d,e){e=e<0?Le(a,a.K):e;var f=Ie(a);e=d.call(a,e,f);for(var g=0;g<=f;){var h=Je(a,e);if(h&&a.sd(h)){rf(a,e);return true}g++;e=d.call(a,e,f)}return false}
l.sd=function(a){return a.i&&a.F()&&!!(a.N&2)};function yf(){this.ud=[]}s(yf,Oe);ia(yf);function zf(a,d){var e=a.ud[d];if(!e){switch(d){case 0:e=a.h()+"-highlight";break;case 1:e=a.h()+"-checkbox";break;case 2:e=a.h()+"-content";break}a.ud[d]=e}return e}l=yf.prototype;l.da=k("menuitem");l.k=function(a){var d=a.M().k("div",this.fb(a).join(" "),Af(this,a.ma,a.M()));Bf(this,a,d,!!(a.N&8)||!!(a.N&16));return d};l.H=function(a){return a&&a.firstChild};
l.s=function(a,d){var e=ld(d),f=zf(this,2);e&&e.className.indexOf(f)!=-1||d.appendChild(Af(this,d.childNodes,a.M()));if(yb(Sc(d),"goog-option")){a.lc(true);this.lc(a,d,true)}return yf.a.s.call(this,a,d)};l.Xa=function(a,d){var e=this.H(a),f=Cf(this,a)?e.firstChild:null;yf.a.Xa.call(this,a,d);if(f&&!Cf(this,a))e.insertBefore(f,e.firstChild||null)};function Af(a,d,e){a=zf(a,2);return e.k("div",a,d)}l.dd=function(a,d,e){if(d){Me(d,e?"menuitemradio":this.da());Bf(this,a,d,e)}};
l.lc=function(a,d,e){if(d){Me(d,e?"menuitemcheckbox":this.da());Bf(this,a,d,e)}};function Cf(a,d){var e=a.H(d);if(e){e=e.firstChild;var f=zf(a,1);return!!e&&!!e.className&&e.className.indexOf(f)!=-1}return false}function Bf(a,d,e,f){if(f!=Cf(a,e)){f?Tc(e,"goog-option"):Uc(e,"goog-option");e=a.H(e);if(f){a=zf(a,1);e.insertBefore(d.M().k("div",a),e.firstChild||null)}else e.removeChild(e.firstChild)}}
l.wb=function(a){switch(a){case 2:return zf(this,0);case 16:case 8:return"goog-option-selected";default:return yf.a.wb.call(this,a)}};l.Ec=function(a){var d=zf(this,0);switch(a){case "goog-option-selected":return 16;case d:return 2;default:return yf.a.Ec.call(this,a)}};l.h=k("goog-menuitem");function Df(a,d,e,f){We.call(this,a,f||yf.A(),e);this.ka(d)}s(Df,We);l=Df.prototype;l.O=function(){var a=this.Vc;return a!=null?a:this.La()};l.ka=ba("Vc");l.dd=function(a){bf(this,8,a);this.n&16&&!a&&af(this,false);var d=this.d();d&&this.e.dd(this,d,a)};l.lc=function(a){bf(this,16,a);var d=this.d();d&&this.e.lc(this,d,a)};l.La=function(){return Ze(this,function(a){return yb(Sc(a),"goog-menuitem-accel")?"":rd(a)})};Te("goog-menuitem",function(){return new Df(null)});function Ef(){}s(Ef,hf);ia(Ef);l=Ef.prototype;l.da=k("menu");l.aa=function(a){return a.tagName=="UL"||Ef.a.aa.call(this,a)};l.xb=function(a){return a.tagName=="HR"?new gf:Ef.a.xb.call(this,a)};l.Ga=function(a,d){return md(a.d(),d)};l.h=k("goog-menu");l.kb=function(a){Ef.a.kb.call(this,a);a=a.d();Ne(a,"haspopup","true")};Te("goog-menuseparator",function(){return new gf});function Ff(a,d){of.call(this,mf,d||Ef.A(),a);this.Ba(false)}s(Ff,of);l=Ff.prototype;l.vc=true;l.Be=false;l.h=function(){return this.e.h()};l.Ga=function(a){if(this.e.Ga(this,a))return true;for(var d=0,e=Ie(this);d<e;d++){var f=Je(this,d);if(typeof f.Ga=="function"&&f.Ga(a))return true}return false};l.Ea=function(a){this.tb(a,true)};l.bb=function(a,d){this.ub(a,d,true)};l.yb=function(a){return Je(this,a)};l.Bc=function(){return Ie(this)};
function Gf(a,d,e){var f=a.i;f||Ld(a.d(),true);Hd(a.d(),d,e);f||Ld(a.d(),false)}function Hf(a,d){(a.vc=d)&&a.Ba(true)}l.l=function(a,d){var e=Ff.a.l.call(this,a,d);e&&a&&this.q&&this.vc&&this.I().focus();return e};l.Fc=function(a){this.vc&&this.I().focus();return Ff.a.Fc.call(this,a)};l.sd=function(a){return(this.Be||a.F())&&a.i&&!!(a.N&2)};l.Ia=function(a){var d=this.e,e;e=this.M();e=bd(e.p,"div",d.h()+"-content",a);for(var f,g=0;f=e[g];g++)nf(d,this,f);Ff.a.Ia.call(this,a)};function If(a){if(typeof a.$b=="function")return a.$b();if(q(a))return a.split("");if(la(a)){for(var d=[],e=a.length,f=0;f<e;f++)d.push(a[f]);return d}return jc(a)}function Jf(a,d,e){if(typeof a.forEach=="function")a.forEach(d,e);else if(la(a)||q(a))ub(a,d,e);else{var f;if(typeof a.Cc=="function")f=a.Cc();else if(typeof a.$b!="function")if(la(a)||q(a)){f=[];for(var g=a.length,h=0;h<g;h++)f.push(h);f=f}else f=kc(a);else f=void 0;g=If(a);h=g.length;for(var m=0;m<h;m++)d.call(e,g[m],f&&f[m],a)}};var Kf="StopIteration"in n?n.StopIteration:Error("StopIteration");function Lf(){}Lf.prototype.next=function(){throw Kf;};Lf.prototype.uc=function(){return this};function Mf(a){if(a instanceof Lf)return a;if(typeof a.uc=="function")return a.uc(false);if(la(a)){var d=0,e=new Lf;e.next=function(){for(;;){if(d>=a.length)throw Kf;if(d in a)return a[d++];else d++}};return e}throw Error("Not implemented");}
function Nf(a,d,e){if(la(a))try{ub(a,d,e)}catch(f){if(f!==Kf)throw f;}else{a=Mf(a);try{for(;;)d.call(e,a.next(),undefined,a)}catch(g){if(g!==Kf)throw g;}}}function Of(a,d,e){a=Mf(a);try{for(;;)if(d.call(e,a.next(),undefined,a))return true}catch(f){if(f!==Kf)throw f;}return false};function Pf(a){this.Ra={};this.m=[];var d=arguments.length;if(d>1){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.pb(arguments[e],arguments[e+1])}else if(a){if(a instanceof Pf){d=a.Cc();e=a.$b()}else{d=kc(a);e=jc(a)}for(var f=0;f<d.length;f++)this.pb(d[f],e[f])}}l=Pf.prototype;l.S=0;l.qc=0;l.$b=function(){Qf(this);for(var a=[],d=0;d<this.m.length;d++)a.push(this.Ra[this.m[d]]);return a};l.Cc=function(){Qf(this);return this.m.concat()};
l.clear=function(){this.Ra={};this.qc=this.S=this.m.length=0};function Qf(a){if(a.S!=a.m.length){for(var d=0,e=0;d<a.m.length;){var f=a.m[d];if(Object.prototype.hasOwnProperty.call(a.Ra,f))a.m[e++]=f;d++}a.m.length=e}if(a.S!=a.m.length){var g={};for(e=d=0;d<a.m.length;){f=a.m[d];if(!Object.prototype.hasOwnProperty.call(g,f)){a.m[e++]=f;g[f]=1}d++}a.m.length=e}}l.pb=function(a,d){if(!Object.prototype.hasOwnProperty.call(this.Ra,a)){this.S++;this.m.push(a);this.qc++}this.Ra[a]=d};l.Fa=function(){return new Pf(this)};
l.uc=function(a){Qf(this);var d=0,e=this.m,f=this.Ra,g=this.qc,h=this,m=new Lf;m.next=function(){for(;;){if(g!=h.qc)throw Error("The map has changed since the iterator was created");if(d>=e.length)throw Kf;var o=e[d++];return a?o:f[o]}};return m};function Rf(a){return Sf(a||arguments.callee.caller,[])}
function Sf(a,d){var e=[];if(yb(d,a))e.push("[...circular reference...]");else if(a&&d.length<50){e.push(Tf(a)+"(");for(var f=a.arguments,g=0;g<f.length;g++){g>0&&e.push(", ");var h;h=f[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":h=h;break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Tf(h))?h:"[fn]";break;case "undefined":default:h=typeof h;break}if(h.length>40)h=h.substr(0,40)+"...";e.push(h)}d.push(a);e.push(")\n");try{e.push(Sf(a.caller,
d))}catch(m){e.push("[exception trying to get caller]\n")}}else a?e.push("[...long stack...]"):e.push("[end]");return e.join("")}function Tf(a){a=String(a);if(!Uf[a]){var d=/function ([^\(]+)/.exec(a);Uf[a]=d?d[1]:"[Anonymous]"}return Uf[a]}var Uf={};function Vf(a,d,e,f,g){this.reset(a,d,e,f,g)}Vf.prototype.nf=0;Vf.prototype.zd=null;Vf.prototype.yd=null;var Wf=0;Vf.prototype.reset=function(a,d,e,f,g){this.nf=typeof g=="number"?g:Wf++;this.Ff=f||ua();this.Fb=a;this.Cf=d;this.Af=e;delete this.zd;delete this.yd};Vf.prototype.le=ba("Fb");function Xf(a){this.hc=a}Xf.prototype.r=null;Xf.prototype.Fb=null;Xf.prototype.C=null;Xf.prototype.Md=null;function Yf(a,d){this.name=a;this.value=d}Yf.prototype.toString=ca("name");var Zf=new Yf("SEVERE",1E3),$f=new Yf("WARNING",900),ag=new Yf("CONFIG",700),bg=new Yf("FINE",500),cg=new Yf("FINEST",300);Xf.prototype.getName=ca("hc");Xf.prototype.le=ba("Fb");function dg(a){if(a.Fb)return a.Fb;if(a.r)return dg(a.r);rb("Root logger has no level set.");return null}
Xf.prototype.log=function(a,d,e){if(a.value>=dg(this).value){a=this.Ie(a,d,e);for(d=this;d;){e=d;var f=a;if(e.Md)for(var g=0,h=void 0;h=e.Md[g];g++)h(f);d=d.r}}};
Xf.prototype.Ie=function(a,d,e){var f=new Vf(a,String(d),this.hc);if(e){f.zd=e;var g;var h=arguments.callee.caller;try{var m,o=fa("window.location.href");m=typeof e=="string"?{message:e,name:"Unknown error",lineNumber:"Not available",fileName:o,stack:"Not available"}:!e.lineNumber||!e.fileName||!e.stack?{message:e.message,name:e.name,lineNumber:e.lineNumber||e.zf||"Not available",fileName:e.fileName||e.filename||e.sourceURL||o,stack:e.stack||"Not available"}:e;g="Message: "+Ba(m.message)+'\nUrl: <a href="view-source:'+
m.fileName+'" target="_new">'+m.fileName+"</a>\nLine: "+m.lineNumber+"\n\nBrowser stack:\n"+Ba(m.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(Rf(h)+"-> ")}catch(p){g="Exception trying to expose exception! You win, we lose. "+p}f.yd=g}return f};function eg(a,d,e){a.log(bg,d,e)}var fg={},gg=null;
function hg(a){if(!gg){gg=new Xf("");fg[""]=gg;gg.le(ag)}var d;if(!(d=fg[a])){d=new Xf(a);var e=a.lastIndexOf("."),f=a.substr(0,e);e=a.substr(e+1);f=hg(f);if(!f.C)f.C={};f.C[e]=d;d.r=f;d=fg[a]=d}return d};function ig(){}ig.prototype.Ub=null;function jg(){return kg(ng)}var ng;function og(){}s(og,ig);function kg(a){return(a=pg(a))?new ActiveXObject(a):new XMLHttpRequest}function qg(a){var d={};if(pg(a)){d[0]=true;d[1]=true}return d}og.prototype.Nc=null;
function pg(a){if(!a.Nc&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<d.length;e++){var f=d[e];try{new ActiveXObject(f);return a.Nc=f}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Nc}ng=new og;function rg(){if(B){this.Ha={};this.tc={};this.nc=[]}}rg.prototype.J=hg("goog.net.xhrMonitor");rg.prototype.X=B;rg.prototype.Aa=function(a){this.X=B&&a};function sg(a,d){if(a.X){var e=q(d)?d:oa(d)?pa(d):"";a.J.log(cg,"Pushing context: "+d+" ("+e+")",void 0);a.nc.push(e)}}function tg(a){if(a.X){var d=a.nc.pop();a.J.log(cg,"Popping context: "+d,void 0);ug(a,d)}}
function vg(a,d){if(a.X){var e=pa(d);eg(a.J,"Opening XHR : "+e);for(var f=0;f<a.nc.length;f++){var g=a.nc[f];wg(a,a.Ha,g,e);wg(a,a.tc,e,g)}}}function ug(a,d){var e=a.tc[d],f=a.Ha[d];if(e&&f){a.J.log(cg,"Updating dependent contexts",void 0);ub(e,function(g){ub(f,function(h){wg(this,this.Ha,g,h);wg(this,this.tc,h,g)},this)},a)}}function wg(a,d,e,f){d[e]||(d[e]=[]);yb(d[e],f)||d[e].push(f)}var xg=new rg;function yg(a){this.headers=new Pf;this.sb=a||null}s(yg,Qd);yg.prototype.J=hg("goog.net.XhrIo");var zg=[];function Ag(a,d,e,f,g,h){var m=new yg;zg.push(m);d&&C(m,"complete",d);C(m,"ready",ta(Bg,m));if(h)m.Qb=Math.max(0,h);m.send(a,e,f,g)}function Bg(a){a.L();zb(zg,a)}l=yg.prototype;l.Da=false;l.o=null;l.sc=null;l.Sd="";l.Rd="";l.Db=0;l.Eb="";l.zc=false;l.cc=false;l.Oc=false;l.Pa=false;l.Qb=0;l.$a=null;
l.send=function(a,d,e,f){if(this.o)throw Error("[goog.net.XhrIo] Object is active with another request");d=d||"GET";this.Sd=a;this.Eb="";this.Db=0;this.Rd=d;this.zc=false;this.Da=true;this.o=this.sb?kg(this.sb):new jg;this.sc=this.sb?this.sb.Ub||(this.sb.Ub=qg(this.sb)):ng.Ub||(ng.Ub=qg(ng));vg(xg,this.o);this.o.onreadystatechange=sa(this.ge,this);try{eg(this.J,Cg(this,"Opening Xhr"));this.Oc=true;this.o.open(d,a,true);this.Oc=false}catch(g){eg(this.J,Cg(this,"Error opening Xhr: "+g.message));Dg(this,
5,g);return}a=e||"";var h=this.headers.Fa();f&&Jf(f,function(o,p){h.pb(p,o)});d=="POST"&&!Object.prototype.hasOwnProperty.call(h.Ra,"Content-Type")&&h.pb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Jf(h,function(o,p){this.o.setRequestHeader(p,o)},this);try{if(this.$a){fe.clearTimeout(this.$a);this.$a=null}if(this.Qb>0){eg(this.J,Cg(this,"Will abort after "+this.Qb+"ms if incomplete"));this.$a=fe.setTimeout(sa(this.qf,this),this.Qb)}eg(this.J,Cg(this,"Sending request"));this.cc=
true;this.o.send(a);this.cc=false}catch(m){eg(this.J,Cg(this,"Send error: "+m.message));Dg(this,5,m)}};l.dispatchEvent=function(a){if(this.o){sg(xg,this.o);try{return yg.a.dispatchEvent.call(this,a)}finally{tg(xg)}}else return yg.a.dispatchEvent.call(this,a)};l.qf=function(){if(typeof da!="undefined")if(this.o){this.Eb="Timed out after "+this.Qb+"ms, aborting";this.Db=8;eg(this.J,Cg(this,this.Eb));this.dispatchEvent("timeout");this.abort(8)}};
function Dg(a,d,e){a.Da=false;if(a.o){a.Pa=true;a.o.abort();a.Pa=false}a.Eb=e;a.Db=d;Eg(a);Fg(a)}function Eg(a){if(!a.zc){a.zc=true;a.dispatchEvent("complete");a.dispatchEvent("error")}}l.abort=function(a){if(this.o){eg(this.J,Cg(this,"Aborting"));this.Da=false;this.Pa=true;this.o.abort();this.Pa=false;this.Db=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");Fg(this)}};l.f=function(){if(this.o){if(this.Da){this.Da=false;this.Pa=true;this.o.abort();this.Pa=false}Fg(this,true)}yg.a.f.call(this)};
l.ge=function(){!this.Oc&&!this.cc&&!this.Pa?this.Xc():Gg(this)};l.Xc=function(){Gg(this)};
function Gg(a){if(a.Da)if(typeof da!="undefined")if(a.sc[1]&&Hg(a)==4&&Ig(a)==2)eg(a.J,Cg(a,"Local request error detected and ignored"));else if(a.cc&&Hg(a)==4)fe.setTimeout(sa(a.ge,a),0);else{a.dispatchEvent("readystatechange");if(Hg(a)==4){eg(a.J,Cg(a,"Request complete"));a.Da=false;var d;a:switch(Ig(a)){case 0:case 200:case 204:case 304:d=true;break a;default:d=false;break a}if(d){a.dispatchEvent("complete");a.dispatchEvent("success")}else{a.Db=6;var e;try{e=Hg(a)>2?a.o.statusText:""}catch(f){eg(a.J,
"Can not get status: "+f.message);e=""}a.Eb=e+" ["+Ig(a)+"]";Eg(a)}Fg(a)}}}function Fg(a,d){if(a.o){var e=a.o,f=a.sc[0]?ha:null;a.o=null;a.sc=null;if(a.$a){fe.clearTimeout(a.$a);a.$a=null}if(!d){sg(xg,e);a.dispatchEvent("ready");tg(xg)}if(xg.X){var g=pa(e);eg(xg.J,"Closing XHR : "+g);delete xg.tc[g];for(var h in xg.Ha){zb(xg.Ha[h],g);xg.Ha[h].length==0&&delete xg.Ha[h]}}try{e.onreadystatechange=f}catch(m){a.J.log(Zf,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}l.Cb=function(){return!!this.o};
function Hg(a){return a.o?a.o.readyState:0}function Ig(a){try{return Hg(a)>2?a.o.status:-1}catch(d){a.J.log($f,"Can not get status: "+d.message,void 0);return-1}}function Jg(a){try{return a.o?a.o.responseText:""}catch(d){eg(a.J,"Can not get responseText: "+d.message);return""}}
function Kg(a,d){if(a.o){var e=a.o.responseText;if(d&&e.indexOf(d)==0)e=e.substring(d.length);var f;a:{e=String(e);if(/^\s*$/.test(e)?false:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{f=eval("("+e+")");break a}catch(g){}throw Error("Invalid JSON string: "+e);}return f}}
function Cg(a,d){return d+" ["+a.Rd+" "+a.Sd+" "+Ig(a)+"]"}Fb[Fb.length]=function(a){yg.prototype.Xc=a(yg.prototype.Xc)};function Lg(){}s(Lg,ff);ia(Lg);Lg.prototype.k=function(a){return a.M().k("div",this.h()+" goog-inline-block","\u00a0")};Lg.prototype.s=function(a,d){d=Lg.a.s.call(this,a,d);Tc(d,"goog-inline-block");return d};Lg.prototype.h=k("goog-toolbar-separator");function Mg(){}s(Mg,hf);ia(Mg);Mg.prototype.da=k("toolbar");Mg.prototype.xb=function(a){return a.tagName=="HR"?new gf(Lg.A()):Mg.a.xb.call(this,a)};Mg.prototype.h=k("goog-toolbar");Mg.prototype.Bd=function(){return lf};function Ng(a,d,e){of.call(this,d,a||Mg.A(),e)}s(Ng,of);function Og(){}s(Og,Oe);ia(Og);l=Og.prototype;l.da=k("button");l.rb=function(a,d,e){if(B)d==16?Ne(a,"pressed",e):Og.a.rb.call(this,a,d,e)};l.k=function(a){var d=Og.a.k.call(this,a),e=a.zb();e&&this.fd(d,e);(e=a.O())&&this.ka(d,e);a.N&16&&this.rb(d,16,false);return d};l.s=function(a,d){d=Og.a.s.call(this,a,d);var e=this.O(d);a.jd=e;a.hd=this.zb(d);a.N&16&&this.rb(d,16,false);return d};l.O=ha;l.ka=ha;l.zb=function(a){return a.title};l.fd=function(a,d){if(a)a.title=d||""};l.h=k("goog-button");function Pg(){}s(Pg,Og);ia(Pg);l=Pg.prototype;l.da=aa();l.k=function(a){Qg(this,a);return a.M().k("button",{"class":this.fb(a).join(" "),disabled:!a.F(),title:a.zb()||"",value:a.O()||""},a.La()||"")};l.aa=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};l.s=function(a,d){Qg(this,a);d.disabled&&Tc(d,this.wb(1));return Pg.a.s.call(this,a,d)};l.kb=function(a){De(a).j(a.d(),Fc,a.Ta)};l.Mb=ha;l.qb=ha;l.va=function(a){return a.F()};
l.Ba=ha;l.Z=function(a,d,e){Pg.a.Z.call(this,a,d,e);if((a=a.d())&&d==1)a.disabled=e};l.O=function(a){return a.value};l.ka=function(a,d){if(a)a.value=d};l.rb=ha;function Qg(a,d){Xe(d,false);d.pd&=-256;bf(d,32,false)};function Rg(a,d,e){We.call(this,a,d||Pg.A(),e)}s(Rg,We);l=Rg.prototype;l.O=ca("jd");l.ka=function(a){this.jd=a;this.e.ka(this.d(),a)};l.zb=ca("hd");l.fd=function(a){this.hd=a;this.e.fd(this.d(),a)};l.f=function(){Rg.a.f.call(this);delete this.jd;delete this.hd};l.R=function(){Rg.a.R.call(this);if(this.N&32){var a=this.I();a&&De(this).j(a,Jc,this.ib)}};l.ib=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type==Jc)return this.Ta(a);return a.keyCode==32};Te("goog-button",function(){return new Rg(null)});function Sg(){}s(Sg,Og);ia(Sg);l=Sg.prototype;l.k=function(a){var d={"class":"goog-inline-block "+this.fb(a).join(" "),title:a.zb()||""};return a.M().k("div",d,this.Wb(a.ma,a.M()))};l.H=function(a){return a&&a.firstChild.firstChild};l.Wb=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-outer-box"),d.k("div","goog-inline-block "+(this.h()+"-inner-box"),a))};l.aa=function(a){return a.tagName=="DIV"};
l.s=function(a,d){Tg(d,true);Tg(d,false);var e;a:{if((e=a.M().Cd(d))&&e.className.indexOf(this.h()+"-outer-box")!=-1)if((e=a.M().Cd(e))&&e.className.indexOf(this.h()+"-inner-box")!=-1){e=true;break a}e=false}e||d.appendChild(this.Wb(d.childNodes,a.M()));Tc(d,"goog-inline-block",this.h());return Sg.a.s.call(this,a,d)};l.h=k("goog-custom-button");
function Tg(a,d){if(a)for(var e=d?a.firstChild:a.lastChild,f;e&&e.parentNode==a;){f=d?e.nextSibling:e.previousSibling;if(e.nodeType==3){var g=e.nodeValue;if(Aa(g)=="")a.removeChild(e);else{e.nodeValue=d?g.replace(/^[\s\xa0]+/,""):g.replace(/[\s\xa0]+$/,"");break}}else break;e=f}};function Ug(){}s(Ug,Sg);ia(Ug);Ug.prototype.h=k("goog-toolbar-button");function Vg(a,d,e){Rg.call(this,a,d||Ug.A(),e)}s(Vg,Rg);Te("goog-toolbar-button",function(){return new Vg(null)});function Wg(a,d,e,f,g,h,m,o){var p,r=e.offsetParent;if(r){var u=r.tagName=="HTML"||r.tagName=="BODY";if(!u||yd(r,"position")!="static"){p=Fd(r);u||(p=Wc(p,new Vc(r.scrollLeft,r.scrollTop)))}}r=Kd(a);if(u=Ed(a)){var t=new wd(u.left,u.top,u.right-u.left,u.bottom-u.top);u=Math.max(r.left,t.left);var z=Math.min(r.left+r.width,t.left+t.width);if(u<=z){var F=Math.max(r.top,t.top);t=Math.min(r.top+r.height,t.top+t.height);if(F<=t){r.left=u;r.top=F;r.width=z-u;r.height=t-F}}}u=Zc(a);F=Zc(e);if(u.p!=F.p){z=
u.p.body;F=F.p.parentWindow||F.p.defaultView;t=new Vc(0,0);var H=ad(z)?ad(z).parentWindow||ad(z).defaultView:window,V=z;do{var M;if(H==F)M=Fd(V);else{var ea=V;M=new Vc;if(ea.nodeType==1)if(ea.getBoundingClientRect){var O=Cd(ea);M.x=O.left;M.y=O.top}else{O=ud(Zc(ea));ea=Fd(ea);M.x=ea.x-O.x;M.y=ea.y-O.y}else{M.x=ea.clientX;M.y=ea.clientY}M=M}M=M;t.x+=M.x;t.y+=M.y}while(H&&H!=F&&(V=H.frameElement)&&(H=H.parent));F=t;F=Wc(F,Fd(z));if(A&&!cd(u.p))F=Wc(F,ud(u));r.left+=F.x;r.top+=F.y}a=(d&4&&Gd(a)?d^2:
d)&-5;d=new Vc(a&2?r.left+r.width:r.left,a&1?r.top+r.height:r.top);if(p)d=Wc(d,p);if(g){d.x+=(a&2?-1:1)*g.x;d.y+=(a&1?-1:1)*g.y}var S;if(m)if((S=Ed(e))&&p){S.top=Math.max(0,S.top-p.y);S.right-=p.x;S.bottom-=p.y;S.left=Math.max(0,S.left-p.x)}a:{g=d;S=S;g=g.Fa();p=0;a=(f&4&&Gd(e)?f^2:f)&-5;f=Jd(e);o=o?o.Fa():f;if(h||a!=0){if(a&2)g.x-=o.width+(h?h.right:0);else if(h)g.x+=h.left;if(a&1)g.y-=o.height+(h?h.bottom:0);else if(h)g.y+=h.top}if(m){if(S){h=g;p=0;if(h.x<S.left&&m&1){h.x=S.left;p|=1}if(h.x<S.left&&
h.x+o.width>S.right&&m&16){o.width-=h.x+o.width-S.right;p|=4}if(h.x+o.width>S.right&&m&1){h.x=Math.max(S.right-o.width,S.left);p|=1}if(m&2)p|=(h.x<S.left?16:0)|(h.x+o.width>S.right?32:0);if(h.y<S.top&&m&4){h.y=S.top;p|=2}if(h.y>=S.top&&h.y+o.height>S.bottom&&m&32){o.height-=h.y+o.height-S.bottom;p|=8}if(h.y+o.height>S.bottom&&m&4){h.y=Math.max(S.bottom-o.height,S.top);p|=2}if(m&8)p|=(h.y<S.top?64:0)|(h.y+o.height>S.bottom?128:0);m=p}else m=256;p=m;if(p&496){e=p;break a}}zd(e,g);Yc(f,o)||Id(e,o);e=
p}return e};function Xg(){}Xg.prototype.Va=aa();function Yg(a,d){this.element=a;this.db=d}s(Yg,Xg);Yg.prototype.Va=function(a,d,e){Wg(this.element,this.db,a,d,undefined,e)};function Zg(a,d,e){Yg.call(this,a,d);this.ye=e}s(Zg,Yg);Zg.prototype.Va=function(a,d,e,f){var g=Wg(this.element,this.db,a,d,null,e,10,f);if(g&496){var h=this.db,m=d;if(g&48){h^=2;m^=2}if(g&192){h^=1;m^=1}g=Wg(this.element,h,a,m,null,e,10,f);if(g&496)this.ye?Wg(this.element,this.db,a,d,null,e,5,f):Wg(this.element,this.db,a,d,null,e,0,f)}};function $g(a,d,e,f){Zg.call(this,a,d,e);this.hf=f}s($g,Zg);$g.prototype.Va=function(a,d,e,f){this.hf?Wg(this.element,this.db,a,d,null,e,33,f):$g.a.Va.call(this,a,d,e,f)};function ah(){}s(ah,Sg);ia(ah);if(B)ah.prototype.Xa=function(a,d){var e=ah.a.H.call(this,a&&a.firstChild);if(e){var f=this.createCaption(d,Zc(a)),g=e.parentNode;g&&g.replaceChild(f,e)}};l=ah.prototype;l.H=function(a){a=ah.a.H.call(this,a&&a.firstChild);if(B&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};l.s=function(a,d){var e=bd(document,"*","goog-menu",d)[0];if(e){Ld(e,false);ad(e).body.appendChild(e);var f=new Ff;f.s(e);a.Nb(f)}return ah.a.s.call(this,a,d)};
l.Wb=function(a,d){return ah.a.Wb.call(this,[this.createCaption(a,d),d.k("div","goog-inline-block "+(this.h()+"-dropdown"),"\u00a0")],d)};l.createCaption=function(a,d){return d.k("div","goog-inline-block "+(this.h()+"-caption"),a)};l.h=k("goog-menu-button");function bh(a,d,e,f){Rg.call(this,a,e||ah.A(),f);bf(this,64,true);d&&this.Nb(d);this.u=new ee(500)}s(bh,Rg);l=bh.prototype;l.md=true;l.bd=false;l.Pc=false;l.R=function(){bh.a.R.call(this);this.g&&ch(this,this.g,true);Ne(this.d(),"haspopup","true")};l.ia=function(){bh.a.ia.call(this);if(this.g){this.B(false);this.g.ia();ch(this,this.g,false);var a=this.g.d();a&&kd(a)}};l.f=function(){bh.a.f.call(this);if(this.g){this.g.L();delete this.g}delete this.cf;this.u.L()};
l.Na=function(a){bh.a.Na.call(this,a);if(this.Cb()){this.B(!this.pa());if(this.g)this.g.sa=this.pa()}};l.Ab=function(a){bh.a.Ab.call(this,a);if(this.g&&!this.Cb())this.g.sa=false};l.Ta=function(){this.setActive(false);return true};l.Me=function(a){this.g&&this.g.i&&!this.Ga(a.target)&&this.B(false)};l.Ga=function(a){return a&&md(this.d(),a)||this.g&&this.g.Ga(a)||false};
l.ib=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!=Jc)return false}else if(a.type!="key")return false;if(this.g&&this.g.i){var d=this.g.ea(a);if(a.keyCode==27){this.B(false);return true}return d}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.B(true);return true}return false};l.Hc=function(){this.B(false)};l.Qe=function(){this.Cb()||this.B(false)};l.oa=function(a){this.Pc||this.B(false);bh.a.oa.call(this,a)};function dh(a){a.g||a.Nb(new Ff(a.M()));return a.g||null}
l.Nb=function(a){var d=this.g;if(a!=d){if(d){this.B(false);this.q&&ch(this,d,false);delete this.g}if(a){this.g=a;Ee(a,this);a.l(false);Hf(a,this.Pc);this.q&&ch(this,a,true)}}return d};l.Ea=function(a){dh(this).tb(a,true)};l.bb=function(a,d){dh(this).ub(a,d,true)};l.yb=function(a){return this.g?Je(this.g,a):null};l.Bc=function(){return this.g?Ie(this.g):0};l.l=function(a,d){var e=bh.a.l.call(this,a,d);e&&!this.i&&this.B(false);return e};l.Aa=function(a){bh.a.Aa.call(this,a);this.F()||this.B(false)};
l.B=function(a){bh.a.B.call(this,a);if(this.g&&!!(this.n&64)==a){if(a){this.g.q||this.g.Yc();this.se=Ed(this.d());this.qd=Kd(this.d());eh(this);rf(this.g,-1)}else{this.setActive(false);this.g.sa=false;if(this.jc!=null){this.jc=undefined;var d=this.g.d();d&&Id(d,"","")}}this.g.l(a);d=De(this);var e=a?d.j:d.Q;e.call(d,td(this.M()),"mousedown",this.Me,true);this.Pc&&e.call(d,this.g,"blur",this.Qe);e.call(d,this.u,ge,this.ic);a?this.u.start():this.u.stop()}};
function eh(a){if(a.g.q){var d=a.cf||a.d();d=new $g(d,a.md?5:7,!a.bd,a.bd);var e=a.g.d();if(!a.g.i){e.style.visibility="hidden";Ld(e,true)}if(!a.jc&&a.bd)a.jc=Jd(e);d.Va(e,a.md?4:6,null,a.jc);if(!a.g.i){Ld(e,false);e.style.visibility="visible"}}}
l.ic=function(){var a=Kd(this.d()),d=Ed(this.d()),e;e=this.qd;e=e==a?true:!e||!a?false:e.left==a.left&&e.width==a.width&&e.top==a.top&&e.height==a.height;if(!(e=!e)){e=this.se;e=e==d?true:!e||!d?false:e.top==d.top&&e.right==d.right&&e.bottom==d.bottom&&e.left==d.left;e=!e}if(e){this.qd=a;this.se=d;eh(this)}};function ch(a,d,e){var f=De(a);e=e?f.j:f.Q;e.call(f,d,ze,a.Hc);e.call(f,d,"highlight",a.Gc);e.call(f,d,"unhighlight",a.Lc)}l.Gc=function(a){Ne(this.d(),"activedescendant",a.target.d().id)};
l.Lc=function(){sf(this.g)||Ne(this.d(),"activedescendant","")};Te("goog-menu-button",function(){return new bh(null)});function fh(){}s(fh,ah);ia(fh);fh.prototype.h=k("goog-toolbar-menu-button");function gh(a,d,e,f){bh.call(this,a,d,e||fh.A(),f)}s(gh,bh);Te("goog-toolbar-menu-button",function(){return new gh(null)});function hh(a){this.Qa=[];ih(this,a)}s(hh,Qd);l=hh.prototype;l.za=null;l.Wa=null;l.Bc=function(){return this.Qa.length};l.yb=function(a){return this.Qa[a]||null};function ih(a,d){if(d){ub(d,function(e){jh(this,e,false)},a);Cb(a.Qa,d)}}l.Ea=function(a){this.bb(a,this.Bc())};l.bb=function(a,d){if(a){jh(this,a,false);Db(this.Qa,d,0,a)}};l.Zb=ca("za");l.Ya=function(a){if(a!=this.za){jh(this,this.za,false);this.za=a;jh(this,a,true)}this.dispatchEvent("select")};
l.Dc=function(){return this.za?tb(this.Qa,this.za):-1};l.me=function(a){this.Ya(this.yb(a))};l.clear=function(){var a=this.Qa;if(!ka(a))for(var d=a.length-1;d>=0;d--)delete a[d];a.length=0;this.za=null};l.f=function(){hh.a.f.call(this);delete this.Qa;this.za=null};function jh(a,d,e){if(d)if(typeof a.Wa=="function")a.Wa(d,e);else typeof d.ed=="function"&&d.ed(e)};function kh(a,d,e,f){bh.call(this,a,d,e,f);this.Xb=a;lh(this)}s(kh,bh);l=kh.prototype;l.t=null;l.Xb=null;l.R=function(){kh.a.R.call(this);lh(this)};l.Ia=function(a){kh.a.Ia.call(this,a);if(a=this.La()){this.Xb=a;lh(this)}else this.me(0)};l.f=function(){kh.a.f.call(this);if(this.t){this.t.L();this.t=null}this.Xb=null};l.Hc=function(a){this.Ya(a.target);kh.a.Hc.call(this,a);a.stopPropagation();this.dispatchEvent(ze)};l.Te=function(){var a=this.Zb();kh.a.ka.call(this,a&&a.O());lh(this)};
l.Nb=function(a){var d=kh.a.Nb.call(this,a);if(a!=d){this.t&&this.t.clear();if(a)this.t?He(a,function(e){this.t.Ea(e)},this):mh(this,a)}return d};l.Ea=function(a){kh.a.Ea.call(this,a);this.t?this.t.Ea(a):mh(this,dh(this))};l.bb=function(a,d){kh.a.bb.call(this,a,d);this.t?this.t.bb(a,d):mh(this,dh(this))};l.Ya=function(a){this.t&&this.t.Ya(a)};l.me=function(a){this.t&&this.Ya(this.t.yb(a))};
l.ka=function(a){if(a!=null&&this.t)for(var d=0,e;e=this.t.yb(d);d++)if(e&&typeof e.O=="function"&&e.O()==a){this.Ya(e);return}this.Ya(null)};l.Zb=function(){return this.t?this.t.Zb():null};l.Dc=function(){return this.t?this.t.Dc():-1};function mh(a,d){a.t=new hh;d&&He(d,function(e){this.t.Ea(e)},a);De(a).j(a.t,"select",a.Te)}function lh(a){var d=a.Zb();a.Xa(d?d.La():a.Xb)}l.B=function(a){kh.a.B.call(this,a);this.pa()&&rf(dh(this),this.Dc())};Te("goog-select",function(){return new kh(null)});function nh(a,d,e,f){kh.call(this,a,d,e||fh.A(),f)}s(nh,kh);Te("goog-toolbar-select",function(){return new nh(null)});function oh(a,d){gf.call(this,a||Lg.A(),d)}s(oh,gf);Te("goog-toolbar-separator",function(){return new oh});function ph(a,d,e){Rg.call(this,a,d||Sg.A(),e);bf(this,16,true)}s(ph,Rg);Te("goog-toggle-button",function(){return new ph(null)});function qh(a,d,e){ph.call(this,a,d||Ug.A(),e)}s(qh,ph);Te("goog-toolbar-toggle-button",function(){return new qh(null)});function rh(a,d,e){Df.call(this,a,d,e);this.dd(true)}s(rh,Df);rh.prototype.Ta=function(){return this.dispatchEvent(ze)};Te("goog-option",function(){return new rh(null)});function sh(a,d,e){Rg.call(this,a,d||Sg.A(),e)}s(sh,Rg);Te("goog-custom-button",function(){return new sh(null)});function th(){this.ef=ua()}new th;th.prototype.pb=ba("ef");th.prototype.reset=function(){this.pb(ua())};function uh(a,d,e){this.Wd=a;this.Wa=e;this.e=d;C(d,[vh,wh,xh,yh],this);this.la=null;this.G=[];this.U=-1;this.W=0;this.Ja=this.V=null}s(uh,Qd);l=uh.prototype;l.Ye=10;l.De=true;l.nd=false;l.ve=false;l.rf=false;var vh="hilite",wh="select",yh="dismiss",xh="canceldismiss";l=uh.prototype;l.handleEvent=function(a){if(a.target==this.e)switch(a.type){case vh:this.fa(a.b);break;case wh:zh(this);break;case xh:Ah(this);break;case yh:Bh(this);break}};l.pa=function(){return this.e.i};
function Ch(a){var d=a.W+a.G.length-1;if(a.U>=a.W&&a.U<d){a.fa(a.U+1);return true}else if(a.U==-1){a.fa(a.W);return true}else if(a.U==d)if(a.nd){a.fa(-1);return false}else if(a.ve){a.fa(a.W);return true}return false}function Dh(a){if(a.U>a.W){a.fa(a.U-1);return true}else if(a.nd&&a.U==a.W){a.fa(-1);return false}else if(a.ve&&(a.U==-1||a.U==a.W)){a.fa(a.W+a.G.length-1);return true}return false}l.fa=function(a){this.U=a;this.e.fa(a);return Eh(this,a)!=-1};
function zh(a){var d=Eh(a,a.U);if(d!=-1){d=a.G[d];var e=a.Wa,f=d.toString();if(e.mb){var g=Fh(e,e.O(),Gh(e.w)),h=Hh(e,e.O());f=f;e.kf.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+e.Ee);if(e.vf){if(g!=0&&!za(h[g-1]))f=" "+f;if(g==h.length-1)f+=" "}if(f!=h[g]){h[g]=f;f=e.w;B&&f.blur();f.value=h.join("");for(var m=0,o=0;o<=g;o++)m+=h[o].length;f.focus();g=m;h=e.w;f=g;if(Ih(h))h.selectionStart=f;else if(A){m=Jh(h);o=m[0];if(o.inRange(m[1])){f=Kh(h,f);o.collapse(true);o.move("character",f);o.select()}}h=e.w;
g=g;if(Ih(h))h.selectionEnd=g;else if(A){m=Jh(h);f=m[1];if(m[0].inRange(f)){g=Kh(h,g);h=Kh(h,Gh(h));f.collapse(true);f.moveEnd("character",g-h);f.select()}}}}else e.ka(f);e.ad=true;a.ua();a.dispatchEvent({type:"update",b:d});a.rf&&a.Wa.update(true);return true}else{a.ua();a.dispatchEvent({type:"update",b:null});return false}}l.ua=function(){this.U=-1;this.la=null;this.W+=this.G.length;this.G=[];window.clearTimeout(this.Ja);this.Ja=null;this.e.ua()};
function Bh(a){if(!a.Ja)a.Ja=window.setTimeout(sa(a.ua,a),100)}function Ah(a){window.setTimeout(sa(function(){if(this.Ja){window.clearTimeout(this.Ja);this.Ja=null}},a),10)}l.f=function(){uh.a.f.call(this);this.e.L();this.Wa.L();this.Wd=null};l.Xe=function(a,d,e){this.la==a&&this.Zc(d,e)};
l.Zc=function(a,d){var e=d?Eh(this,this.U):null;this.W+=this.G.length;this.G=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.W+g,data:a[g]});this.e.Zc(f,this.la,this.V);if(this.De&&f.length!=0)this.fa(e!=null?this.W+e:this.W);else this.U=-1};function Eh(a,d){var e=d-a.W;if(e<0||e>=a.G.length)return-1;return e}l.wc=function(){var a=this.Wa;a.wc.apply(a,arguments)};function Lh(a,d){this.G=a;this.tf=!d}function Mh(a,d,e){var f=[];if(d!=""){d=Ia(d);var g=RegExp("(^|\\W+)"+d,"i");Of(a.G,function(h){String(h).match(g)&&f.push(h);return f.length>=e})}return f}
function Nh(a,d,e){var f=[];Nf(a.G,function(h,m){var o=d.toLowerCase(),p=String(h).toLowerCase(),r=0;if(p.indexOf(o)!=-1)r=parseInt((p.indexOf(o)/4).toString(),10);else for(var u=o.split(""),t=-1,z=10,F=0,H;H=u[F];F++){H=p.indexOf(H);if(H>t){t=H-t-1;if(t>z-5)t=z-5;r+=t;t=H}else{r+=z;z+=5}}r<o.length*6&&f.push({of:h,ke:r,index:m})});f.sort(function(h,m){var o=h.ke-m.ke;if(o!=0)return o;return h.index-m.index});a=[];for(var g=0;g<e&&g<f.length;g++)a.push(f[g].of);return a};function Gh(a){var d;a:{var e=0,f=0;if(Ih(a)){e=a.selectionStart;f=-1}else if(A){var g=Jh(a);d=g[0];g=g[1];if(d.inRange(g)){d.setEndPoint("EndToStart",g);if(a.type=="textarea"){g.duplicate();e=a=d.text;for(f=false;!f;)if(d.compareEndPoints("StartToEnd",d)==0)f=true;else{d.moveEnd("character",-1);if(d.text==a)e+="\r\n";else f=true}d=[e.length,-1];break a}e=d.text.length;f=-1}}d=[e,f]}return d[0]}
function Jh(a){var d=a.ownerDocument||a.document,e=d.selection.createRange();if(a.type=="textarea"){d=d.body.createTextRange();d.moveToElementText(a)}else d=a.createTextRange();return[d,e]}function Kh(a,d){if(a.type=="textarea")d=a.value.substring(0,d).replace(/(\r\n|\r|\n)/g,"\n").length;return d}function Ih(a){try{return typeof a.selectionStart=="number"}catch(d){return false}};function Oh(a,d,e,f){f=f||150;this.Lb=a!=null?a:Ph;this.Ee=this.Lb.substring(0,1);a=this.mb?"[\\s"+this.Lb+"]+":"[\\s]+";this.qe=RegExp("^"+a+"|"+a+"$","g");this.kf=RegExp("\\s*["+this.Lb+"]$");this.Vd=d||"";this.df=this.mb=e!=null?e:true;this.u=f>0?new ee(f):null;this.T=new se(this);this.Sb=new se(this);this.P=new Yd;this.Qd=-1}s(Oh,Jb);var Ph=",;";l=Oh.prototype;l.vf=true;l.He=true;l.re=false;l.mf=true;l.lf=true;l.w=null;l.Tc="";l.Ca=false;l.ad=false;l.sf=true;l.O=function(){return this.w.value};
l.ka=function(a){this.w.value=a};l.wc=function(){for(var a=0;a<arguments.length;a++){var d=arguments[a];Ne(d,"haspopup",true);this.T.j(d,Lc,this.Ma);this.T.j(d,Kc,this.oa);this.w||this.Sb.j(d,Ic,this.af)}};l.f=function(){Oh.a.f.call(this);this.T.L();delete this.T;this.Sb.L();this.Sb=null};
l.ea=function(a){switch(a.keyCode){case 40:if(this.z.pa()){this.re?Dh(this.z):Ch(this.z);a.preventDefault();return true}else if(!this.mb){this.update(true);a.preventDefault();return true}break;case 38:if(this.z.pa()){this.re?Ch(this.z):Dh(this.z);a.preventDefault();return true}break;case 9:if(this.z.pa()){this.update();if(zh(this.z)&&this.df){a.preventDefault();return true}}else this.z.ua();break;case 13:this.update();if(zh(this.z)){a.preventDefault();a.stopPropagation();return true}break;case 27:if(this.z.pa()){this.z.ua();
return true}break;case 229:if(!this.Ca){if(!this.Ca){this.T.j(this.w,Jc,this.ee);this.T.j(this.w,"keypress",this.de);this.Ca=true}return true}break;default:if(this.u&&!this.sf){this.u.stop();this.u.start()}}return Qh(this,a)};function Qh(a,d){var e=a.mb&&d.charCode&&a.Lb.indexOf(String.fromCharCode(d.charCode))!=-1;a.mf&&e&&a.update();if(a.lf&&e)if(zh(a.z)){d.preventDefault();return true}return false}l.Oe=k(false);
l.Ma=function(a){ue(this.Sb);this.z&&Ah(this.z);if(a.target!=this.w){this.w=a.target||null;if(this.u){this.u.start();this.T.j(this.u,ge,this.ic)}this.Tc=this.O();Zd(this.P,this.w);this.T.j(this.P,"key",this.fe);A&&this.T.j(this.w,"keypress",this.ce)}};l.oa=function(){if(this.w){this.T.Q(this.P,"key",this.fe);this.P.detach();this.T.Q(this.w,Jc,this.Oe);A&&this.T.Q(this.w,"keypress",this.ce);this.Ca&&Rh(this);this.w=null;if(this.u){this.u.stop();this.T.Q(this.u,ge,this.ic)}this.z&&Bh(this.z)}};
l.ic=function(){this.update()};l.af=function(a){this.Ma(a)};l.fe=function(a){this.Qd=a.keyCode;this.z&&this.ea(a)};l.de=function(){this.Ca&&this.Qd!=229&&Rh(this)};l.ee=function(a){if(this.Ca&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey))Rh(this)};function Rh(a){if(a.Ca){a.Ca=false;a.T.Q(a.w,"keypress",a.de);a.T.Q(a.w,Jc,a.ee)}}l.ce=function(a){Qh(this,a)};
l.update=function(a){if(a||this.w&&this.O()!=this.Tc){if(a||!this.ad){var d;a=Gh(this.w);d=this.O();a=Hh(this,d)[Fh(this,d,a)];d=this.qe?String(a).replace(this.qe,""):a;if(this.z){this.z.V=this.w;a=this.z;this.O();if(a.la!=d){a.la=d;d=a.Wd;var e=a.la,f=a.Ye,g=sa(a.Xe,a),h=Mh(d,e,f);if(h.length==0&&d.tf)h=Nh(d,e,f);g(e,h);Ah(a)}}}this.Tc=this.O()}this.ad=false};function Fh(a,d,e){a=Hh(a,d);if(e==d.length)return a.length-1;for(var f=d=0,g=0;f<a.length&&g<e;f++){g+=a[f].length;d=f}return d}
function Hh(a,d){if(!a.mb)return[d];for(var e=String(d).split(""),f=[],g=[],h=0,m=false;h<e.length;h++)if(a.Vd&&a.Vd.indexOf(e[h])!=-1){if(a.He&&!m){f.push(g.join(""));g.length=0}g.push(e[h]);m=!m}else if(!m&&a.Lb.indexOf(e[h])!=-1){g.push(e[h]);f.push(g.join(""));g.length=0}else g.push(e[h]);f.push(g.join(""));return f};function Sh(a,d,e,f){this.r=a||document.body;this.D=Zc(this.r);this.gf=!a;this.c=null;this.la="";this.G=[];this.ne=this.bc=-1;this.i=false;this.className="ac-renderer";this.$c="ac-row";this.Td="active";this.ld="ac-active";this.Ue="ac-highlighted";this.eb=d||null;this.uf=f!=null?f:true;this.Mc=false;this.jf=e!=null?e:false;this.Qc=null;this.oc=false}s(Sh,Qd);l=Sh.prototype;l.d=ca("c");l.Zc=function(a,d,e){this.la=d;this.G=a;this.bc=-1;this.ne=ua();this.V=e;this.Kb=[];Th(this)};
l.ua=function(){this.V&&Ne(this.V,"activedescendant","");if(this.i){this.i=false;Ld(this.c,false)}};l.show=function(){if(!this.i){this.i=true;Ld(this.c,true)}};
function Uh(a,d){a.bc>=0&&Uc(a.Kb[a.bc],a.ld,a.Td);a.bc=d;if(d>=0&&d<a.c.childNodes.length){var e=a.Kb[d];Tc(e,a.ld,a.Td);if(a.V)Ne(a.V,"activedescendant",e?e.id:"");var f=a.c,g=Fd(e),h=Fd(f),m;if(A){var o=Pd(f,"borderLeft");m=Pd(f,"borderRight");var p=Pd(f,"borderTop"),r=Pd(f,"borderBottom");m=new vd(p,m,r,o)}else{o=xd(f,"borderLeftWidth");m=xd(f,"borderRightWidth");p=xd(f,"borderTopWidth");r=xd(f,"borderBottomWidth");m=new vd(parseFloat(p),parseFloat(m),parseFloat(r),parseFloat(o))}o=g.x-h.x-m.left;
g=g.y-h.y-m.top;h=f.clientHeight-e.offsetHeight;f.scrollLeft+=Math.min(o,Math.max(o-(f.clientWidth-e.offsetWidth),0));f.scrollTop+=Math.min(g,Math.max(g-h,0))}}l.fa=function(a){if(a==-1)Uh(this,-1);else for(var d=0;d<this.G.length;d++)if(this.G[d].id==a){Uh(this,d);return}};
function Vh(a){if(!a.c){var d=a.D.k("div",{style:"display:none"});a.c=d;Tc(d,a.className);Me(d,"listbox");d.id=we(ve.A());if(a.V){Me(a.V,"combobox");Ne(a.V,"autocomplete","list");Ne(a.V,"haspopup",true)}a.D.appendChild(a.r,d);C(d,Fc,a.Dd,false,a);C(d,"mousedown",a.Hd,false,a);C(a.D.p,Fc,a.Fd,false,a);C(d,Gc,a.Id,false,a)}}
function Th(a){Vh(a);if(a.oc)a.c.style.visibility="hidden";a.Kb.length=0;a.D.je(a.c);if(a.eb&&a.eb.Yc)a.eb.Yc(a,a.c,a.G,a.la);else{var d=null;Nf(a.G,function(e){e=e;var f=this.la,g=this.D.k("div",{className:this.$c,id:we(ve.A())});Me(g,"option");if(this.eb&&this.eb.ff)this.eb.ff(e,f,g);else g.innerHTML=Ba(e.data.toString());f&&this.uf&&Wh(this,g,f);Tc(g,this.$c);this.Kb.push(g);e=g;this.oc?this.c.insertBefore(e,d):this.D.appendChild(this.c,e);d=e},a)}if(a.G.length==0)a.ua();else{a.show();Xh(a,a.c);
a.Va();Nd(a.c,true)}}l.Va=function(){if(this.V&&this.gf){var a=Fd(this.V),d=Jd(this.V),e=Jd(Bd(this.V)),f=Jd(this.c);a.y=this.oc?a.y-f.height:a.y+d.height;if((this.jf||a.x+f.width>e.width)&&this.Qc!="LEFT"){a.x=a.x+d.width-f.width;this.Qc="RIGHT"}else this.Qc="LEFT";Hd(this.c,a);if(this.oc)this.c.style.visibility="visible"}};
l.f=function(){Sh.a.f.call(this);if(this.c){Ac(this.c,Fc,this.Dd,false,this);Ac(this.c,"mousedown",this.Hd,false,this);Ac(this.D.p,Fc,this.Fd,false,this);Ac(this.c,Gc,this.Id,false,this);this.D.removeNode(this.c);this.c=null;this.i=false}delete this.r};function Xh(a,d){if(B&&cb){d.style.width="";d.style.overflow="visible";d.style.width=d.offsetWidth;d.style.overflow="auto"}}
function Wh(a,d,e){if(d.nodeType==3){var f=null;if(ka(e)&&e.length>1&&!a.Mc)f=Eb(e,1);e=Yh(a,e);if(e.length!=0){var g=d.nodeValue,h=RegExp("(.*?)(^|\\W+)("+e+")","gi");e=[];for(var m=0,o=h.exec(g),p=0;o;){p++;e.push(o[1]);e.push(o[2]);e.push(o[3]);m=h.lastIndex;o=h.exec(g)}e.push(g.substring(m));if(e.length>1){f=!a.Mc?1:p;for(g=0;g<f;g++){h=3*g;d.nodeValue=e[h]+e[h+1];m=a.D.createElement("b");m.className=a.Ue;a.D.appendChild(m,a.D.createTextNode(e[h+2]));m=d.parentNode.insertBefore(m,d.nextSibling);
d.parentNode.insertBefore(a.D.createTextNode(""),m.nextSibling);d=m.nextSibling}a=Eb(e,f*3);d.nodeValue=a.join("")}else f&&Wh(a,d,f)}}else for(d=d.firstChild;d;){f=d.nextSibling;Wh(a,d,e);d=f}}function Yh(a,d){var e="";if(!d)return e;if(a.Mc)if(ka(d)){e=vb(d,function(f){return!za(f==null?"":String(f))});e=wb(e,Ia);e=e.join("|")}else{e=ya(d);e=Ia(e);e=e.replace(/ /g,"|")}else e=ka(d)?d.length>0?Ia(d[0]):"":Ia(d);return e}
function Zh(a,d){for(;d&&d!=a.c&&!yb(Sc(d),a.$c);)d=d.parentNode;return d?tb(a.Kb,d):-1}l.Dd=function(a){var d=Zh(this,a.target);d>=0&&this.dispatchEvent({type:wh,b:this.G[d].id});a.stopPropagation()};l.Hd=function(a){this.dispatchEvent(xh);a.stopPropagation();a.preventDefault()};l.Fd=function(){this.dispatchEvent(yh)};l.Id=function(a){a=Zh(this,a.target);if(a>=0)ua()-this.ne<300||this.dispatchEvent({type:vh,b:this.G[a].id})};function $h(a,d,e,f){a=new Lh(a,!f);f=new Sh;e=new Oh(null,null,!!e);uh.call(this,a,f,e);e.z=this;e.wc(d)}s($h,uh);function ai(a,d){this.hc=d||"";this.cb=a||""}var bi=/[()<>@,;:\\\".\[\]]/,ci=/\"/g,di=/\\\"/g,ei=/\\/g,fi=/\\\\/g;ai.prototype.getName=ca("hc");ai.prototype.toString=function(){var a=this.getName();a=a.replace(ci,"");if(bi.test(a))a='"'+a.replace(ei,"\\\\")+'"';if(a=="")return this.cb;if(this.cb=="")return a;return a+" <"+this.cb+">"};
function gi(a){for(var d="",e="",f=0;f<a.length;){var g=hi(a,f);if(g.charAt(0)=="<"&&g.indexOf(">")!=-1)e=g.substring(1,g.indexOf(">"));else if(e=="")d+=g;f+=g.length}if(e==""&&d.indexOf("@")!=-1){e=d;d=""}d=ya(d);d=Ha(d,"'");d=Ha(d,'"');d=d.replace(di,'"');d=d.replace(fi,"\\");e=ya(e);return new ai(e,d)}function ii(a){for(var d=[],e="",f,g=0;g<a.length;){f=hi(a,g);if(f==","||f==";"){za(e)||d.push(gi(e));e="";g++}else{e+=f;g+=f.length}}za(e)||d.push(gi(e));return d}
function hi(a,d){var e=a.charAt(d),f='"<(['.indexOf(e);if(f==-1)return e;if(ji(a,d))return e;f='">)]'.charAt(f);for(var g=a.indexOf(f,d+1);g>=0&&ji(a,g);)g=a.indexOf(f,g+1);return g>=0?a.substring(d,g+1):e}function ji(a,d){if(a.charAt(d)!='"')return false;for(var e=0,f=d-1;f>=0&&a.charAt(f)=="\\";f--)e++;return e%2!=0};function ki(a,d,e,f){if(!ka(a)||!ka(d))throw Error("Start and end parameters must be arrays");if(a.length!=d.length)throw Error("Start and end points must be the same length");this.Pb=a;this.Ge=d;this.duration=e;this.kd=f;this.coords=[]}s(ki,Qd);var li="end",mi={},ni=null;function oi(){fe.clearTimeout(ni);var a=ua();for(var d in mi)pi(mi[d],a);ni=lc(mi)?null:fe.setTimeout(oi,20)}function qi(a){a=pa(a);delete mi[a];if(ni&&lc(mi)){fe.clearTimeout(ni);ni=null}}l=ki.prototype;l.n=0;l.Ad=0;l.Y=0;
l.startTime=null;l.xd=null;l.Sc=null;l.play=function(a){if(a||this.n==0){this.Y=0;this.coords=this.Pb}else if(this.n==1)return false;qi(this);this.startTime=ua();if(this.n==-1)this.startTime-=this.duration*this.Y;this.xd=this.startTime+this.duration;this.Sc=this.startTime;this.Y||this.Gb();ri(this,"play");this.n==-1&&ri(this,"resume");this.n=1;a=pa(this);a in mi||(mi[a]=this);ni||(ni=fe.setTimeout(oi,20));pi(this,this.startTime);return true};
l.stop=function(a){qi(this);this.n=0;if(a)this.Y=1;si(this,this.Y);ri(this,"stop");this.nb()};l.f=function(){this.n!=0&&this.stop(false);ri(this,"destroy");ki.a.f.call(this)};function pi(a,d){a.Y=(d-a.startTime)/(a.xd-a.startTime);if(a.Y>=1)a.Y=1;a.Ad=1E3/(d-a.Sc);a.Sc=d;na(a.kd)?si(a,a.kd(a.Y)):si(a,a.Y);if(a.Y==1){a.n=0;qi(a);ri(a,"finish");a.nb()}else a.n==1&&a.Wc()}function si(a,d){a.coords=Array(a.Pb.length);for(var e=0;e<a.Pb.length;e++)a.coords[e]=(a.Ge[e]-a.Pb[e])*d+a.Pb[e]}
l.Wc=function(){ri(this,"animate")};l.Gb=function(){ri(this,"begin")};l.nb=function(){ri(this,li)};function ri(a,d){a.dispatchEvent(new ti(d,a))}function ti(a,d){Kb.call(this,a);this.coords=d.coords;this.x=d.coords[0];this.y=d.coords[1];this.Gf=d.coords[2];this.duration=d.duration;this.Y=d.Y;this.yf=d.Ad;this.Ef=d.n;this.wf=d}s(ti,Kb);function ui(a,d,e,f,g){ki.call(this,d,e,f,g);this.element=a}s(ui,ki);ui.prototype.pc=ha;ui.prototype.Wc=function(){this.pc();ui.a.Wc.call(this)};ui.prototype.nb=function(){this.pc();ui.a.nb.call(this)};ui.prototype.Gb=function(){this.pc();ui.a.Gb.call(this)};function vi(a,d,e,f,g){if(ma(d))d=[d];if(ma(e))e=[e];ui.call(this,a,d,e,f,g);if(d.length!=1||e.length!=1)throw Error("Start and end points must be 1D");}s(vi,ui);
vi.prototype.pc=function(){var a=this.coords[0],d=this.element.style;if("opacity"in d)d.opacity=a;else if("MozOpacity"in d)d.MozOpacity=a;else if("filter"in d)d.filter=a===""?"":"alpha(opacity="+a*100+")"};vi.prototype.show=function(){this.element.style.display=""};function wi(a,d,e){vi.call(this,a,1,0,d,e)}s(wi,vi);function xi(a,d,e){vi.call(this,a,1,0,d,e)}s(xi,vi);xi.prototype.Gb=function(){this.show();xi.a.Gb.call(this)};xi.prototype.nb=function(){this.element.style.display="none";xi.a.nb.call(this)};/*
 Rawscripts.com copywrite 2010



*/
window.changeFormat=yi;window.deleteThread=zi;window.newThread=Ai;window.tabs=Bi;window.exportScripts=Ci;window.hideExportPrompt=Di;window.renameScript=Ei;window.hideRenamePrompt=Fi;window.renamePrompt=Gi;window.hideNewScriptPrompt=Hi;window.createScript=Ii;window.hideSpellCheck=Ji;window.s_change=Ki;window.s_ignore=Li;window.s_ignore_all=Ni;window.replaceAndFind=Oi;window.replaceText=Pi;window.hideFindReplacePrompt=Qi;window.hideFindPrompt=Ri;window.findUp=Si;window.findDown=Ti;
window.shareScript=Ui;window.hideSharePrompt=Vi;window.hideEmailPrompt=Wi;window.emailScript=Xi;window.save=Yi;window.setJustPasted=Zi;window.paint=$i;window.init=aj;window.paste=bj;window.cut=cj;
var dj=0,ej=1,fj=0,gj=true,hj,E=true,ij=false,jj=false,kj=false,G=[],lj=[],I=[],mj=0,nj=false,oj=false,pj=false,qj=[],rj=[],J=[],K=0,L=0,N=0,P=0,Q=0,sj=[],tj=[],uj="#fff",vj="10pt Courier",R=8,wj="#000",T=13,xj=0,yj=["Slugline","Action","Character","Dialog","Parenthetical","Transition"],U="random123456789",zj=true,W=[[62,101,0,1,2],[62,101,0,0,2],[40,261,0,1,1],[36,181,0,0,2],[30,221,0,0,1],[61,591,1,1,2]],Y=850,Aj=91,Z=[];notes=[];var Bj=[],Cj=[],Dj=false,Ej,Fj,Gj,Hj;
function aj(){Ij("i");var a=Ud,d=new Td(document.getElementById("canvas"));C(d,a,Jj);C(window,"unload",function(){Ac(d,a,Jj)});C(D("find_input"),Ic,function(m){if(m.keyCode==13){m.preventDefault();Ti()}});C(D("fr_find_input"),Ic,function(m){if(m.keyCode==13){m.preventDefault();Ti()}});C(D("renameField"),Ic,function(m){if(m.keyCode==13){m.preventDefault();Ei()}});C(D("subject"),Ic,function(m){m.keyCode==13&&m.preventDefault()});C(D("find_input"),Lc,function(){E=false;ij=true;pj=false});C(D("find_input"),
Kc,function(){E=true;pj=ij=false});C(D("find_input"),Jc,function(m){Kj(m,"f")});C(D("fr_find_input"),Lc,function(){E=false;ij=true;pj=false});C(D("fr_find_input"),Kc,function(){E=true;pj=ij=false});C(D("fr_find_input"),Jc,function(m){Kj(m,"r")});C(D("fr_replace_input"),Lc,function(){E=false;ij=true;pj=false});C(D("fr_replace_input"),Kc,function(){E=true;pj=ij=false});Ej=new Ff;Ej.s(D("fileMenu"));Gf(Ej,0,64);Hf(Ej,true);Ej.l(false);C(D("file"),Fc,Lj);C(D("file"),Gc,Mj);C(D("file"),Hc,Nj);C(Ej,"action",
Oj);Fj=new Ff;Fj.s(D("editMenu"));Gf(Fj,35,64);Hf(Fj,true);Fj.l(false);C(D("edit"),Fc,Lj);C(D("edit"),Gc,Mj);C(D("edit"),Hc,Nj);C(Fj,"action",Oj);Gj=new Ff;Gj.s(D("viewMenu"));Gf(Gj,72,64);Hf(Gj,true);Gj.l(false);C(D("view"),Fc,Lj);C(D("view"),Gc,Mj);C(D("view"),Hc,Nj);C(Gj,"action",Oj);Hj=new Ff;Hj.s(D("shareMenu"));Gf(Hj,113,64);Hf(Hj,true);Hj.l(false);C(D("share"),Fc,Lj);C(D("share"),Gc,Mj);C(D("share"),Hc,Nj);C(Hj,"action",Oj);var e=[["save","S"],["export","E"],["undo","Z"],["redo","Shift Z"],
["find","F"]],f=cb==true?"\u2318":"Ctrl+";for(i in e){var g=D(e[i][0]+"-shortcut");nd(g,f+e[i][1])}try{D("user").innerHTML.split("@")[1].split(".")[0]=="gmail"&&Ag("/synccontacts",function(m){if(Jg(m.target)!="none")try{var o=Kg(m.target);new $h(o,document.getElementById("recipient"),true);new $h(o,document.getElementById("collaborator"),true)}catch(p){}},"POST")}catch(h){}U=window.location.href.split("=")[1];Ag("scriptcontent",Pj,"POST","resource_id="+U)}
function Ij(a){var d=fd(window);Id(D("container"),d);document.getElementById("canvas").height=d.height-60-38;document.getElementById("canvas").width=d.width-320;Y=d.width-323;document.getElementById("sidebar").style.height=d.height-70+"px";if(a=="r"){Qj(0);$i(false,false,false)}}var Rj=new Rd;C(Rj,"resize",function(){Ij("r")});var Sj=new Yd(document);C(Sj,"key",Tj);
function Tj(a){if(!a.he){if(a.target.id=="ccp"){xj=(new Date).getMilliseconds();if(a.keyCode==13){if(E&&document.getElementById("suggestBox")==null){Uj();Dj&&Vj(N);Z[N][0]=Z[N][0].replace(/\s+$/,"");for(x in notes){if(N<notes[x][0])notes[x][0]+=1;if(N==notes[x][0]&&L<notes[x][1]){notes[x][1]-=L;notes[x][0]+=1}}G.push(["enter",N,L]);lj=[];Z[N][1]==2&&Wj(Z[N][0]);var d=Z[N][0].slice(0,L),e=Z[N][0].slice(L);Z[N][0]=d;if(Z[N][1]==0)var f=1;else if(Z[N][1]==1)f=2;else if(Z[N][1]==2)f=3;else if(Z[N][1]==
4)f=3;else if(Z[N][1]==3)f=2;else if(Z[N][1]==5)f=0;Z.splice(N+1,0,[e,f]);N++;L=0;Q=N;P=L;document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r");$i(true,"enter",false);$i(false,"enter",false)}else if(document.getElementById("suggestBox")!=null){Uj();d=Z[N][0].length;e=sf(Xj).La();Z[N][0]=e;G.push(["paste",N,L,Z[N][0].substr(d)]);document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));
L=P=Z[N][0].length}Yj();document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r")}else if(a.keyCode==38)a:if(E&&document.getElementById("suggestBox")==null){if(!(N==0&&L==0)){var g=Z[N][1];if(g==0)d=W[0];else if(g==1)d=W[1];else if(g==2)d=W[2];else if(g==3)d=W[3];else if(g==4)d=W[4];else if(g==5)d=W[5];if(Z[N][0].length>d[0]){var h=Z[N][0].split(" "),m=0;for(g=[];m<h.length;){if(h[m].length>=
d[0]){g.push(h[m].length);m++}if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}}f=0;for(h=g[0];h<L;){f++;h+=g[f]+1}if(N==0&&f==0){L=P=0;break a}if(f==0){Dj&&Vj(N);g=Z[N-1][1];if(g==0)e=W[0];else if(g==1)e=W[1];else if(g==2)e=W[2];else if(g==3)e=W[3];else if(g==4)e=W[4];else if(g==5)e=W[5];if(Z[N-1][0].length<e[0])N--;else{h=Z[N-1][0].split(" ");m=0;for(g=[];m<h.length;)if(h[m].length>=
d[0]){g.push(h[m].length);m++}else if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}N--;L+=Z[N][0].length-g[g.length-1]}if(L>Z[N][0].length)L=Z[N][0].length}else{L-=g[f-1]+1;if(L>h-g[f]-1)L=h-g[f]-1}}else if(N==0)L=0;else{Dj&&Vj(N);g=Z[N-1][1];if(g==0)e=W[0];else if(g==1)e=W[1];else if(g==2)e=W[2];else if(g==3)e=W[3];else if(g==4)e=W[4];else if(g==5)e=W[5];if(Z[N-1][0].length<
e[0])N--;else{h=Z[N-1][0].split(" ");m=0;for(g=[];m<h.length;)if(h[m].length>=d[0]){g.push(h[m].length);m++}else if(h.slice(m).join().length<=d[0]){g.push(h.slice(m).join().length);m=h.length}else{for(f=0;h.slice(m,m+f).join().length<d[0];)f++;g.push(h.slice(m,m+f-1).join().length);m+=f-1}N--;L+=Z[N][0].length-g[g.length-1]}if(L>Z[N][0].length)L=Z[N][0].length}if(!a.shiftKey){P=L;Q=N}fj<0&&$i(false,false,false)}}else document.getElementById("suggestBox")!=null&&vf(Xj);else if(a.keyCode==40)if(E&&
document.getElementById("suggestBox")==null){if(!(N==Z.length-1&&L==Z[N][0].length)){d=Z[N][1];if(d==0)g=W[0];else if(d==1)g=W[1];else if(d==2)g=W[2];else if(d==3)g=W[3];else if(d==4)g=W[4];else if(d==5)g=W[5];if(Z[N][0].length>g[0]){f=Z[N][0].split(" ");h=0;for(d=[];h<f.length;)if(f[h].length>=g[0]){d.push(f[h].length);h++}else if(f.slice(h).join().length<=g[0]){d.push(f.slice(h).join().length);h=f.length}else{for(e=0;f.slice(h,h+e).join().length<g[0];)e++;d.push(f.slice(h,h+e-1).join().length);
h+=e-1}e=0;for(g=d[0];g<L;){e++;g+=d[e]+1}if(e+1==d.length){Dj&&Vj(N);for(e=0;e<d.length-1;e++)L-=d[e];L--;N++;if(N>Z.length-1){N--;L=Z[N][0].length}if(L>Z[N][0].length)L=Z[N][0].length}else{L+=d[e]+1;if(L>g+d[e+1]+1)L=g+d[e+1]+1}}else if(N==Z.length-1)L=Z[N][0].length;else{N++;if(N>Z.length-1)N=Z.length-1;if(L>Z[N][0].length)L=Z[N][0].length}if(!a.shiftKey){P=L;Q=N}fj>document.getElementById("canvas").height-50&&$i(false,false,false)}}else document.getElementById("suggestBox")!=null&&wf(Xj);else if(a.keyCode==
39){if(E){d=false;if(!(L==Z[N][0].length&&N==Z.length-1)){if(L==Z[N][0].length){Dj&&Vj(N);N++;L=0;d=true}else L+=1;if(!a.shiftKey){P=L;Q=N}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==37){if(E){d=false;if(!(N==0&&L==0)){if(L==0){Dj&&Vj(N);N--;L=Z[N][0].length;d=true}else L-=1;if(!a.shiftKey){P=L;Q=N}e=document.getElementById("suggestBox");d&&e!=null&&e.parentNode.removeChild(e)}}}else if(a.keyCode==8)Zj(a);else if(a.keyCode==46)$j();else if(a.keyCode==
16)return;else if(a.keyCode==9){a.preventDefault();if(E){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Uj();G.push(["format",N,L,Z[N][1],"tab"]);lj=[];d=false;if(Z[N][1]==0)d=true;e=Z[N][1];if(e==1){Z[N][1]=0;d=true}else if(e==0)Z[N][1]=2;else if(e==2)Z[N][1]=1;else if(e==3)Z[N][1]=4;else if(e==4)Z[N][1]=3;else if(e==5){Z[N][1]=0;d=true}d&&Yj();if(Z[N][1]==4){if(Z[N][0].charAt(0)!="("){Z[N][0]="("+Z[N][0];
L++;P++}if(Z[N][0].charAt(Z[N][0].length-1)!=")")Z[N][0]+=")"}if(Z[N][1]==3){if(Z[N][0].charAt(0)=="("){Z[N][0]=Z[N][0].substr(1);L--;P--}if(Z[N][0].charAt(Z[N][0].length-1)==")")Z[N][0]=Z[N][0].slice(0,-1)}}}else if(!ij)if(a.keyCode>=48&&a.keyCode<=90||a.keyCode>=96&&a.keyCode<=111||a.keyCode>=187&&a.keyCode<=222||a.keyCode==32||a.keyCode==186)if(E&&!pj){a.preventDefault();lj=[];xj=(new Date).getMilliseconds();if(a.which!=13&&a.which!=37&&a.which!=0&&a.which!=8){if(N!=Q||L!=P)$j();G.push([String.fromCharCode(a.charCode),
N,L]);Z[N][0]=Z[N][0].slice(0,L)+String.fromCharCode(a.charCode)+Z[N][0].slice(L);L++;Z[N][1]==0&&ak(N);Z[N][1]==2&&bk("c");Z[N][1]==0&&bk("s");for(x in notes)if(N==notes[x][0])if(L-1<=notes[x][1])notes[x][1]+=1;Uj();P=L;Q=N}document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},"f");document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r");document.getElementById("ccp").focus();document.getElementById("ccp").select()}fj<0&&E&&a.keyCode!=13&&a.keyCode!=
46&&a.keyCode!=8&&Qj(fj-400);fj>document.getElementById("canvas").height-80&&E&&a.keyCode!=13&&a.keyCode!=46&&a.keyCode!=8&&Qj(fj-400)}if(E){if(Q==N&&L==P)document.getElementById("ccp").value="";document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}C(document,"mousemove",ck);C(document,"mousedown",dk);C(document,"mouseup",ek);var fk=new je(document);fk.Hb("save","meta+s");fk.Hb("undo","meta+z");fk.Hb("redo","meta+shift+z");fk.Hb("export","meta+e");fk.Hb("find","meta+f");
fk.od=true;C(fk,"shortcut",gk);function gk(a){if(a.identifier=="save")Yi(0);else if(a.identifier=="undo")hk();else if(a.identifier=="redo")ik();else if(a.identifier=="export")jk();else a.identifier=="find"&&kk()}window.oncontextmenu=lk;
function bk(a){document.getElementById("suggestBox")!=null&&kd(document.getElementById("suggestBox"));if(a=="c")var d=qj,e=W[2][1]+Math.round((Y-R*87-24)/2)+"px";else{d=[];for(i in rj)d.push([rj[i][0].split(") ").splice(1).join(") ")]);e=W[0][1]+Math.round((Y-R*87-24)/2)+"px"}var f=Z[N][0].length,g=Z[N][0].toUpperCase();for(x in d){var h=d[x][0].substr(0,f).toUpperCase();if(g==h&&g!=d[x][0]){if(document.getElementById("suggestBox")==null){var m=document.body.appendChild(document.createElement("div"));
m.id="suggestBox";m.style.position="fixed";m.style.top=fj+Aj+9+T+"px";m.style.left=e;m.className="goog-menu"}h=false;if(a=="s"){var o=m.childNodes;for(i in o)if(d[x][0]==o[i].value)h=true;o=null}if(!h){h=m.appendChild(document.createElement("div"));h.className="goog-menuitem";h.appendChild(document.createTextNode(d[x][0]));h.value=d[x][0];h=null}h=null}}if(document.getElementById("suggestBox")!=null){a=D("suggestBox");Xj=new Ff;Xj.s(a);Hf(Xj,true);rf(Xj,0);C(Xj,"action",function(p){p=p.target.La();
var r=Z[N][0].length;Z[N][0]=p;G.push(["paste",N,L,Z[N][0].substr(r)]);L=P=Z[N][0].length;kd(document.getElementById("suggestBox"))});m=h=a=null}a=d=g=f=e=x=null}var Xj;function Uj(){document.getElementById("saveButton").disabled=false;document.getElementById("saveButton").value="Save";Dj=true;if(zj){clearTimeout(hj);hj=setTimeout("save(1)",7E3)}}
function Kj(a,d){if(a.which==13&&a.which!=1E3){a.preventDefault();Ti()}else{var e=d=="f"?document.getElementById("find_input").value:document.getElementById("fr_find_input").value,f=RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi");sj=[];tj=[];if(e.length==0)document.getElementById("find_number_found").innerHTML="0 found";else{for(i in Z)for(;f.test(Z[i][0])==true;)d=="f"?sj.push([i*1,f.lastIndex-e.length]):tj.push([i*1,f.lastIndex-e.length]);if(d=="f")document.getElementById("find_number_found").innerHTML=
sj.length+" found"}}}function Ti(){var a=sj.length!=0?sj:tj;if(a.length!=0){var d=sj.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length;for(i in a){if(a[i][0]==N&&a[i][1]>L){Q=N=a[i][0];P=a[i][1]*1;L=a[i][1]*1+d*1;mk("find"+N);return}if(a[i][0]*1>N*1){Q=N=a[i][0]*1;P=a[i][1]*1;L=a[i][1]*1+d*1;mk("find"+N);return}}N=Q=L=P=0;Ti()}}
function Si(){var a=sj.length!=0?sj:tj;if(a.length!=0){var d=sj.length!=0?document.getElementById("find_input").value.length:document.getElementById("fr_find_input").value.length,e=a.length-1;for(e=a.length-1;e>=0;e--){if(a[e][0]==N&&a[e][1]<L-d-1){Q=N=a[e][0];P=a[e][1]*1;L=a[e][1]*1+d*1;mk("find"+N);return}if(a[e][0]*1<N*1){Q=N=a[e][0]*1;P=a[e][1]*1;L=a[e][1]*1+d*1;mk("find"+N);return}}N=Q=a[a.length-1][0];P=a[a.length-1][1];L=P+d;mk("find"+N)}}
function Vj(a){Dj=false;var d=Z[a][0];if(Z[a][1]==0||Z[a][1]==2||Z[a][1]==5)d=d.toUpperCase();a=d.split(" ");for(i=0;i<a.length;i++){d=false;for(e in Bj)if(a[i].toUpperCase()==Bj[e][0].toUpperCase())d=true;for(e in Cj)if(a[i].toUpperCase()==Bj[e][0].toUpperCase())d=true;if(d){a.splice(i,1);i--}}i=null;var e=JSON.stringify(a);Ag("/spellcheck",function(f){if(Jg(f.target)!="correct"){f=Kg(f.target);for(i in f)Bj.push(f[i]);i=null}},"POST","data="+escape(e)+"&resource_id="+U)}
function cj(){if(N!=Q||L!=P)Zj();Uj()}
function bj(){if(!kj){var a=false;Uj();lj=[];if(N!=Q||L!=P)Zj();var d=false,e=document.getElementById("ccp").value,f=RegExp("\\n","g");if(e.split(f).length>1){e=e.split(f);f=[];for(x in e)e[x]!=""&&e[x]!=null&&f.push([e[x],1]);e=JSON.stringify(f);x=null}G.push(["paste",N,L,e]);if(e[0]=="["&&e[1]=="[")d=true;if(d){a=true;d=JSON.parse(e);if(Z[N][0]=="")Z[N][1]=d[0][1];if(Z[N][1]==d[0][1]){G[G.length-1].push(1);e=[Z[N][0].slice(L),Z[N][1]];Z[N][0]=Z[N][0].slice(0,L)+d[0][0];f=1;var g=N+1}else{G[G.length-
1].push(0);e=[Z[N][0].slice(L),Z[N][1]];Z[N][0]=Z[N][0].slice(0,L);N++;Z.splice(N,0,d[0]);f=1;g=N+1}for(;f<d.length;){Z.splice(g,0,d[f]);g++;f++}Z.splice(g,0,e);if(Z[g][0]==""||Z[g][0]==" "){Z.splice(g,1);G[G.length-1].push(0)}else G[G.length-1].push(1);N=Q=g;L=P=0;if(N>=Z.length){N=Q=Z.length-1;L=P=Z[N][0].length}}else{Z[N][0]=Z[N][0].slice(0,L)+e+Z[N][0].slice(L);L+=document.getElementById("ccp").value.length;P=L}jj=false;if(a){Yj();$i(true,false,false)}D("ccp").value="";kj=true;setTimeout("setJustPasted()",
50)}}function Zi(){kj=false}function nk(a){a=Be(a.target).replace("toolbar","");if(a=="New")ok();else if(a=="Save")Yi(0);else if(a=="Export")jk();else if(a=="Undo")hk();else if(a=="Redo")ik();else if(a=="InsertNote")Ai();else if(a=="Spellcheck")pk();else a=="Email"&&qk()}
function Pj(a){var d=new Ng;d.s(D("gtb"));C(d,ze,nk);D("gtb").style.visibility="visible";D("sidebar").style.visibility="visible";if(Jg(a.target)=="not found"){Z=[["Sorry, the script wasn't found.",1]];$i(true,false,false)}else{a=Kg(a.target);d=a[0];document.getElementById("title").innerHTML=d;document.title=d;var e=a[1];for(d=0;d<e.length;d++)Z.push([e[d][0],e[d][1]]);if(Z.length==2){N=Q=1;L=P=Z[1][0].length}if(a[2].length!=0){e=a[2][0];var f=a[2][1];for(w in e)Bj.push(e[w]);for(d in f)Cj.push(f[d])}for(d in a[3])notes.push(a[3][d]);
e=a[4];f=document.getElementById("hasAccess");for(d in e){var g=f.appendChild(document.createElement("tr"));g.id=e[d];g.appendChild(document.createElement("td")).appendChild(document.createTextNode(e[d]));g=g.appendChild(document.createElement("td")).appendChild(document.createElement("a"));g.appendChild(document.createTextNode("Remove Access"));g.href="javascript:removeAccess('"+e[d]+"')";g=g=null}new $h(a[5],document.getElementById("recipient"),true);new $h(a[5],document.getElementById("collaborator"),
true);zj=a[6]=="true"?true:false;document.getElementById("canvas").getContext("2d");Bi(0);rk();Yj();sk();document.getElementById("ccp").focus();document.getElementById("ccp").select();document.getElementById("saveButton").value="Saved";document.getElementById("saveButton").disabled=true;$i(true,false,false);setInterval("paint(false,false,false)",25);d=a=data=d=e=w=f=e=null;a=new xi(D("loading"),500);C(a,li,function(){kd(D("loading"))});a.play()}}
function Bi(a){var d=["sceneTab","noteTab"];for(i in d){var e=document.getElementById(d[i]);if(i==a){e.style.backgroundColor="#3F5EA6";e.style.color="white";document.getElementById(d[i].replace("Tab","s")).style.display="block"}else{e.style.backgroundColor="#6C8CD5";e.style.color="black";document.getElementById(d[i].replace("Tab","s")).style.display="none"}}i=null}
function yi(a){document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));Uj();G.push(["format",N,L,Z[N][1],a]);lj=[];Z[N][1]=a;P=L;Q=N;if(Z[N][1]==4){if(Z[N][0].charAt(0)!="("){Z[N][0]="("+Z[N][0];L++;P++}if(Z[N][0].charAt(Z[N][0].length-1)!=")")Z[N][0]+=")"}if(Z[N][1]==3){if(Z[N][0].charAt(0)=="("){Z[N][0]=Z[N][0].substr(1);L--;P--}if(Z[N][0].charAt(Z[N][0].length-1)==")")Z[N][0]=Z[N][0].slice(0,-1)}Yj()}
function lk(a){if(a.clientX>Aj&&a.clientX<Y-100&&a.clientY-Aj>40&&a.target.id=="canvas"){a.preventDefault();var d=document.body.appendChild(document.createElement("div"));d.style.position="fixed";d.style.top=a.clientY-3+"px";d.style.left=a.clientX+5+"px";d.id="context_menu";for(i in yj){a=d.appendChild(document.createElement("div"));a.innerHTML=yj[i];a.id="cm"+i;a.className="contextUnit"}i=null}}
function ek(a){document.getElementById("suggestBox")!=null&&kd(document.getElementById("suggestBox"));if(E){oj=nj=false;document.getElementById("canvas");var d=document.getElementById("canvas").height;if(a.clientY-Aj>d-39&&a.clientY-Aj<d&&a.clientX>Y-22&&a.clientX<Y-2)a.clientY-Aj>d-20?Qj(30):Qj(-30);document.getElementById("ccp").focus();document.getElementById("ccp").select()}Ej.l(false);Fj.l(false);Gj.l(false);Hj.l(false);a=["file","edit","view","share"];for(i in a){d=D(a[i]);d.style.backgroundColor=
"#A2BAE9";d.style.color="black"}}
function dk(a){if(E){Dj&&Vj(N);if(document.getElementById("suggestBox")==null){if(document.getElementById("context_menu")!=null){a.target.className=="contextUnit"&&yi(a.target.id.replace("cm",""));document.getElementById("context_menu").parentNode.removeChild(document.getElementById("context_menu"))}else{var d=document.getElementById("canvas").height,e=(I.length+1)*72*T,f=d/e*(d-39);if(f<20)f=20;if(f>=d-39)f=d-39;d=K/(e-d)*(d-39-f)+Aj;if(a.clientX<Y-100&&a.clientY>60&&a.target.id=="canvas"){nj=true;
tk(a,"anch")}else if(a.clientX<Y&&a.clientX>Y-20&&a.clientY>d&&a.clientY<d+f)oj=true}document.getElementById("ccp").focus();document.getElementById("ccp").select()}}}
function tk(a,d){xj=(new Date).getMilliseconds();var e=0,f=a.clientY+K-31,g=15*T+3,h=0;for(i in Z){h=g;if(I.length!=0&&I[e]!=undefined&&I[e][0]==i){if(I[e][2]==0)g=72*T*(e+1)+10*T+Aj+3-31;else{g=72*T*(e+1)+10*T+Aj+3;g+=(J[i].length-I[e][2])*T-31;if(Z[i][1]==3)g+=T;g-=T*J[i].length}e++}g+=T*J[i].length;if(g>f){g=I.length!=0&&I[e-1]!=undefined&&I[e-1][0]==i&&I[e-1][2]!=0?(f-h)/T<I[e-1][2]?Math.round((f-h)/T+0.5):f<72*T*e+10*T+Aj?I[e-1][2]:Math.round((T*J[i].length-g+f)/T+0.5):Math.round((T*J[i].length-
g+f)/T+0.5);for(f=e=0;e+1<g;){f+=J[i][e]+1;e++}g=Z[i][1]!=5?Math.round((a.clientX-Math.round((Y-R*87-24)/2)-W[Z[i][1]][1])/R):Math.round((a.clientX-Math.round((Y-R*87-24)/2)-W[Z[i][1]][1]+Z[i][0].length*R)/R);if(g<0)g=0;if(g>J[i][e])g=J[i][e];f+=g;if(f<0)f=0;if(f>Z[i][0].length)f=Z[i][0].length;if(d=="anch"){N=Q=i*1;L=P=f*1}else{N=i;L=f}return}}}
function ck(a){if(oj){var d=mj-a.clientY,e=document.getElementById("canvas").height-50,f=(I.length+1)*72*T;K-=f/e*d;if(K<0)K=0;f=(I.length+1)*72*T-document.getElementById("canvas").height+20;if(K>f)K=f+20}mj=a.clientY;nj&&tk(a,"pos");e=document.getElementById("canvas").height;f=(I.length+1)*72*T;d=e/f*(e-39);if(d<20)d=20;if(d>=e-39)d=e-39;e=K/(f-e)*(e-39-d)+Aj;document.getElementById("canvas").style.cursor=a.clientX<Y&&a.clientX>Y-20&&a.clientY>e&&a.clientY<e+d?"default":"text"}
function Jj(a){Qj(a.Fe*2)}function Qj(a){K+=a;if(K<0)K=0;a=(I.length+1)*72*T-document.getElementById("canvas").height+20;if(K>a)K=a+20;xj=(new Date).getMilliseconds();if(document.getElementById("suggestBox")!=null){$i(false,false,false);bk(Z[N][1]==0?"s":"c")}}
function mk(a){if(a.target!=undefined){a=a.target.id;Q=N=a=parseInt(a.replace("row",""));P=L=Z[N][0].length;this.style.backgroundColor="#999ccc"}else a=a[0]=="f"?parseInt(a.replace("find","")):N;for(var d=0,e=0;e<a;e++){for(var f=0;f<I.length;f++)if(I[f][0]==e){d=T*72*(f*1+1);if(I[f][2]!=0)d-=T*(J[e].length-I[f][2])}d+=J[e].length*T}K=d;a=(I.length+1)*72*T-document.getElementById("canvas").height;if(K>a)K=a}
function Zj(a){if(E){Uj();lj=[];a&&a.preventDefault();var d=a=false;if(Z[N][1]==0)d=true;if(N==Q&&L==P){if(L==0&&N==0)return;else if(Z[N][1]==4&&L==1){for(x in notes){if(N<notes[x][0])notes[x][0]-=1;else if(N==notes[x][0]){notes[x][1]+=Z[N-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}d=Z[N][0];if(d.charAt(0)=="(")d=d.substr(1);if(d.charAt(d.length-1)==")")d=d.slice(0,-1);var e=Z[N-1][0].length;Z.splice(N,1);N--;L=e;Z[N][0]+=d;G.push(["back",N,L,"line",4]);d=true;document.getElementById("suggestBox")!=
null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else if(L==0){for(x in notes){if(N<notes[x][0])notes[x][0]-=1;else if(N==notes[x][0]){notes[x][1]+=Z[N-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}var f=Z[N][1];d=Z[N][0];Z.splice(N,1);e=Z[N-1][0].length;Z[N-1][0]+=d;L=e;N--;G.push(["back",N,L,"line",f]);d=a=true;document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"))}else{G.push(["back",
N,L,Z[N][0][L-1]]);Z[N][0]=Z[N][0].slice(0,L-1)+Z[N][0].slice(L);L--;for(x in notes)if(N==notes[x][0])if(L<notes[x][1])notes[x][1]-=1}P=L;Q=N}else{document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));a=true;var g=false;if(Q>N)g=true;if(Q==N&&P>L)g=true;if(g){g=Q;Q=N;N=g;g=P;P=L;L=g}for(g=0;L!=P||N!=Q;){g++;if(Z[N][1]==0)d=true;if(L==0){for(x in notes){if(N<notes[x][0])notes[x][0]-=1;else if(N==notes[x][0]){notes[x][1]+=
Z[N-1][0].length;notes[x][0]-=1}if(notes[x][1]<0)notes[x][1]=0}f=Z[N][1];d=Z[N][0];Z.splice(N,1);e=Z[N-1][0].length;Z[N-1][0]+=d;L=e;N--;G.push(["back",N,L,"line",f]);d=true}else{G.push(["back",N,L,Z[N][0][L-1]]);Z[N][0]=Z[N][0].slice(0,L-1)+Z[N][0].slice(L);L--;for(x in notes)if(N==notes[x][0])if(L<notes[x][1])notes[x][1]-=1}}G.push(["br",g])}if(a==true){Yj();$i(a,false,false);Qj(0)}d&&ak(N);document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},"f");document.getElementById("find_replace_div").style.display==
"block"&&Kj({which:1E3},"r")}}
function $j(){if(E){Uj();lj=[];document.getElementById("suggestBox")!=null&&document.getElementById("suggestBox").parentNode.removeChild(document.getElementById("suggestBox"));var a=false,d=false;if(N==Q&&L==P){if(Z[N][1]==0)a=true;if(L==Z[N][0].length&&N==Z.length-1)return;if(Z[N][1]==4&&Z[N][0]=="()"){G.push(["delete",N,L,"line",4]);Z.splice(N,1);P=L=0}else if(L==Z[N][0].length){for(x in notes){if(N+1==notes[x][0]){notes[x][1]+=Z[N][0].length;notes[x][0]-=1}else if(N<notes[x][0])notes[x][0]-=1;
if(notes[x][1]<0)notes[x][1]=0}G.push(["delete",N,L,"line",Z[N+1][1]]);if(Z[N+1][1]==0)a=true;var e=Z[N+1][0];Z.splice(N+1,1);Z[N][0]+=e;d=true}else{G.push(["delete",N,L,Z[N][0][L]]);Z[N][0]=Z[N][0].slice(0,L)+Z[N][0].slice(L+1);for(x in notes)if(N==notes[x][0])if(L<notes[x][1])notes[x][1]-=1}}else{d=true;e=false;if(Q>N)e=true;if(Q==N&&P>L)e=true;if(e){e=Q;Q=N;N=e;e=P;P=L;L=e}for(var f=0;L!=P||N!=Q;){f++;if(Z[N][1]==0)a=true;if(L==0){for(x in notes){if(N+1==notes[x][0]){notes[x][1]+=Z[N][0].length;
notes[x][0]-=1}else if(N<notes[x][0])notes[x][0]-=1;if(notes[x][1]<0)notes[x][1]=0}G.push(["delete",N-1,Z[N-1][0].length,"line",Z[N][1]]);e=Z[N][0];Z.splice(N,1);a=Z[N-1][0].length;Z[N-1][0]+=e;L=a;N--;a=true}else{G.push(["delete",N,L,Z[N][0][L-1]]);Z[N][0]=Z[N][0].slice(0,L-1)+Z[N][0].slice(L);L--;for(x in notes)if(N==notes[x][0])if(L<notes[x][1])notes[x][1]-=1}}G.push(["dr",f])}if(d==true){Yj();$i(d,false,false);Qj(0)}a&&ak(N);document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},
"f");document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r")}}
function hk(){Uj();if(G.length!=0){var a=false,d=G.pop(),e=[];for(x in d)e.push(d[x]);lj.push(e);if(d[0]=="enter"){a=Z[d[1]+1][0];Z.splice(d[1]+1,1);if(Z[d[1]][1]==4&&Z[d[1]][0].charAt(Z[d[1]][0].length-1)==")")Z[d[1]][0]=Z[d[1]][0].slice(0,-1);Z[d[1]][0]+=a;a=true}else if(d[0]=="back")if(d[3]=="line"){for(x in notes)if(d[1]==notes[x][0]){if(d[2]<=notes[x][1]){notes[x][0]+=1;notes[x][1]-=d[2]}}else if(d[1]<notes[x][0])notes[x][0]+=1;a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&
e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=a;a=[e,d[4]];Z.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+d[3]+Z[d[1]][0].slice(d[2]-1);Z[d[1]][1]==0&&ak(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<=notes[x][1])notes[x][1]+=1}else if(d[0]=="delete")if(d[3]=="line"){a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=a;a=[e,d[4]];Z.splice(d[1]+1,0,a);a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,
d[2])+d[3]+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&ak(d[1])}else if(d[0]=="format"){Z[d[1]][1]=d[3];if(Z[d[1]][0].charAt(0)=="(")Z[d[1]][0]=Z[d[1]][0].substr(1);if(Z[d[1]][0].charAt(Z[d[1]][0].length-1)==")")Z[d[1]][0]=Z[d[1]][0].slice(0,-1);a=true}else if(d[0]=="br"||d[0]=="dr")for(var f=d[1],g=0;g<f;g++){d=G.pop();e=[];for(x in d)e.push(d[x]);lj.splice(lj.length-1,0,e);if(d[3]=="line"){a=Z[d[1]][0].slice(0,d[2]);e=Z[d[1]][0].slice(d[2]);if(d[4]==3&&e.charAt(e.length-1)==")")e=e.slice(0,-1);Z[d[1]][0]=
a;a=[e,d[4]];Z.splice(d[1]+1,0,a);d[1]+=1;d[2]=0;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+d[3]+Z[d[1]][0].slice(d[2]-1);Z[d[1]][1]==0&&ak(d[1])}}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+d[3].length);Z[d[1]][1]==0&&ak(d[1])}else{a=true;f=JSON.parse(d[3]);if(d[4]==0)Z.splice(d[1]+1,f.length);else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]);Z.splice(d[1]+1,f.length-1)}if(d[5]==1){Z[d[1]][0]+=Z[d[1]+1][0];Z.splice(d[1]+1,1)}}else{Z[d[1]][0]=
Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);if(Z[d[1]][1]==4&&Z[d[1]][0][d[2]-1]==")"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);d[2]-=1}Z[d[1]][1]==0&&ak(d[1]);for(x in notes)if(d[1]==notes[x][0])if(d[2]<notes[x][1])notes[x][1]-=1}N=d[1];L=d[2];Q=N;P=L;if(a==true){Yj();$i(true,false,false);Qj(0)}}}
function ik(){Uj();if(lj.length!=0){var a=false,d=lj.pop(),e=[];for(x in d)e.push(d[x]);G.push(e);a=false;if(d[0]=="enter"){e=Z[d[1]][0].slice(0,d[2]);a=Z[d[1]][0].slice(d[2]);Z[d[1]][0]=e;if(Z[d[1]][1]==0)var f=1;else if(Z[d[1]][1]==1)f=2;else if(Z[d[1]][1]==2)f=3;else if(Z[d[1]][1]==4)f=3;else if(Z[d[1]][1]==3)f=2;else if(Z[d[1]][1]==5)f=0;Z.splice(d[1]+1,0,[a,f]);d[1]+=1;d[2]=0;a=true}else if(d[0]=="back")if(d[3]!="line"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);d[2]-=1;Z[d[1]][1]==
0&&ak(d[1])}else{e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else if(d[0]=="delete")if(d[3]!="line"){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+Z[d[1]][0].slice(d[2]+1);Z[d[1]][1]==0&&ak(d[1])}else{e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e}else if(d[0]=="format"){if(d[4]!="tab")Z[d[1]][1]=d[4];else{e=d[3];if(e==0)Z[d[1]][1]=2;else if(e==1)Z[d[1]][1]=0;else if(e==2)Z[d[1]][1]=1;else if(e==3)Z[d[1]][1]=4;else if(e==4)Z[d[1]][1]=3;else if(e==5)Z[d[1]][1]=0}a=true}else if(d[0]=="br"){var g=
d[1];for(f=0;f<g;f++){d=lj.pop();e=[];for(x in d)e.push(d[x]);G.splice(G.length-1,0,e);if(d[3]=="line"){e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&ak(d[1])}}d[2]-=1}else if(d[0]=="dr"){g=d[1];for(f=0;f<g;f++){d=lj.pop();e=[];for(x in d)e.push(d[x]);G.splice(G.length-1,0,e);if(d[3]=="line"){e=Z[d[1]+1][0];Z.splice(d[1]+1,1);Z[d[1]][0]+=e;a=true}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]-1)+Z[d[1]][0].slice(d[2]);
Z[d[1]][1]==0&&ak(d[1])}}d[2]-=1}else if(d[0]=="paste")if(d[3][0]!="["&&d[3][1]!="["){Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+d[3]+Z[d[1]][0].slice(d[2]);Z[d[1]][1]==0&&ak(d[1])}else{a=true;g=JSON.parse(d[3]);if(Z[d[1]][0]=="")Z[d[1]][1]=g[0][1];if(Z[d[1]][1]==g[0][1]){e=[Z[d[1]][0].slice(d[2]),Z[d[1]][1]];Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+g[0][0];f=1;d=d[1]+1}else{e=[Z[d[1]][0].slice(d[2]),Z[d[1]][1]];Z[d[1]][0]=Z[d[1]][0].slice(0,d[2]);d[1]++;Z.splice(d[1],0,g[0]);f=1;d=d[1]+1}for(;f<g.length;){Z.splice(d,
0,g[f]);d++;f++}Z.splice(d,0,e);if(Z[d][0]==""||Z[d][0]==" ")Z.splice(d,1)}else{Z[d[1]][0]=Z[d[1]][0].slice(0,d[2])+d[0]+Z[d[1]][0].slice(d[2]);d[2]+=1;Z[d[1]][1]==0&&ak(d[1])}if(a==true){Yj();$i(true,false,false);Qj(0)}}}function rk(){for(var a=0;a<Z.length;a++)Z[a][1]==2&&Wj(Z[a][0])}function Wj(a){a=a.toUpperCase().replace(/\s+$/,"");for(var d=false,e=0;e<qj.length;e++)if(qj[e][0]==a){qj[e][1]+=1;d=true}d||qj.push([a,1])}
function Yj(){rj=[];for(var a=0,d=0;d<Z.length;d++)if(Z[d][1]==0){a++;var e="";if(d!=Z.length-1){e=Z[d+1][0];if((Z[d+1][1]==2||Z[d+1][1]==5)&&d!=Z.length-2)e+=" "+Z[d+2][0]}rj.push([String(a)+") "+Z[d][0].toUpperCase(),d,e]);e=null}jd(D("sceneBox"));for(d=0;d<rj.length;d++){a=document.getElementById("sceneBox").appendChild(document.createElement("p"));a.appendChild(document.createTextNode(rj[d][0]));a.className="sceneItem";a.id="row"+rj[d][1];a.title=rj[d][2];C(a,Fc,mk);C(a,Gc,function(){this.style.backgroundColor=
"#ccccff"});C(a,Hc,function(){this.style.backgroundColor="white"});a=null}c=d=a=null}function ak(a){try{var d=document.getElementById("row"+a),e=d.innerHTML.split(")")[0];d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e+") "+Z[a][0].toUpperCase()))}catch(f){}}function uk(a,d){if(a[0]<d[0])return-1;if(a[0]>d[0])return 1;if(a[1]<d[1])return-1;if(a[1]>d[1])return 1;return 0}
function sk(){notes.sort(uk);for(var a=document.getElementById("noteBox"),d=0;d<a.childNodes.length;d++){a.removeChild(a.firstChild);d--}for(x in notes){var e=a.appendChild(document.createElement("div"));e.className="thread";var f=e.appendChild(document.createElement("table"));f.width="100%";f=f.appendChild(document.createElement("tr"));f.appendChild(document.createElement("td"));f=f.appendChild(document.createElement("td"));f.align="right";f=f.appendChild(document.createElement("a"));f.style.backgroundColor=
"orange";f.appendChild(document.createTextNode("Delete"));f.href="javascript:deleteThread('"+notes[x][3]+"')";f.style.textDecoration="none";f.style.color="black";for(y in notes[x][2]){f=e.appendChild(document.createElement("div"));var g=f.appendChild(document.createElement("div"));g.innerHTML=notes[x][2][y][0];g=f.appendChild(document.createElement("div"));g.appendChild(document.createTextNode(notes[x][2][y][1].split("@")[0]));g.align="right";g.className="msgInfo";f.className="msg";f.id=notes[x][3]+
"msg";C(f,Fc,function(h){for(h=h.target;h.className!="msg";)h=h.parentNode;for(d in notes)if(String(notes[d][3])==String(h.id.replace("msg",""))){N=Q=notes[d][0];L=P=notes[d][1]}$i(false,false,false);mk("find"+N)});f=g=g=null}e=e.appendChild(document.createElement("div"));e.className="respond";e.appendChild(document.createTextNode("Respond"));e.id=notes[x][3];C(e,Fc,vk);e=f=f=f=e=null}E=true;x=d=null}
function Ai(){Bi(1);gj=true;$i(false,false,false);sk();E=false;var a=document.getElementById("noteBox").appendChild(document.createElement("div"));a.className="thread";id=Math.round(Math.random()*1E9);for(var d=true;d==true;){d=false;for(e in notes)if(String(notes[e][3])==String(id)){id=Math.round(Math.random()*1E9);d=true}}d=a.appendChild(document.createElement("div"));d.className="respondControls";var e=d.appendChild(document.createElement("div"));e.contentEditable=true;e.id="nmi";a=d.appendChild(document.createElement("input"));
a.type="button";a.value="Save";a.id=id;d=d.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";C(a,Fc,wk);C(d,Fc,sk);e.focus()}
function wk(a){a=a.target.id;var d=document.getElementById("nmi").innerHTML,e=document.getElementById("user_email").innerHTML,f=new Date;if(d!=""){notes.push([N,L,[[d,e,f]],a]);U!="Demo"&&Ag("/notesnewthread",function(g){Jg(g.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","fromPage=editor&resource_id="+U+"&row="+N+"&col="+L+"&content="+escape(d)+"&thread_id="+a)}sk()}
function vk(a){var d=a.target.id;sk();E=false;a=document.getElementById(d);var e=a.parentNode.insertBefore(document.createElement("div"),a);e.className="respondControls";var f=e.appendChild(document.createElement("div"));f.contentEditable=true;f.id="nmi";var g=e.appendChild(document.createElement("input"));g.type="button";g.value="Save";g.id="noteSave"+d;d=e.appendChild(document.createElement("input"));d.type="button";d.value="Cancel";d.id="noteCancel";a.parentNode.removeChild(a);C(g,Fc,xk);C(d,Fc,
sk);f.focus()}
function xk(a){a=parseInt(a.target.id.replace("noteSave",""));for(x in notes)if(notes[x][3]==a)var d=x;var e=new Date,f=document.getElementById("nmi").innerHTML,g=document.getElementById("user_email").innerHTML;if(f!=""){e=[f,g,e];notes[d][2].push(e);U!="Demo"&&Ag("/notessubmitmessage",function(h){Jg(h.target)!="sent"&&alert("Sorry, there was a problem sending that message. Please try again later.")},"POST","resource_id="+U+"&content="+escape(f)+"&thread_id="+a+"&fromPage=editor");e=null}sk();x=e=
f=g=d=null}function zi(a){var d=confirm("Are you sure you want to Delete this thread? This cannot be undone.");if(d==true){U!="Demo"&&Ag("/notesdeletethread",aa(),"POST","resource_id="+U+"&thread_id="+a);for(i in notes)if(notes[i][3]==a)var e=i;d=i=null;notes.splice(e,1);sk()}}
function Lj(a){a=a.target.id;var d=[["file",Ej],["edit",Fj],["view",Gj],["share",Hj]];document.getElementById(a).style.backgroundColor="#6484df";document.getElementById(a).style.color="white";var e="notfound",f=0;for(i in d){if(d[i][1].i==true){e=i;d[e][1].l(false)}if(a==d[i][0])f=d[i][1]}if(e=="notfound")f.l(true);else if(d[e][1]==f)f.l(false);else{d[e][1].l(false);f.l(true)}i=null}
function Mj(a){a=a.target.id;var d=[["file",Ej],["edit",Fj],["view",Gj],["share",Hj]],e="not open";for(i in d){var f=D(d[i][0]);f.style.backgroundColor="#A2BAE9";f.style.color="black";if(d[i][1].i)e=i;if(a==d[i][0]){var g=d[i][1];f=D(g.Oa.replace("Menu",""));f.style.backgroundColor="#6484df";f.style.color="white"}}if(e!="not open"){d[e][1].l(false);g.l(true)}i=null}
function Nj(a){a=a.target.id;if(document.getElementById(a+"Menu").style.display=="none"){document.getElementById(a).style.backgroundColor="#A2BAE9";document.getElementById(a).style.color="black"}}
function Oj(a){a=Be(a.target);if(a=="save")Yi(0);else if(a=="new")U=="Demo"?alert("Sorry, you'll have to login to start saving."):ok();else if(a=="open")U=="Demo"?alert("Sorry, you'll have to login to open new scripts."):window.open("/scriptlist");else if(a=="rename")Gi();else if(a=="exportas")jk();else if(a=="duplicate")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else yk();else if(a=="close")zk();else if(a=="undo")hk();else if(a=="redo")ik();else if(a=="insertNote"){gj=
true;Ai()}else if(a=="editTitlePage")window.open("/titlepage?resource_id="+U);else if(a=="tag")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else Ak();else if(a=="spellCheck")pk();else if(a=="find")kk();else if(a=="findReplace"){Ri();document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r");E=false;ij=true;document.getElementById("find_replace_div").style.display="block";document.getElementById("fr_find_input").select();document.getElementById("fr_find_input").focus()}else if(a==
"revision")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else window.open("/revisionhistory?resource_id="+U);else if(a=="notes")gj=gj?false:true;else if(a.substr(0,6)=="format")yi(parseInt(a.replace("format","")));else if(a=="collaborators")if(U=="Demo"){alert("Sorry, you'll have to login to start doing that.");return}else{E=false;document.getElementById("sharepopup").style.visibility="visible"}else if(a=="email")if(U=="Demo"){alert("Sorry, you'll have to login to email scripts.");
return}else qk();Ej.l(false);Fj.l(false);Gj.l(false);Hj.l(false);a=["file","edit","view","share"];for(i in a){var d=D(a[i]);d.style.backgroundColor="#A2BAE9";d.style.color="black"}}
function zk(){clearTimeout(hj);U=="Demo"&&self.close();var a=JSON.stringify(Z);document.getElementById("saveButton").value="Saving...";Ag("/save",function(){self.close()},"POST","data="+escape(a)+"&resource_id="+U+"&autosave=0");a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&Ag("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+U);a=a=i=null}
function ok(){if(U=="Demo")alert("Sorry, you'll have to login to open new scripts.");else{E=false;document.getElementById("newscriptpopup").style.visibility="visible"}}function Hi(){E=true;document.getElementById("newScript").value="";document.getElementById("newscriptpopup").style.visibility="hidden";document.getElementById("createScriptButton").disabled=false;document.getElementById("createScriptButton").value="Create";document.getElementById("createScriptIcon").style.visibility="hidden"}
function Ii(){var a=document.getElementById("newScript").value;if(a!=""){document.getElementById("createScriptButton").disabled=true;document.getElementById("createScriptButton").value="Creating Script...";document.getElementById("createScriptIcon").style.visibility="visible";Ag("/newscript",function(d){window.open("editor?resource_id="+Jg(d.target));Hi()},"POST","filename="+escape(a)+"&fromPage=editor")}}
function yk(){Ag("/duplicate",function(a){Jg(a.target)!="fail"&&window.open(Jg(a.target))},"POST","fromPage=editor&resource_id="+U)}C(D("saveError"),Fc,function(){var a=new wi(D("saveError"),500);C(a,li,function(){D("saveError").style.display="none";D("saveError").style.opacity="100"});a.play()});
function Yi(a){clearTimeout(hj);if(U=="Demo")a==0&&alert("Sorry, but you'll have to login to start saving scripts!");else{var d=JSON.stringify(Z);document.getElementById("saveButton").value="Saving...";Ag("/save",function(e){if(Jg(e.target)=="1"){D("saveButton").value="Saved";D("saveButton").disabled=true;D("saveError").style.display="none"}else{D("saveButton").value="Save";D("saveButton").disabled=false;D("saveError").style.display="table"}},"POST","data="+escape(d)+"&resource_id="+U+"&autosave="+
a);a=[];for(i in notes)a.push([notes[i][0],notes[i][1],notes[i][3]]);a.length!=0&&Ag("/notesposition",aa(),"POST","positions="+escape(JSON.stringify(a))+"&resource_id="+U);d=a=i=null}}function Gi(){E=false;document.getElementById("renameTitle").innerHTML="Rename: "+document.getElementById("title").innerHTML;document.getElementById("renameField").value=document.getElementById("title").innerHTML;document.getElementById("renamepopup").style.visibility="visible"}
function Fi(){document.getElementById("renameField").value="";document.getElementById("renamepopup").style.visibility="hidden";E=true}function Ei(){if(U=="Demo")alert("Sorry, you'll have to login to do that.");else{var a=document.getElementById("renameField").value;if(a!=""){document.getElementById("title").innerHTML=a;document.title=a;Ag("/rename",aa(),"POST","fromPage=scriptlist&resource_id="+U+"&rename="+a);Fi()}}}
function jk(){U!="Demo"&&document.getElementById("saveButton").value=="Save"&&Yi(0);E=false;document.getElementById("exportpopup").style.visibility="visible"}function Di(){E=true;document.getElementById("exportpopup").style.visibility="hidden"}
function Ci(){if(U=="Demo")alert("Sorry, you'll have to login to export scripts.");else for(var a,d="&title_page="+document.getElementById("et").selectedIndex,e=document.getElementsByTagName("input"),f=0;f<e.length;f++)if(e[f].checked==true)if(e[f].className=="exportList"){a=e[f].name;b="/export?resource_id="+U+"&export_format="+a+"&fromPage=editor"+d;window.open(b)}}
function qk(){if(U=="Demo")alert("Sorry, you'll have to login to email scripts.");else{document.getElementById("saveButton").value=="Save"&&Yi(0);E=false;document.getElementById("emailpopup").style.visibility="visible"}}function Wi(){document.getElementById("emailpopup").style.visibility="hidden";document.getElementById("recipient").value="";document.getElementById("message").innerHTML="";E=true}
function Bk(a){console.log();document.getElementById("emailS").disabled=false;document.getElementById("emailS").value="Send";if(Jg(a.target)=="sent"){alert("Email Sent");Wi()}else alert("There was a problem sending your email. Please try again later.")}
function Xi(){var a=ii(D("recipient").value),d=[];for(i in a)a[i].cb!=""&&d.push(a[i].cb);if(d.length==0)alert("You need to add at least one email address.");else{a=d.join(",");d=document.getElementById("subject").value;if(d=="")d="Script";var e=document.getElementById("message").innerHTML;Ag("/emailscript",Bk,"POST","resource_id="+U+"&recipients="+a+"&subject="+d+"&body_message="+escape(e)+"&fromPage=editor");document.getElementById("emailS").disabled=true;document.getElementById("emailS").value=
"Sending...";c=null}}function Vi(){E=true;document.getElementById("sharepopup").style.visibility="hidden";document.getElementById("collaborator").value=""}
function Ui(){var a=ii(D("collaborator").value),d=[],e=false;for(i in a){var f=a[i].cb;if(f!="")if(f.split("@")[1]!=undefined&&(f.split("@")[1].split(".")[0]=="gmail"||f.split("@")[1].split(".")[0]=="yahoo"))d.push(f);else e=true}e==true&&alert("At this time you can only collaborate with Gmail or Yahoo accounts.");if(d.length==0)alert("You need to add at least one email address.");else{Ag("/share",function(g){g=Jg(g.target).split(",");var h=document.getElementById("hasAccess");for(i in g)if(g[i]!=
""&&g[i]!=="not sent"){var m=h.appendChild(document.createElement("tr"));m.id=g[i];m.appendChild(document.createElement("td")).appendChild(document.createTextNode(g[i]));m=m.appendChild(document.createElement("td")).appendChild(document.createElement("a"));m.appendChild(document.createTextNode("Remove Access"));m.href="javascript:removeAccess('"+g[i]+"')"}document.getElementById("shareS").disabled=false;document.getElementById("shareS").value="Send Invitations"},"POST","resource_id="+U+"&collaborators="+
escape(d.join(","))+"&fromPage=scriptlist");document.getElementById("shareS").disabled=true;document.getElementById("shareS").value="Sending Invites..."}}function Ak(){Yi(0);var a=prompt("Leave a tag for this version:");a!=null&&a!=""&&Ag("/revisiontag",function(d){Jg(d.target)!="tagged"&&alert("There was a problem tagging this script. Please try again later.")},"POST","resource_id="+U+"&version=latest&tag="+escape(a))}
function kk(){Qi();document.getElementById("find_div").style.display=="block"&&Kj({which:1E3},"f");E=false;ij=true;document.getElementById("find_div").style.display="block";document.getElementById("find_input").select();document.getElementById("find_input").focus()}function Ri(){E=true;ij=false;sj=[];document.getElementById("find_div").style.display="none";pj=false}function Qi(){E=true;ij=false;tj=[];document.getElementById("find_replace_div").style.display="none";pj=false}
function Pi(){var a=document.getElementById("fr_replace_input").value;if(a.length!=0)if(!(N==Q&&L==P))if(N==Q)if(tj.length!=0){document.getElementById("ccp").value=a;bj();P=L-a.length;document.getElementById("find_replace_div").style.display=="block"&&Kj({which:1E3},"r")}}function Oi(){Pi();Ti()}function pk(){E=false;Vj(N);var a=N==0?true:false;document.getElementById("spellcheckpopup").style.visibility="visible";Ck(a,0,0)}
function Ck(a,d,e){if(d=="finished"){alert("Spell Check Complete");Ji()}else{a=Z[d][0].split(" ");for(var f=false;f==false;){var g=a[e].replace("?","").replace(".","").replace(",","").replace("(","").replace(")","");for(i in Bj)if(Bj[i][0].toUpperCase()==g.toUpperCase()){f=[d,e,i];for(v in Cj)if(Cj[v].toUpperCase()==g.toUpperCase())f=false}if(!f){e++;if(e==a.length){e=0;d++;if(d==Z.length)f="finished";else a=Z[d][0].split(" ")}}}if(f=="finished"){document.getElementById("sSuggest").innerHTML="";document.getElementById("sSentance").innerHTML=
"";alert("Spell Check Complete");Ji()}else{var h=Z[d][0],m="<span id='sFocus' title='"+g+"' style='color:red'>"+g+"</span>";h=h.replace(RegExp(g,"i"),m);if(Z[d][1]==0||Z[d][1]==2||Z[d][1]==5){document.getElementById("sSentance").innerHTML=h.toUpperCase();document.getElementById("sSentance").innerHTML=document.getElementById("sSentance").innerHTML.replace("SFOCUS","sFocus")}else document.getElementById("sSentance").innerHTML=h;document.getElementById("sSentance").title=d;g=Bj[f[2]][1];h=document.getElementById("sSuggest");
h.innerHTML="";for(i in g){m=h.appendChild(document.createElement("div"));m.className="spellcheckitem";C(m,Fc,function(o){var p=document.getElementById("spellcheckfocus");p!=undefined&&p.removeAttribute("id");o.target.id="spellcheckfocus";document.getElementById("sFocus").innerHTML=o.target.title});Z[d][1]==0||Z[d][1]==2||Z[d][1]==5?m.appendChild(document.createTextNode(g[i].toUpperCase())):m.appendChild(document.createTextNode(g[i]));m.title=g[i]}e++;if(e==a.length){e=0;d++;if(d==Z.length)f="finished";
else a=Z[d][0].split(" ")}d=f=="finished"?f:[d,e].join(",");document.getElementById("sHidden").value=d}}}function Ji(){document.getElementById("spellcheckpopup").style.visibility="hidden";E=true;Uj()}function Li(){var a=document.getElementById("sHidden").value;Ck(false,a.split(",")[0],a.split(",")[1])}function Ni(){Cj.push(document.getElementById("sFocus").title);var a=document.getElementById("sHidden").value;Ck(false,a.split(",")[0],a.split(",")[1])}
function Ki(){var a=document.getElementById("sSentance"),d=a.title;Z[d][0]="";for(i in a.childNodes)if(a.childNodes[i].nodeName=="#text")Z[d][0]+=a.childNodes[i].nodeValue;else{var e=a.childNodes[i].childNodes;for(j in e)if(e[j].nodeName=="#text")Z[d][0]+=e[j].nodeValue}a=document.getElementById("sHidden").value;Ck(false,a.split(",")[0],a.split(",")[1]);$i(true,false,false)}
function Dk(a,d,e,f,g,h){if(Z[g][1]==5){f.fillStyle="gold";f.beginPath();f.moveTo(a-R*(Z[g][0].length-e+1)+h,d-K-T+3);f.lineTo(a-R*(Z[g][0].length-e+1)+h,d-K-T+3+T);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-K-T+3+T);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-K-T+3+4);f.lineTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-K-T+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(var m=1;m<6;m++){f.moveTo(a-R*(Z[g][0].length-e+1)+1+h,d-K-T+3+2*m+0.5);f.lineTo(a-R*(Z[g][0].length-e+1)+R-1+h,d-
K-T+3+2*m+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-K-T+3);f.lineTo(a-R*(Z[g][0].length-e+1)+R-4+h,d-K-T+3+4);f.lineTo(a-R*(Z[g][0].length-e+1)+R+h,d-K-T+3+4)}else{f.fillStyle="gold";f.beginPath();f.moveTo(a+R*e+h,d-K-T+3);f.lineTo(a+R*e+h,d-K-T+3+T);f.lineTo(a+R*e+R+h,d-K-T+3+T);f.lineTo(a+R*e+R+h,d-K-T+3+4);f.lineTo(a+R*e+R-4+h,d-K-T+3);f.closePath();f.fill();f.strokeStyle="#333";f.lineWidth=1;f.beginPath();for(g=1;g<6;g++){f.moveTo(a+R*e+1+h,d-
K-T+3+2*g+0.5);f.lineTo(a+R*e+R-1+h,d-K-T+3+2*g+0.5);f.stroke()}f.strokeStyle="#999";f.beginPath();f.moveTo(a+R*e+R-4+h,d-K-T+3);f.lineTo(a+R*e+R-4+h,d-K-T+3+4);f.lineTo(a+R*e+R+h,d-K-T+3+4)}f.stroke();f.fillStyle=wj}function Ek(a,d){return a-d}
function $i(a,d){var e=Z.length,f=Z,g=document.getElementById("canvas").height;if(E||ij){var h=document.getElementById("canvas").getContext("2d");h.fillStyle="#ccc";h.fillRect(0,0,Y,g);var m=Math.round((Y-R*87-24)/2),o=T;h.font=vj;h.lineWidth=1;for(var p=0;p<=I.length;p++){if(o-K>1200)break;if(o-K>-T*72){h.fillStyle=uj;h.fillRect(m,o-K,R*87,T*70);h.strokeStyle="#000";h.strokeRect(m,o-K,Math.round(R*87),T*70);h.strokeStyle="#999";h.strokeRect(m-2,o-K-2,Math.round(R*87)+4,T*70+4);h.fillStyle=wj;p>0&&
h.fillText(String(p+1)+".",550+m,o-K+85)}o+=T*72}if(!a){o=T*9+2;var r=W[0];h.fillStyle="#ddd";var u=0;for(p=0;p<e;p++){if(N==p)dj=u*1+1;if(I.length!=0&&I[u]!=undefined&&I[u][0]==p){if(N==p)dj+=1;o=72*T*(u+1)+9*T+2;if(I[u][2]!=0){o-=I[u][2]*T;if(f[p][1]==3)o+=T}u++}if(p<J.length)for(var t=0;t<J[p].length;t++){o+=T;if(f[p][1]==0){J[p][t]!=0&&h.fillRect(r[1]-3+m,o-K,61*R+6,14);f[p][0]==""&&t==0&&h.fillRect(r[1]-3+m,o-K,61*R+6,14)}}if(o-K>1200)break}}if(sj.length!=0||tj.length!=0){h.fillStyle="yellow";
o=sj.length==0?document.getElementById("fr_find_input").value.length:document.getElementById("find_input").value.length;u=p=r=0;t=sj.length==0?tj:sj;var z=T*9+3;for(i in J){if(z-K>1200)break;r=0;for(j in J[i]){if(I[u]!=undefined&&I[u][0]==i&&I[u][2]==j){u++;z=72*T*u+9*T+4;if(Z[i]!=undefined&&Z[i][1]==3)z+=T}for(z+=T;t[p]!=undefined&&t[p][0]==i&&t[p][1]>=r&&t[p][1]<r+J[i][j]+1;){if(z-K>-100){var F=m+W[Z[i][1]][1]+(t[p][1]-r)*R;if(t[p][1]+o>r+J[i][j]+1){h.fillRect(F,z-K,(r+J[i][j]-t[p][1])*R,T-2);h.fillRect(m+
W[Z[i][1]][1],z+T-K,(o-(r+J[i][j]-t[p][1]+1))*R,T-2)}else h.fillRect(F,z-K,o*R,T-2)}p++}r+=J[i][j]+1}}}if(N!=Q||P!=L){if(N>Q){o={b:Q,v:P};r={b:N,v:L}}else if(N==Q&&L>P){o={b:Q,v:P};r={b:N,v:L}}else{o={b:N,v:L};r={b:Q,v:P}}p=T*9+3;var H=0;for(z=0;z<o.b;z++)if(I.length!=0&&I[H][2]==0&&I[H][0]-1==z){p=72*T*(H+1)+9*T+4;H++;H==I.length&&H--}else if(I.length!=0&&I[H][2]!=0&&I[H][0]==z){p=72*T*(H+1)+9*T+4;p+=(J[z].length-I[H][2])*T;if(Z[z][1]==3)p+=T;H++;H==I.length&&H--}else p+=T*J[z].length;z=0;for(F=
J[o.b][z]+1;o.v>F;){p+=T;if(I.length!=0&&I[H][0]==o.b&&I[H][2]==z+1){p=72*T*(H+1)+9*T+4;if(Z[o.b][1]==3)p+=T}z++;F+=J[o.b][z]+1}F-=J[o.b][z]+1;var V=W[Z[o.b][1]][1];V+=(o.v-F)*R;p+=T;for(note in notes)if(notes[note][0]==o.b)if(F<notes[note][1]&&F+J[o.b][z]+1>notes[note][1])if(notes[note][1]<o.v)V+=R;u=T*9+3;for(var M=H=0;M<r.b;M++)if(I.length!=0&&I[H][2]==0&&I[H][0]-1==M){u=72*T*(H+1)+9*T+4;H++;H==I.length&&H--}else if(I.length!=0&&I[H][2]!=0&&I[H][0]==M){u=72*T*(H+1)+9*T+4;u+=(J[M].length-I[H][2])*
T;if(Z[M][1]==3)u+=T;H++;H==I.length&&H--}else u+=T*J[M].length;M=0;for(t=J[r.b][M]+1;r.v>t;){u+=T;if(I.length!=0&&I[H][0]==r.b&&I[H][2]==M+1){u=72*T*(H+1)+9*T+4;if(Z[r.b][1]==3)u+=T}M++;t+=J[r.b][M]+1}t-=J[r.b][M]+1;H=W[Z[r.b][1]][1];H+=(r.v-t)*R;u+=T;for(note in notes)if(notes[note][0]==r.b)if(t<notes[note][1]&&t+J[r.b][M]+1>notes[note][1])if(notes[note][1]<r.v)H+=R;h.fillStyle="lightBlue";if(u==p){r=V;if(Z[o.b][1]==5)r-=Z[o.b][0].length*R;h.fillRect(r+m,p-K,H-V,12)}else{V=V;if(Z[o.b][1]==5)V-=
Z[o.b][0].length*R;for(h.fillRect(V+m,p-K,(F+J[o.b][z]-o.v)*R,12);p+T<u;){for(F=0;F<I.length;F++)if(I.length!=0&&I[F][0]-1==o.b&&I[F][2]==0&&z==J[o.b].length-1)p=72*T*(F+1)+9*T+4;else if(I.length!=0&&I[F][0]==o.b&&z==I[F][2]-1){p=72*T*(F+1)+9*T+4;if(Z[o.b][1]==3)p+=T}z++;p+=T;if(J[o.b].length<=z){o.b++;z=0}if(p!=u){F=W[Z[o.b][1]][1];if(Z[o.b][1]==5)F-=Z[o.b][0].length*R;h.fillRect(F+m,p-K,J[o.b][z]*R,12)}}o=W[Z[r.b][1]][1];if(Z[r.b][1]==5)o-=Z[r.b][0].length*R;h.fillRect(o+m,u-K,(r.v-t)*R,12)}if(!jj){if(N>
Q){o={b:Q,v:P};r={b:N,v:L}}else if(N==Q&&L>P){o={b:Q,v:P};r={b:N,v:L}}else{o={b:N,v:L};r={b:Q,v:P}}if(o.b==r.b)o=Z[o.b][0].slice(o.v,r.v);else{arr=[];arr.push([Z[o.b][0].slice(o.v),Z[o.b][1]]);for(o.b=o.b*1+1;o.b<r.b;){arr.push([Z[o.b][0],Z[o.b][1]]);o.b+=1}arr.push([Z[r.b][0].slice(0,r.v),Z[r.b][1]]);o=JSON.stringify(arr)}r=document.getElementById("ccp");r.value=o;if(!ij){r.focus();r.select()}}}h.fillStyle=wj;h.font=vj;t=T*11;r=[];z="";F=u=0;o=I.length;for(p=0;p<e;p++){V=f[p][0];M=f[p][1];M==0&&
F++;if(M==4){if(V.charAt(0)!="(")V="("+V;if(V.charAt(V.length-1)!=")")V+=")";Z[p][0]=V}H=false;if(!a)if(o!=0&&I[u]!=undefined&&I[u][0]==p)if(I[u][2]==0){t=72*T*(u+1)+11*T;u++;if(u>=o)u=o-2}else H=true;if(!a&&!H&&t-K<-200){t+=T*J[p].length;if(p==N){var ea=t;ga=[]}}else if(!a&&!H&&t-K>1200)break;else{var O=[];if(gj)for(note in notes)notes[note][0]==p&&O.push(notes[note][1]);O=O.sort(Ek);var S=W[M][0],vc=W[M][1],Fk=W[M][2],lg=W[M][3],Mi=W[M][4];if(p==N){ea=t-T;var $=vc,wc=true,ga=[]}if(p==Q)var hc=true,
mg=[];var ic=V.split(" "),Ra=0;J[p]=[];for(var Sa=0;Ra<ic.length;){var X=0;if(ic[Ra].length>=S){X=ic[Ra];if(lg==1)X=X.toUpperCase();var wa=X,xa=[];if(gj)for(note in O)if(O[note]>=V.length-X.length){wa=wa.substr(0,O[note]-Sa+xa.length)+" "+wa.substr(O[note]-Sa+xa.length);Dk(vc,t,O[note]-Sa+xa.length,h,p,m);xa.push(O[note])}h.fillText(wa,vc+m,t-K);J[p].push(X.length);t+=T;if(Mi==2){J[p].push(0);t+=T}Ra++;wc&&ga.push(X.length);hc&&mg.push(X.length)}else if(ic.slice(Ra).join().length<S){X=ic.slice(Ra).join(" ");
if(M==2&&z!=""&&V.toUpperCase()==z.toUpperCase())X+=" (Cont'd)";if(M==0)z="";if(lg==1)X=X.toUpperCase();if(Fk==1)h.textAlign="right";wa=X;xa=[];if(gj)for(note in O)if(O[note]>=V.length-X.length){wa=wa.substr(0,O[note]-Sa+xa.length)+" "+wa.substr(O[note]-Sa+xa.length);Dk(vc,t,O[note]-Sa+xa.length,h,p,m);xa.push(O[note])}X!=""&&h.fillText(wa,vc+m,t-K);h.textAlign="left";Ra=ic.length;J[p].push(X.length);t+=T;if(Mi==2){J[p].push(0);t+=T}wc&&ga.push(X.length);hc&&mg.push(X.length)}else{for(X=0;ic.slice(Ra,
Ra+X).join(" ").length<S;){newLineToPrint=ic.slice(Ra,Ra+X).join(" ");X++}if(lg==1)newLineToPrint=newLineToPrint.toUpperCase();wa=newLineToPrint;xa=[];if(gj)for(note in O)if(O[note]>=Sa&&O[note]<=Sa+newLineToPrint.length){wa=wa.substr(0,O[note]-Sa+xa.length)+" "+wa.substr(O[note]-Sa+xa.length);Dk(vc,t,O[note]-Sa+xa.length,h,p,m);xa.push(O[note])}Sa+=newLineToPrint.length+1;h.fillText(wa,vc+m,t-K);J[p].push(newLineToPrint.length);t+=T;Ra+=X-1;wc&&ga.push(newLineToPrint.length);hc&&mg.push(newLineToPrint.length)}if(M==
3&&p+1!=e&&f[p+1][1]==4&&J[p][J[p].length-1]==0){J[p].pop();t-=T}if(H&&J[p].length==I[u][2]){M==3&&h.fillText("(MORE)",W[2][1]+m,t-K);t=72*T*(u+1)+11*T;if(M==3){h.fillText(z.toUpperCase()+" (CONT'D)",W[2][1]+m,t-K);t+=T}u++;H=false;N==p&&r.push(u)}}hc=wc=false}if(M==2)z=V;if(p==N){ej=F;var xc=O}if(u>=o)u=o-2}for(;e<J.length;)J.pop();O=(new Date).getMilliseconds()-xj;e=false;if(O>0&&O<500)e=true;if(O<0&&O<-500)e=true;if(ga){var db=0;for(O=ga[db];L>O;){db++;O+=1+ga[db]}O-=ga[db];wc=0;for(note in xc){hc=
xc[note];hc<L&&hc>O&&hc<O+ga[db]&&wc++}note=null;if(r.length>0&&db>=I[r[0]-1][2]){ea=72*r[0]*T+9*T;if(f[N][1]==3){ea+=T*2;db-=I[r[0]-1][2]}else if(f[N][1]==1){db-=I[r[0]-1][2];ea+=T}}if(e){m=$+(L-O+wc)*R+m;if(f[N][1]==5)m-=f[N][0].length*R;fj=2+ea+db*T-K;try{h.fillRect(m,fj,2,17)}catch(Gk){}}db=null}h.lineWidth=4;h.strokeStyle="#ddd";h.beginPath();h.moveTo(2,2);h.lineTo(2,g-1);h.lineTo(Y,g-1);h.lineTo(Y,2);h.stroke();h.fillStyle="#ccc";h.fillRect(2,g-24,Y-25,24);h.strokeStyle="#aaa";h.lineWidth=1;
h.beginPath();h.moveTo(1.5,g-25.5);h.lineTo(1.5,g-1.5);h.lineTo(Y-22.5,g-1.5);h.lineTo(Y-22.5,g-25.5);h.closePath();h.strokeStyle="#999";h.stroke();h.beginPath();h.moveTo(0.5,g-24.5);h.lineTo(0.5,g-0.5);h.lineTo(Y-21.5,g-0.5);h.lineTo(Y-21.5,g-24.5);h.closePath();h.strokeStyle="#333";h.stroke();m="Page "+dj+" of "+(o+1);h.font="10pt sans-serif";h.fillStyle="#000";h.fillText(m,Y-150,g-8);h.fillText(["Enter : Action  --  Tab : Character","Enter : Character  --  Tab : Slugline","Enter : Dialog  --  Tab : Action",
"Enter : Character  --  Tab : Parenthetical","Enter : Dialog  --  Tab : Dialog","Enter : Slugline  --  Tab : Slugline"][f[N][1]],15,g-8);h.fillText("Scene "+ej+" of "+rj.length,Y/2-30,g-8);h.font=vj;m=document.getElementById("canvas").height;h.fillStyle="#333";h.fillRect(Y-21,m-39,21,20);h.fillStyle="#ddd";h.fillRect(Y-19,m-37,16,16);h.beginPath();h.moveTo(Y-16,m-24);h.lineTo(Y-10.5,m-35);h.lineTo(Y-5,m-24);h.closePath();h.fillStyle="#333";h.fill();h.fillStyle="#333";h.fillRect(Y-21,m-19,20,20);h.fillStyle=
"#ddd";h.fillRect(Y-19,m-18,16,16);h.beginPath();h.moveTo(Y-16,m-15);h.lineTo(Y-10.5,m-4);h.lineTo(Y-5,m-15);h.closePath();h.fillStyle="#333";h.fill();m=h.createLinearGradient(Y-15,0,Y,0);m.addColorStop(0,"#5587c4");m.addColorStop(0.8,"#95a7d4");h.strokeStyle="#333";h.fillStyle=m;$=document.getElementById("canvas").height;ga=(I.length+1)*72*T+40;m=$/ga*($-39);if(m<20)m=20;if(m>=$-39)m=$-39;$=K/(ga-$)*($-39-m);h.fillRect(Y-18.5,$+8,16,m-17);h.strokeRect(Y-18.5,$+8,16,m-17);h.beginPath();h.arc(Y-10.5,
$+9,8,0,Math.PI,true);h.fill();h.stroke();h.beginPath();h.arc(Y-10.5,$+m-11,8,0,Math.PI,false);h.fill();h.stroke();for(ga=$;ga<$+m;){xc=h.createRadialGradient(Y,ga+10,4,Y+200,ga,10);xc.addColorStop(0,"rgba(100,140,210,0.4)");xc.addColorStop(0.4,"rgba(180,160,240,0.4)");xc.addColorStop(1,"rgba(1,159,98,0)");h.fillStyle=xc;h.fillRect(Y-18.5,$+8,16,m-17);ga+=20}h.beginPath();h.moveTo(Y-7,$+9);h.lineTo(Y-7,$+m-10);h.lineCap="round";h.strokeStyle="rgba(200,220,255,0.3)";h.lineWidth=4;h.stroke();h.beginPath();
h.moveTo(Y-9,$+10);h.lineTo(Y-9,$+m-10);h.strokeStyle="rgba(200,220,255,0.1)";h.lineWidth=2;h.stroke();a:{I=[];for(h=i=0;i<Z.length;){for(lineCount=h;lineCount+J[i].length<56;){lineCount+=J[i].length;i++;if(i==Z.length)break a}h=m=0;if(Z[i][1]==3&&lineCount<54&&lineCount+J[i].length>57){m=55-lineCount;h=1-m;lineCount=56}else if(Z[i][1]==3&&lineCount<54&&J[i].length>4){m=J[i].length-3;h=1-m;lineCount=55}else if(Z[i][1]==1&&lineCount<55&&lineCount+J[i].length>57){m=55-lineCount;h=1-m;lineCount=56}else if(Z[i][1]==
1&&lineCount<55&&J[i].length>4){m=J[i].length-3;h=1-m;lineCount=55}else for(;Z[i-1][1]==0||Z[i-1][1]==2||Z[i-1][1]==4;){i--;lineCount-=J[i].length}I.push([i,lineCount,m])}}nj&&N<Q&&mj<40&&Qj(-20);nj&&N>Q&&mj>g-50&&Qj(20);if(d=="enter"){if(fj>g)Qj(600);else if(d)if(2+ea+db*T-K>g-60)Qj(45);else fj<45&&Qj(-45);document.getElementById("format").selectedIndex=f[N][1]}for(p=0;p<=5;p++)af(Fe(Fj,"format"+p),f[N][1]==p?true:false)}};
